// ==UserScript==
// @name          TagPro Scoreboard
// @description   Player/Team/Powerup/Score overview for TagPro, mainly for streamers.
// @version       0.3
// @author        Kera
// @grant         GM_getValue
// @grant         GM_setValue
// @namespace     http://keratagpro.github.io/tagpro-scoreboard
// @icon          http://keratagpro.github.io/tagpro-scoreboard/images/score.png
// @downloadUrl   https://keratagpro.github.io/tagpro-scoreboard/tagpro-scoreboard.user.js
// @updateUrl     https://keratagpro.github.io/tagpro-scoreboard/tagpro-scoreboard.meta.js
// @include       http://tagpro-*.koalabeast.com:*
// @include       http://tangent.jukejuice.com:*
// @include       http://*.newcompte.fr:*
// ==/UserScript==

!function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var u="function"==typeof require&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var p=n[s]={exports:{}};t[s][0].call(p.exports,function(e){var n=t[s][1][e];return i(n?n:e)},p,p.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e){(function(t){var n=window;n.tagpro=tagpro||("undefined"!=typeof window?window.tagpro:"undefined"!=typeof t?t.tagpro:null),n.$=$||("undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null),tagpro.ready(function(){$(document.body).append('<div id="kera-scoreboard-container"></div>'),window.keraScoreboard=e("./main"),console.log("Kera TagPro Scoreboard initialized.")})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main":22}],2:[function(){(function(e){var t="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null;!function(e,t){function n(t,n){var i,o,s,a=t.nodeName.toLowerCase();return"area"===a?(i=t.parentNode,o=i.name,t.href&&o&&"map"===i.nodeName.toLowerCase()?(s=e("img[usemap=#"+o+"]")[0],!!s&&r(s)):!1):(/input|select|textarea|button|object/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&r(t)}function r(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}var i=0,o=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return"number"==typeof n?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return t=e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length)for(var r,i,o=e(this[0]);o.length&&o[0]!==document;){if(r=o.css("position"),("absolute"===r||"relative"===r||"fixed"===r)&&(i=parseInt(o.css("zIndex"),10),!isNaN(i)&&0!==i))return i;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var r=e.attr(t,"tabindex"),i=isNaN(r);return(i||r>=0)&&n(t,!i)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function i(t,n,r,i){return e.each(o,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),i&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var o="Width"===r?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),a={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?a["inner"+r].call(this):this.each(function(){e(this).css(s,i(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return"number"!=typeof t?a["outer"+r].call(this,t):this.each(function(){e(this).css(s,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,o=e.ui[t].prototype;for(i in r)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(i&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if("hidden"===e(t).css("overflow"))return!1;var r=n&&"left"===n?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],3:[function(e){(function(t){var n="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;e("./core"),e("./mouse"),e("./widget"),function(e){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),"original"!==this.options.helper||e.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!r||"valid"===this.options.revert&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1):!1},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):"clone"===n.helper?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo("parent"===n.appendTo?this.element[0].parentNode:n.appendTo),r[0]===this.element[0]||/(fixed|absolute)/.test(r.css("position"))||r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;return i.containment?"window"===i.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===i.containment?void(this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):i.containment.constructor===Array?void(this.containment=i.containment):("parent"===i.containment&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0],void(r&&(t="hidden"!==n.css("overflow"),this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n))):void(this.containment=null)},_convertPositionTo:function(t,n){n||(n=this.position);var r="absolute"===t?1:-1,i="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,o,s=this.options,a="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,u=t.pageX,c=t.pageY;return this.offset.scroll||(this.offset.scroll={top:a.scrollTop(),left:a.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(u=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(c=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(u=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(c=n[3]+this.offset.click.top)),s.grid&&(i=s.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/s.grid[1])*s.grid[1]:this.originalPageY,c=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-s.grid[1]:i+s.grid[1]:i,o=s.grid[0]?this.originalPageX+Math.round((u-this.originalPageX)/s.grid[0])*s.grid[0]:this.originalPageX,u=n?o-this.offset.click.left>=n[0]||o-this.offset.click.left>n[2]?o:o-this.offset.click.left>=n[0]?o-s.grid[0]:o+s.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:u-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),"drag"===t&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,o=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,o))})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,"original"===r.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var o=!1,s=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==s&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(s.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;n.scrollParent[0]!==document&&"HTML"!==n.scrollParent[0].tagName?(r.axis&&"x"===r.axis||(n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed)),r.axis&&"y"===r.axis||(n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed))):(r.axis&&"x"===r.axis||(t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed))),r.axis&&"y"===r.axis||(t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed)))),i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,o,s,a,u,c,p,l,h,d=e(this).data("ui-draggable"),f=d.options,m=f.snapTolerance,g=n.offset.left,v=g+d.helperProportions.width,b=n.offset.top,w=b+d.helperProportions.height;for(l=d.snapElements.length-1;l>=0;l--)a=d.snapElements[l].left,u=a+d.snapElements[l].width,c=d.snapElements[l].top,p=c+d.snapElements[l].height,a-m>v||g>u+m||c-m>w||b>p+m||!e.contains(d.snapElements[l].item.ownerDocument,d.snapElements[l].item)?(d.snapElements[l].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[l].item})),d.snapElements[l].snapping=!1):("inner"!==f.snapMode&&(r=Math.abs(c-w)<=m,i=Math.abs(p-b)<=m,o=Math.abs(a-v)<=m,s=Math.abs(u-g)<=m,r&&(n.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),i&&(n.position.top=d._convertPositionTo("relative",{top:p,left:0}).top-d.margins.top),o&&(n.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left),s&&(n.position.left=d._convertPositionTo("relative",{top:0,left:u}).left-d.margins.left)),h=r||i||o||s,"outer"!==f.snapMode&&(r=Math.abs(c-b)<=m,i=Math.abs(p-w)<=m,o=Math.abs(a-g)<=m,s=Math.abs(u-v)<=m,r&&(n.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),i&&(n.position.top=d._convertPositionTo("relative",{top:p-d.helperProportions.height,left:0}).top-d.margins.top),o&&(n.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left),s&&(n.position.left=d._convertPositionTo("relative",{top:0,left:u-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[l].snapping&&(r||i||o||s||h)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,t,e.extend(d._uiHash(),{snapItem:d.snapElements[l].item})),d.snapElements[l].snapping=r||i||o||s||h)}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});r.length&&(t=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":2,"./mouse":4,"./widget":6}],4:[function(e){(function(t){var n="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;e("./widget"),function(e){var t=!1;e(document).mouseup(function(){t=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){return!0===e.data(n.target,t.widgetName+".preventClickEvent")?(e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var r=this,i=1===n.which,o="string"==typeof this.options.cancel&&n.target.nodeName?e(n.target).closest(this.options.cancel).length:!1;return i&&!o&&this._mouseCapture(n)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=this._mouseStart(n)!==!1,!this._mouseStarted)?(n.preventDefault(),!0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,!0)):!0}},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./widget":6}],5:[function(e){(function(t){var n="undefined"!=typeof window?window.$:"undefined"!=typeof t?t.$:null;e("./core"),e("./mouse"),e("./widget"),function(e){function t(e){return parseInt(e,10)||0}function n(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,r,i,o,s=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},n=0;n<t.length;n++)r=e.trim(t[n]),o="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+o+"'></div>"),i.css({zIndex:a.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i);this._renderAxis=function(t){var n,r,i,o;t=t||this.element;for(n in this.handles)this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),o=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,o),this._proportionallyResize()),e(this.handles[n]).length},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=i&&i[1]?i[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){a.disabled||s.resizing||(e(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles)r=e(this.handles[n])[0],(r===t.target||e.contains(r,t.target))&&(i=!0);return!this.options.disabled&&i},_mouseStart:function(n){var r,i,o,s=this.options,a=this.element.position(),u=this.element;return this.resizing=!0,/absolute/.test(u.css("position"))?u.css({position:"absolute",top:u.css("top"),left:u.css("left")}):u.is(".ui-draggable")&&u.css({position:"absolute",top:a.top,left:a.left}),this._renderProxy(),r=t(this.helper.css("left")),i=t(this.helper.css("top")),s.containment&&(r+=e(s.containment).scrollLeft()||0,i+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:u.width(),height:u.height()},this.originalSize=this._helper?{width:u.outerWidth(),height:u.outerHeight()}:{width:u.width(),height:u.height()},this.originalPosition={left:r,top:i},this.sizeDiff={width:u.outerWidth()-u.width(),height:u.outerHeight()-u.height()},this.originalMousePosition={left:n.pageX,top:n.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),u.addClass("ui-resizable-resizing"),this._propagate("start",n),!0
},_mouseDrag:function(t){var n,r=this.helper,i={},o=this.originalMousePosition,s=this.axis,a=this.position.top,u=this.position.left,c=this.size.width,p=this.size.height,l=t.pageX-o.left||0,h=t.pageY-o.top||0,d=this._change[s];return d?(n=d.apply(this,[t,l,h]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(n=this._updateRatio(n,t)),n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==a&&(i.top=this.position.top+"px"),this.position.left!==u&&(i.left=this.position.left+"px"),this.size.width!==c&&(i.width=this.size.width+"px"),this.size.height!==p&&(i.height=this.size.height+"px"),r.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1):!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,o,s,a,u,c=this.options,p=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&e.ui.hasScroll(n[0],"left")?0:p.sizeDiff.height,o=r?0:p.sizeDiff.width,s={width:p.helper.width()-o,height:p.helper.height()-i},a=parseInt(p.element.css("left"),10)+(p.position.left-p.originalPosition.left)||null,u=parseInt(p.element.css("top"),10)+(p.position.top-p.originalPosition.top)||null,c.animate||this.element.css(e.extend(s,{top:u,left:a})),p.helper.height(p.size.height),p.helper.width(p.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,r,i,o,s,a=this.options;s={minWidth:n(a.minWidth)?a.minWidth:0,maxWidth:n(a.maxWidth)?a.maxWidth:1/0,minHeight:n(a.minHeight)?a.minHeight:0,maxHeight:n(a.maxHeight)?a.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,i=s.minWidth/this.aspectRatio,r=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),i>s.minHeight&&(s.minHeight=i),r<s.maxWidth&&(s.maxWidth=r),o<s.maxHeight&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),n(e.left)&&(this.position.left=e.left),n(e.top)&&(this.position.top=e.top),n(e.height)&&(this.size.height=e.height),n(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,r=this.size,i=this.axis;return n(e.height)?e.width=e.height*this.aspectRatio:n(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===i&&(e.left=t.left+(r.width-e.width),e.top=null),"nw"===i&&(e.top=t.top+(r.height-e.height),e.left=t.left+(r.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,r=this.axis,i=n(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=n(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=n(e.width)&&t.minWidth&&t.minWidth>e.width,a=n(e.height)&&t.minHeight&&t.minHeight>e.height,u=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,p=/sw|nw|w/.test(r),l=/nw|ne|n/.test(r);return s&&(e.width=t.minWidth),a&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&p&&(e.left=u-t.minWidth),i&&p&&(e.left=u-t.maxWidth),a&&l&&(e.top=c-t.minHeight),o&&l&&(e.top=c-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,n,r,i,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(i=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")],t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(r[t],10)||0);i.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),"resize"!==t&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),r=n.options,i=n._proportionallyResizeElements,o=i.length&&/textarea/i.test(i[0].nodeName),s=o&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,a=o?0:n.sizeDiff.width,u={width:n.size.width-a,height:n.size.height-s},c=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,p=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(u,p&&c?{top:p,left:c}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var n,r,i,o,s,a,u,c=e(this).data("ui-resizable"),p=c.options,l=c.element,h=p.containment,d=h instanceof e?h.get(0):/parent/.test(h)?l.parent().get(0):h;d&&(c.containerElement=e(d),/document/.test(h)||h===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(n=e(d),r=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=t(n.css("padding"+i))}),c.containerOffset=n.offset(),c.containerPosition=n.position(),c.containerSize={height:n.innerHeight()-r[3],width:n.innerWidth()-r[1]},i=c.containerOffset,o=c.containerSize.height,s=c.containerSize.width,a=e.ui.hasScroll(d,"left")?d.scrollWidth:s,u=e.ui.hasScroll(d)?d.scrollHeight:o,c.parentData={element:d,left:i.left,top:i.top,width:a,height:u}))},resize:function(t){var n,r,i,o,s=e(this).data("ui-resizable"),a=s.options,u=s.containerOffset,c=s.position,p=s._aspectRatio||t.shiftKey,l={top:0,left:0},h=s.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(l=u),c.left<(s._helper?u.left:0)&&(s.size.width=s.size.width+(s._helper?s.position.left-u.left:s.position.left-l.left),p&&(s.size.height=s.size.width/s.aspectRatio),s.position.left=a.helper?u.left:0),c.top<(s._helper?u.top:0)&&(s.size.height=s.size.height+(s._helper?s.position.top-u.top:s.position.top),p&&(s.size.width=s.size.height*s.aspectRatio),s.position.top=s._helper?u.top:0),s.offset.left=s.parentData.left+s.position.left,s.offset.top=s.parentData.top+s.position.top,n=Math.abs((s._helper?s.offset.left-l.left:s.offset.left-l.left)+s.sizeDiff.width),r=Math.abs((s._helper?s.offset.top-l.top:s.offset.top-u.top)+s.sizeDiff.height),i=s.containerElement.get(0)===s.element.parent().get(0),o=/relative|absolute/.test(s.containerElement.css("position")),i&&o&&(n-=Math.abs(s.parentData.left)),n+s.size.width>=s.parentData.width&&(s.size.width=s.parentData.width-n,p&&(s.size.height=s.size.width/s.aspectRatio)),r+s.size.height>=s.parentData.height&&(s.size.height=s.parentData.height-r,p&&(s.size.width=s.size.height*s.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,o=t.containerElement,s=e(t.helper),a=s.offset(),u=s.outerWidth()-t.sizeDiff.width,c=s.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:u,height:c}),t._helper&&!n.animate&&/static/.test(o.css("position"))&&e(this).css({left:a.left-i.left-r.left,width:u,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};"object"!=typeof n.alsoResize||n.alsoResize.parentNode?r(n.alsoResize):n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)})},resize:function(t,n){var r=e(this).data("ui-resizable"),i=r.options,o=r.originalSize,s=r.originalPosition,a={height:r.size.height-o.height||0,width:r.size.width-o.width||0,top:r.position.top-s.top||0,left:r.position.left-s.left||0},u=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),o={},s=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var n=(i[t]||0)+(a[t]||0);n&&n>=0&&(o[t]=n||null)}),t.css(o)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?u(i.alsoResize):e.each(i.alsoResize,function(e,t){u(e,t)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof n.ghost?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size,i=t.originalSize,o=t.originalPosition,s=t.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=a[0]||1,c=a[1]||1,p=Math.round((r.width-i.width)/u)*u,l=Math.round((r.height-i.height)/c)*c,h=i.width+p,d=i.height+l,f=n.maxWidth&&n.maxWidth<h,m=n.maxHeight&&n.maxHeight<d,g=n.minWidth&&n.minWidth>h,v=n.minHeight&&n.minHeight>d;n.grid=a,g&&(h+=u),v&&(d+=c),f&&(h-=u),m&&(d-=c),/^(se|s|e)$/.test(s)?(t.size.width=h,t.size.height=d):/^(ne)$/.test(s)?(t.size.width=h,t.size.height=d,t.position.top=o.top-l):/^(sw)$/.test(s)?(t.size.width=h,t.size.height=d,t.position.left=o.left-p):(d-c>0?(t.size.height=d,t.position.top=o.top-l):(t.size.height=c,t.position.top=o.top+i.height-c),h-u>0?(t.size.width=h,t.position.left=o.left-p):(t.size.width=u,t.position.left=o.left+i.width-u))}})}(n)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./core":2,"./mouse":4,"./widget":6}],6:[function(){(function(e){var t="undefined"!=typeof window?window.$:"undefined"!=typeof e?e.$:null;!function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n,r=0;null!=(n=t[r]);r++)try{e(n).triggerHandler("remove")}catch(o){}i(t)},e.widget=function(t,n,r){var i,o,s,a,u={},c=t.split(".")[0];t=t.split(".")[1],i=c+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[c]=e[c]||{},o=e[c][t],s=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new s(e,t)},e.extend(s,o,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),a=new n,a.options=e.widget.extend({},a.options),e.each(r,function(t,r){return e.isFunction(r)?void(u[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=i,t=r.apply(this,arguments),this._super=n,this._superApply=o,t}}()):void(u[t]=r)}),s.prototype=e.widget.extend(a,{widgetEventPrefix:o?a.widgetEventPrefix||t:t},u,{constructor:s,namespace:c,widgetName:t,widgetFullName:i}),o?(e.each(o._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,s,n._proto)}),delete o._childConstructors):n._childConstructors.push(s),e.widget.bridge(t,s)},e.widget.extend=function(n){for(var i,o,s=r.call(arguments,1),a=0,u=s.length;u>a;a++)for(i in s[a])o=s[a][i],s[a].hasOwnProperty(i)&&o!==t&&(n[i]=e.isPlainObject(o)?e.isPlainObject(n[i])?e.widget.extend({},n[i],o):e.widget.extend({},o):o);return n},e.widget.bridge=function(n,i){var o=i.prototype.widgetFullName||n;e.fn[n]=function(s){var a="string"==typeof s,u=r.call(arguments,1),c=this;return s=!a&&u.length?e.widget.extend.apply(null,[s].concat(u)):s,this.each(a?function(){var r,i=e.data(this,o);return i?e.isFunction(i[s])&&"_"!==s.charAt(0)?(r=i[s].apply(i,u),r!==i&&r!==t?(c=r&&r.jquery?c.pushStack(r.get()):r,!1):void 0):e.error("no such method '"+s+"' for "+n+" widget instance"):e.error("cannot call methods on "+n+" prior to initialization; attempted to call method '"+s+"'")}:function(){var t=e.data(this,o);t?t.option(s||{})._init():e.data(this,o,new i(s,this))}),c}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i,o,s,a=n;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof n)if(a={},i=n.split("."),n=i.shift(),i.length){for(o=a[n]=e.widget.extend({},this.options[n]),s=0;s<i.length-1;s++)o[i[s]]=o[i[s]]||{},o=o[i[s]];if(n=i.pop(),1===arguments.length)return o[n]===t?null:o[n];o[n]=r}else{if(1===arguments.length)return this.options[n]===t?null:this.options[n];a[n]=r}return this._setOptions(a),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,o=this;"boolean"!=typeof t&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,s){function a(){return t||o.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof s?o[s]:s).apply(o,arguments):void 0}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var u=r.match(/^(\w+)\s*(.*)$/),c=u[1]+o.eventNamespace,p=u[2];p?i.delegate(p,c,a):n.bind(c,a)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return("string"==typeof e?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,o,s=this.options[t];if(r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(i in o)i in n||(n[i]=o[i]);return this.element.trigger(n,r),!(e.isFunction(s)&&s.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,o){"string"==typeof i&&(i={effect:i});var s,a=i?i===!0||"number"==typeof i?n:i.effect||n:t;i=i||{},"number"==typeof i&&(i={duration:i}),s=!e.isEmptyObject(i),i.complete=o,i.delay&&r.delay(i.delay),s&&e.effects&&e.effects.effect[a]?r[t](i):a!==t&&r[a]?r[a](i.duration,i.easing,o):r.queue(function(n){e(this)[t](),o&&o.call(r[0]),n()})}})}(t)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],7:[function(e,t){!function(e){"use strict";var n=e.Ractive,r=function(){var e={el:void 0,append:!1,template:{v:1,t:[]},"yield":null,preserveWhitespace:!1,sanitize:!1,stripComments:!0,data:{},computed:{},magic:!1,modifyArrays:!0,adapt:[],isolated:!1,twoway:!0,lazy:!1,noIntro:!1,transitionsEnabled:!0,complete:void 0,noCssTransform:!1,debug:!1};return e}(),i={linear:function(e){return e},easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)}},o=[],s=Object.prototype.hasOwnProperty,a=function(){var e=Object.prototype.toString;return function(t){return"[object Array]"===e.call(t)}}(),u=function(){var e=Object.prototype.toString;return function(t){return t&&"[object Object]"===e.call(t)}}(),c=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},p=function(e,t,n,r,i){var o,s,a;return e.push(function(){s=e.interpolate}),a=/^([+-]?[0-9]+\.?(?:[0-9]+)?)(px|em|ex|%|in|cm|mm|pt|pc)$/,o={number:function(e,t){var n;return i(e)&&i(t)?(e=+e,t=+t,n=t-e,n?function(t){return e+t*n}:function(){return e}):null},array:function(e,t){var r,i,o,a;if(!n(e)||!n(t))return null;for(r=[],i=[],a=o=Math.min(e.length,t.length);a--;)i[a]=s(e[a],t[a]);for(a=o;a<e.length;a+=1)r[a]=e[a];for(a=o;a<t.length;a+=1)r[a]=t[a];return function(e){for(var t=o;t--;)r[t]=i[t](e);return r}},object:function(e,n){var i,o,a,u,c;if(!r(e)||!r(n))return null;i=[],u={},a={};for(c in e)t.call(e,c)&&(t.call(n,c)?(i.push(c),a[c]=s(e[c],n[c])):u[c]=e[c]);for(c in n)t.call(n,c)&&!t.call(e,c)&&(u[c]=n[c]);return o=i.length,function(e){for(var t,n=o;n--;)t=i[n],u[t]=a[t](e);return u}}}}(o,s,a,u,c),l=function(){var e;return e="undefined"==typeof document?!1:document&&document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")}(),h=function(){var e,t={};return e="undefined"!=typeof console&&"function"==typeof console.warn&&"function"==typeof console.warn.apply?function(e,n){if(!n){if(t[e])return;t[e]=!0}console.warn("%cRactive.js: %c"+e,"color: rgb(114, 157, 52);","color: rgb(85, 85, 85);")}:function(){}}(),d={missingParser:"Missing Ractive.parse - cannot parse template. Either preparse or use the version that includes the parser",mergeComparisonFail:"Merge operation: comparison failed. Falling back to identity checking",noComponentEventArguments:"Components currently only support simple events - you cannot include arguments. Sorry!",noTemplateForPartial:'Could not find template for partial "{name}"',noNestedPartials:"Partials ({{>{name}}}) cannot contain nested inline partials",evaluationError:'Error evaluating "{uniqueString}": {err}',badArguments:"Bad arguments \"{arguments}\". I'm not allowed to argue unless you've paid.",failedComputation:'Failed to compute "{key}": {err}',missingPlugin:'Missing "{name}" {plugin} plugin. You may need to download a {plugin} via http://docs.ractivejs.org/latest/plugins#{plugin}s',badRadioInputBinding:"A radio input can have two-way binding on its name attribute, or its checked attribute - not both",noRegistryFunctionReturn:'A function was specified for "{name}" {registry}, but no {registry} was returned',defaultElSpecified:"The <{name}/> component has a default `el` property; it has been disregarded",noElementProxyEventWildcards:'Only component proxy-events may contain "*" wildcards, <{element} on-{event}/> is not valid.',methodDeprecated:'The method "{deprecated}" has been deprecated in favor of "{replacement}" and will likely be removed in a future release. See http://docs.ractivejs.org/latest/migrating for more information.'},f=function(e,t){function n(e){var n=t[e.message]||e.message||"";return r(n,e.args)}function r(e,t){return e.replace(/{([^{}]*)}/g,function(e,n){return t[n]})}var i={warn:function(e,t){(e.debug||t)&&this.warnAlways(e)},warnAlways:function(e){this.logger(n(e),e.allowDuplicates)},error:function(e){this.errorOnly(e),e.debug||this.warn(e,!0)},errorOnly:function(e){e.debug&&this.critical(e)},critical:function(e){var t=e.err||new Error(n(e));this.thrower(t)},logger:e,thrower:function(e){throw e}};return i}(h,d),m=function(e){function t(e){this.event=e,this.method="on"+e,this.deprecate=n[e]}var n={construct:{deprecated:"beforeInit",replacement:"onconstruct"},render:{deprecated:"init",message:'The "init" method has been deprecated and will likely be removed in a future release. You can either use the "oninit" method which will fire only once prior to, and regardless of, any eventual ractive instance being rendered, or if you need to access the rendered DOM, use "onrender" instead. See http://docs.ractivejs.org/latest/migrating for more information.'},complete:{deprecated:"complete",replacement:"oncomplete"}};return t.prototype.fire=function(t,n){function r(e){return t[e]?(n?t[e](n):t[e](),!0):void 0}r(this.method),!t[this.method]&&this.deprecate&&r(this.deprecate.deprecated)&&e.warnAlways({debug:t.debug,message:this.deprecate.message||"methodDeprecated",args:this.deprecate}),n?t.fire(this.event,n):t.fire(this.event)},t}(f),g=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},v=function(){function e(e){setTimeout(e,0)}function t(e,t){return function(){for(var n;n=e.shift();)n(t)}}function n(e,t,r,o){var s;if(t===e)throw new TypeError("A promise's fulfillment handler cannot return the same promise");if(t instanceof i)t.then(r,o);else if(!t||"object"!=typeof t&&"function"!=typeof t)r(t);else{try{s=t.then}catch(a){return void o(a)}if("function"==typeof s){var u,c,p;c=function(t){u||(u=!0,n(e,t,r,o))},p=function(e){u||(u=!0,o(e))};try{s.call(t,c,p)}catch(a){if(!u)return o(a),void(u=!0)}}else r(t)}}var r,i,o={},s={},a={};return"function"==typeof v?i=v:(i=function(r){var u,c,p,l,h,d,f=[],m=[],g=o;p=function(n){return function(r){g===o&&(u=r,g=n,c=t(g===s?f:m,u),e(c))}},l=p(s),h=p(a);try{r(l,h)}catch(v){h(v)}return d={then:function(t,r){var s=new i(function(i,a){var u=function(e,t,r){t.push("function"==typeof e?function(t){var r;try{r=e(t),n(s,r,i,a)}catch(o){a(o)}}:r)};u(t,f,i),u(r,m,a),g!==o&&e(c)});return s}},d["catch"]=function(e){return this.then(null,e)},d},i.all=function(e){return new i(function(t,n){var r,i,o,s=[];if(!e.length)return void t(s);for(o=function(i){e[i].then(function(e){s[i]=e,--r||t(s)},n)},r=i=e.length;i--;)o(i)})},i.resolve=function(e){return new i(function(t){t(e)})},i.reject=function(e){return new i(function(t,n){n(e)})}),r=i}(),b=function(){var e=/\[\s*(\*|[0-9]|[1-9][0-9]+)\s*\]/g;return function(t){return(t||"").replace(e,".$1")}}(),w=function(e){do if(void 0!==e.context)return e.context;while(e=e.parent);return""},y=function(e,t){return null===e&&null===t?!0:"object"==typeof e||"object"==typeof t?!1:e===t},k=function(e,t){function n(e,t){var n=e.computations[t];return!n||n.setter}var r;e.push(function(){return r=e.runloop});var i=function(e,t,n,r){var i=this;this.root=e,this.keypath=t,this.otherInstance=n,this.otherKeypath=r,this.lock=function(){return i.updating=!0},this.unlock=function(){return i.updating=!1},this.bind(),this.value=this.root.viewmodel.get(this.keypath)};return i.prototype={isLocked:function(){return this.updating||this.counterpart&&this.counterpart.updating},shuffle:function(e,t){this.propagateChange(t,e)},setValue:function(e){this.propagateChange(e)},propagateChange:function(e,i){var o;return this.isLocked()?void(this.value=e):void(t(e,this.value)||(this.lock(),r.addViewmodel(o=this.otherInstance.viewmodel)||this.counterpart.value===e||r.scheduleTask(function(){return r.addViewmodel(o)}),i?o.smartUpdate(this.otherKeypath,e,i):n(o,this.otherKeypath)&&o.set(this.otherKeypath,e),this.value=e,r.scheduleTask(this.unlock)))},refineValue:function(e){var t,n=this;this.isLocked()||(this.lock(),r.addViewmodel(t=this.otherInstance.viewmodel),e.map(function(e){return n.otherKeypath+e.substr(n.keypath.length)}).forEach(function(e){return t.mark(e)}),r.scheduleTask(this.unlock))},bind:function(){this.root.viewmodel.register(this.keypath,this)},rebind:function(e){this.unbind(),this.keypath=e,this.counterpart.otherKeypath=e,this.bind()},unbind:function(){this.root.viewmodel.unregister(this.keypath,this)}},function(e,t,n,r){var o,s,a,u,c;o=n+"="+r,a=e.bindings,a[o]||(s=e.instance,u=new i(t,n,s,r),a.push(u),s.twoway&&(c=new i(s,r,t,n),a.push(c),u.counterpart=c,c.counterpart=u),a[o]=u)}}(o,y),x=function(e,t,n){function r(e,t){var n;if("."===t)return e;if(n=e?e.split("."):[],"../"===t.substr(0,3)){for(;"../"===t.substr(0,3);){if(!n.length)throw new Error(o);n.pop(),t=t.substring(3)}return n.push(t),n.join(".")}return e?e+t.replace(/^\.\//,"."):t.replace(/^\.\/?/,"")}var i,o,s;return o='Could not resolve reference - too many "../" prefixes',s={evaluateWrapped:!0},i=function a(i,o,u,c){var p,l,h,d,f,m,g,v,b,w;if(o=e(o),"~/"===o.substr(0,2))return o.substring(2);if("."===o.charAt(0))return r(t(u),o);l=o.split(".")[0],u=u||{};do if(p=u.context,p&&(m=!0,f=i.viewmodel.get(p,s),f&&("object"==typeof f||"function"==typeof f)&&l in f))return p+"."+o;while(u=u.parent);if(l in i.data||l in i.viewmodel.computations)return o;if(i._parent&&!i.isolated){if(m=!0,u=i.component.parentFragment,u.indexRefs&&void 0!==(h=u.indexRefs[o]))return i.component.indexRefBindings[o]=o,void i.viewmodel.set(o,h,!0);if(d=a(i._parent,o,u,!0)){for(g=d.split("."),v=o.split(".");g.length>1&&v.length>1&&g[g.length-1]===v[v.length-1];)g.pop(),v.pop();return b=g.join("."),w=v.join("."),i.viewmodel.set(w,i._parent.viewmodel.get(b),!0),n(i.component,i._parent,b,w),o}}return c||m?void 0!==i.viewmodel.get(o)?o:void 0:(i.viewmodel.set(o,void 0),o)}}(b,w,k),_=function(e){function t(e){e.detach()}function n(e){e.detachNodes()}function r(e){!e.ready||e.outros.length||e.outroChildren||(e.outrosComplete||(e.parent?e.parent.decrementOutros(e):e.detachNodes(),e.outrosComplete=!0),e.intros.length||e.totalChildren||("function"==typeof e.callback&&e.callback(),e.parent&&e.parent.decrementTotal()))}var i=function(e,t){this.callback=e,this.parent=t,this.intros=[],this.outros=[],this.children=[],this.totalChildren=this.outroChildren=0,this.detachQueue=[],this.outrosComplete=!1,t&&t.addChild(this)};return i.prototype={addChild:function(e){this.children.push(e),this.totalChildren+=1,this.outroChildren+=1},decrementOutros:function(){this.outroChildren-=1,r(this)},decrementTotal:function(){this.totalChildren-=1,r(this)},add:function(e){var t=e.isIntro?this.intros:this.outros;t.push(e)},remove:function(t){var n=t.isIntro?this.intros:this.outros;e(n,t),r(this)},init:function(){this.ready=!0,r(this)},detachNodes:function(){this.detachQueue.forEach(t),this.children.forEach(n)}},i}(g),E=function(e,t,n,r,i,o){function s(){var e,t,n;for(e=0;e<p.viewmodels.length;e+=1)t=p.viewmodels[e],n=t.applyChanges(),n&&d.fire(t.ractive,n);for(p.viewmodels.length=0,a(),e=0;e<p.views.length;e+=1)p.views[e].update();for(p.views.length=0,e=0;e<p.tasks.length;e+=1)p.tasks[e]();return p.tasks.length=0,p.viewmodels.length?s():void 0}function a(){var e,t,n,r;for(e=h.length;e--;)t=h[e],t.keypath&&h.splice(e,1),(n=i(t.root,t.ref,t.parentFragment))&&((r||(r=[])).push({item:t,keypath:n}),h.splice(e,1));r&&r.forEach(u)}function u(e){e.item.resolve(e.keypath)}var c,p,l,h=[],d=new t("change");return l={start:function(e,t){var n,i;return t&&(n=new r(function(e){return i=e})),p={previousBatch:p,transitionManager:new o(i,p&&p.transitionManager),views:[],tasks:[],viewmodels:[],instance:e},e&&p.viewmodels.push(e.viewmodel),n},end:function(){s(),p.transitionManager.init(),!p.previousBatch&&p.instance&&(p.instance.viewmodel.changes=[]),p=p.previousBatch},addViewmodel:function(e){return p?-1===p.viewmodels.indexOf(e)?(p.viewmodels.push(e),!0):!1:(e.applyChanges(),!1)},registerTransition:function(e){e._manager=p.transitionManager,p.transitionManager.add(e)},addView:function(e){p.views.push(e)},addUnresolved:function(e){h.push(e)},removeUnresolved:function(e){n(h,e)},detachWhenReady:function(e){p.transitionManager.detachQueue.push(e)},scheduleTask:function(e,t){var n;if(p){for(n=p;t&&n.previousBatch;)n=n.previousBatch;n.tasks.push(e)}else e()}},e.runloop=l,c=l}(o,m,g,v,x,_),T=function(){var e=/^\s*[0-9]+\s*$/;return function(t){return e.test(t)?[]:{}}}(),S=function(e,t,n){function r(t,n,r){function i(t){var r,i;t.value=n,t.updating||(i=t.ractive,r=t.keypath,t.updating=!0,e.start(i),i.viewmodel.mark(r),e.end(),t.updating=!1)}var o,s,a,u,c,p;if(o=t.obj,s=t.prop,r&&!r.configurable){if("length"===s)return;throw new Error('Cannot use magic mode with property "'+s+'" - object is not configurable')}r&&(a=r.get,u=r.set),c=a||function(){return n},p=function(e){u&&u(e),n=a?a():e,p._ractiveWrappers.forEach(i)},p._ractiveWrappers=[t],Object.defineProperty(o,s,{get:c,set:p,enumerable:!0,configurable:!0})}var i,o,s;try{Object.defineProperty({},"test",{value:0}),o={filter:function(e,t,r){var i,o,s,a,u;return t?(i=t.split("."),o=i.pop(),s=i.join("."),(a=r.viewmodel.wrapped[s])&&!a.magic?!1:(u=r.get(s),n(u)&&/^[0-9]+$/.test(o)?!1:u&&("object"==typeof u||"function"==typeof u))):!1},wrap:function(e,t,n){return new s(e,t,n)}},s=function(e,t,n){var i,o,s,a;return this.magic=!0,this.ractive=e,this.keypath=n,this.value=t,i=n.split("."),this.prop=i.pop(),o=i.join("."),this.obj=o?e.get(o):e.data,s=this.originalDescriptor=Object.getOwnPropertyDescriptor(this.obj,this.prop),s&&s.set&&(a=s.set._ractiveWrappers)?void(-1===a.indexOf(this)&&a.push(this)):void r(this,t,s)},s.prototype={get:function(){return this.value},reset:function(t){this.updating||(this.updating=!0,this.obj[this.prop]=t,e.addViewmodel(this.ractive.viewmodel),this.ractive.viewmodel.mark(this.keypath),this.updating=!1)
},set:function(e,n){this.updating||(this.obj[this.prop]||(this.updating=!0,this.obj[this.prop]=t(e),this.updating=!1),this.obj[this.prop][e]=n)},teardown:function(){var e,t,n,r,i;return this.updating?!1:(e=Object.getOwnPropertyDescriptor(this.obj,this.prop),t=e&&e.set,void(t&&(r=t._ractiveWrappers,i=r.indexOf(this),-1!==i&&r.splice(i,1),r.length||(n=this.obj[this.prop],Object.defineProperty(this.obj,this.prop,this.originalDescriptor||{writable:!0,enumerable:!0,configurable:!0}),this.obj[this.prop]=n))))}}}catch(a){o=!1}return i=o}(E,T,a),P=function(e){return!!e}(S),C={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},A=function(e,t){var n;return n=e?function(e,n){return n&&n!==t.html?document.createElementNS(n,e):document.createElement(e)}:function(e,n){if(n&&n!==t.html)throw"This browser does not support namespaces other than http://www.w3.org/1999/xhtml. The most likely cause of this error is that you're trying to render SVG in an older browser. See http://docs.ractivejs.org/latest/svg-and-older-browsers for more information";return document.createElement(e)}}(l,C),R=function(){var e="object"==typeof document;return e}(),O=function(e){var t;try{Object.defineProperty({},"test",{value:0}),e&&Object.defineProperty(document.createElement("div"),"test",{value:0}),t=Object.defineProperty}catch(n){t=function(e,t,n){e[t]=n.value}}return t}(R),N=function(e,t,n){var r;try{try{Object.defineProperties({},{test:{value:0}})}catch(i){throw i}n&&Object.defineProperties(e("div"),{test:{value:0}}),r=Object.defineProperties}catch(i){r=function(e,n){var r;for(r in n)n.hasOwnProperty(r)&&t(e,r,n[r])}}return r}(A,O,R),I=function(e){return function(t,n,r){var i;if("string"!=typeof n||!e(r))throw new Error("Bad arguments");if(i=+t.get(n)||0,!e(i))throw new Error("Cannot add to a non-numeric value");return t.set(n,i+r)}}(c),z=function(e){return function(t,n){return e(this,t,void 0===n?1:+n)}}(I),F=function(e){var t=/^\.+/;return function(n){return e(n).replace(t,"")}}(b),L=["o","ms","moz","webkit"],D=function(e){var t;return"undefined"==typeof window?t=null:(!function(e,t,n){var r,i;if(!n.requestAnimationFrame){for(r=0;r<e.length&&!n.requestAnimationFrame;++r)n.requestAnimationFrame=n[e[r]+"RequestAnimationFrame"];n.requestAnimationFrame||(i=n.setTimeout,n.requestAnimationFrame=function(e){var n,r,o;return n=Date.now(),r=Math.max(0,16-(n-t)),o=i(function(){e(n+r)},r),t=n+r,o})}}(e,0,window),t=window.requestAnimationFrame),t}(L),M=function(){var e;return e="undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?function(){return window.performance.now()}:function(){return Date.now()}}(),j=function(e,t,n){var r=[],i={tick:function(){var o,s,a;for(a=t(),n.start(),o=0;o<r.length;o+=1)s=r[o],s.tick(a)||r.splice(o--,1);n.end(),r.length?e(i.tick):i.running=!1},add:function(t){r.push(t),i.running||(i.running=!0,e(i.tick))},abort:function(e,t){for(var n,i=r.length;i--;)n=r[i],n.root===t&&n.keypath===e&&n.stop()}};return i}(D,M,E),W=function(){function e(e){return e.trim?e.trim():e.replace(/^\s+/,"").replace(/\s+$/,"")}function t(e){return e.str}var n,r=/(?:^|\})?\s*([^\{\}]+)\s*\{/g,i=/\/\*.*?\*\//g,o=/((?:(?:\[[^\]+]\])|(?:[^\s\+\>\~:]))+)((?::[^\s\+\>\~]+)?\s*[\s\+\>\~]?)\s*/g,s=/^@media/,a=/\[data-rvcguid="[a-z0-9-]+"]/g;return n=function(n,u){var c,p;return p=function(e){var n,r,i,s,a,c,p,l,h=[];for(n=[];r=o.exec(e);)n.push({str:r[0],base:r[1],modifiers:r[2]});for(s='[data-rvcguid="'+u+'"]',a=n.map(t),l=n.length;l--;)p=a.slice(),i=n[l],p[l]=i.base+s+i.modifiers||"",c=a.slice(),c[l]=s+" "+c[l],h.push(p.join(" "),c.join(" "));return h.join(", ")},c=a.test(n)?n.replace(a,'[data-rvcguid="'+u+'"]'):n.replace(i,"").replace(r,function(t,n){var r,i;return s.test(n)?t:(r=n.split(",").map(e),i=r.map(p).join(", ")+" ",t.replace(n,i))})}}(),H=function(e){function t(e,t,r){var i,o=t.constructor._guid;(i=n(r.css,r,o)||n(e.css,e,o))&&(t.constructor.css=i)}function n(t,n,r){return t?n.noCssTransform?t:e(t,r):void 0}var r={name:"css",extend:t,init:function(){}};return r}(W),V=function(){function e(e,t){return"function"==typeof t&&/_super/.test(e)}var t;return t=function(t,n,r){return r||e(t,n)?function(){var e,r="_super"in this,i=this._super;return this._super=n,e=t.apply(this,arguments),r&&(this._super=i),e}:t}}(),U=function(e){function t(e,t,n){var r=n.data||{},i=o(e.prototype.data);if("object"!=typeof r&&"function"!=typeof r)throw new TypeError('data option must be an object or a function, "'+r+'" is not valid');return s(i,r)}function n(e,n,r){n.data=t(e,n,r)}function r(e,n,r){var i=r.data,o=t(e,n,r);return"function"==typeof o&&(o=o.call(n,i)||i),n.data=o||{}}function i(e){var t=this.init(e.constructor,e,e);return t?(e.data=t,!0):void 0}function o(e){if("function"!=typeof e||!Object.keys(e).length)return e;var t={};return a(e,t),s(e,t)}function s(e,t){return"function"==typeof t?p(t,e):"function"==typeof e?c(t,e):u(t,e)}function a(e,t,n){for(var r in e)n&&r in t||(t[r]=e[r])}function u(e,t){return e=e||{},t?(a(t,e,!0),e):e}function c(e,t){return function(n){var r;if(e){r=[];for(var i in e)n&&i in n||r.push(i)}return n=t.call(this,n)||n,r&&r.length&&(n=n||{},r.forEach(function(t){n[t]=e[t]})),n}}function p(t,n){var r;return r="function"!=typeof n?function(e){u(e,n)}:function(t){return n=e(n,function(){},!0),n.call(this,t)||t},e(t,r)}var l,h={name:"data",extend:n,init:r,reset:i};return l=h}(V),B=null,q=function(){var e;try{Object.create(null),e=Object.create}catch(t){e=function(){var e=function(){};return function(t,n){var r;return null===t?{}:(e.prototype=t,r=new e,n&&Object.defineProperties(r,n),r)}}()}return e}(),Y=null,K=function(){return function(e,t){var n=e.map(t);return e.forEach(function(e,t){n[e]=n[t]}),n}}(Y),J=function(e){var t,n;return t=["preserveWhitespace","sanitize","stripComments","delimiters","tripleDelimiters","interpolate"],n=e(t,function(e){return e})}(K),G=function(e,t,n,r,i){function o(e){var t=r(l);return t.parse=function(t,n){return s(t,n||e)},t}function s(t,r){if(!n)throw new Error(e.missingParser);return n(t,r||this.options)}function a(e,n){var r;if(!t){if(n&&n.noThrow)return;throw new Error("Cannot retrieve template #"+e+" as Ractive is not running in a browser.")}if(u(e)&&(e=e.substring(1)),!(r=document.getElementById(e))){if(n&&n.noThrow)return;throw new Error("Could not find template element with id #"+e)}if("SCRIPT"!==r.tagName.toUpperCase()){if(n&&n.noThrow)return;throw new Error("Template element with id #"+e+", must be a <script> element")}return r.innerHTML}function u(e){return e&&"#"===e.charAt(0)}function c(e){return!("string"==typeof e)}function p(e){return e.defaults&&(e=e.defaults),i.reduce(function(t,n){return t[n]=e[n],t},{})}var l={parse:s,fromId:a,isHashedId:u,isParsed:c,getParseOptions:p,createHelper:o};return l}(d,R,B,q,J),Q=function(e,t){function n(e){var t,n=e._config.template;return n&&n.fn?(t=r(e,n.fn),t!==n.result?(n.result=t,t=i(t,e)):void 0):void 0}function r(t,n){var r=e.createHelper(e.getParseOptions(t));return n.call(t,t.data,r)}function i(n,r){if("string"==typeof n)"#"===n[0]&&(n=e.fromId(n)),n=t(n,e.getParseOptions(r));else if(1!==n.v)throw new Error("Mismatched template version! Please ensure you are using the latest version of Ractive.js in your build process as well as in your app");return n}function o(e,t,n){if(t)for(var r in t)(n||!e.hasOwnProperty(r))&&(e[r]=t[r])}var s={name:"template",extend:function(e,t,n){var r;"template"in n&&(r=n.template,t.template="function"==typeof r?r:i(r,t))},init:function(e,t,n){var s,a;s="template"in n?n.template:e.prototype.template,"function"==typeof s&&(a=s,s=r(t,a),t._config.template={fn:a,result:s}),s=i(s,t),t.template=s.t,s.p&&o(t.partials,s.p)},reset:function(e){var t,r=n(e);return r?(t=i(r,e),e.template=t.t,o(e.partials,t.p,!0),!0):void 0}};return s}(G,B),X=function(e){function t(e,t){this.name=e,this.useDefaults=t}function n(e,t){var r,i;return(r=t(e))?r:!e.isolated&&(i=e._parent)?n(i,t):void 0}return t.prototype={constructor:t,extend:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,this.useDefaults?t:t.constructor,n)},init:function(e,t,n){this.configure(this.useDefaults?e.defaults:e,t,n)},configure:function(t,n,r){var i,o=this.name,s=r[o];i=e(t[o]);for(var a in s)i[a]=s[a];n[o]=i},reset:function(e){var t=e[this.name],n=!1;return Object.keys(t).forEach(function(e){var r=t[e];r._fn&&(r._fn.isOwner?t[e]=r._fn:delete t[e],n=!0)}),n},findOwner:function(e,t){return e[this.name].hasOwnProperty(t)?e:this.findConstructor(e.constructor,t)},findConstructor:function(e,t){return e?e[this.name].hasOwnProperty(t)?e:this.findConstructor(e._parent,t):void 0},find:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]})},findInstance:function(e,t){var r=this;return n(e,function(e){return e[r.name][t]?e:void 0})}},t}(q,Y),Z=function(e,t){var n=["adaptors","components","computed","decorators","easing","events","interpolators","partials","transitions"],r=e(n,function(e){return new t(e,"computed"===e)});return r}(K,X),$=function(){},et=function(e){function t(t,n){var r;if(n in t){var i=t[n];r="function"==typeof i?i:function(){return i}}else r=e;return r}var n;return n=function(e,n,r){if(!/_super/.test(r))return r;var i=function(){var e,o=t(i._parent,n),s="_super"in this,a=this._super;return this._super=o,e=r.apply(this,arguments),s?this._super=a:delete this._super,e};return i._parent=e,i._method=r,i}}($),tt=function(e,t){function n(t,n,i){if(n in t){if(i in t)throw new Error(r(n,i,!0));e(r(n,i)),t[i]=t[n]}}function r(e,t,n){return"options."+e+" has been deprecated in favour of options."+t+"."+(n?" You cannot specify both options, please use options."+t+".":"")}function i(e){n(e,"eventDefinitions","events")}function o(e){t(e.adaptors)&&n(e,"adaptors","adapt")}return function(e){n(e,"beforeInit","onconstruct"),n(e,"init","onrender"),n(e,"complete","oncomplete"),i(e),o(e)}}(h,a),nt=function(e,t,n,r,i,o,s,a){function u(e,t,n,r,i){h[t][e](n,r,i)}function c(e){return e in n&&!(e in f.parseOptions)&&!(e in h)}function p(e,t,n,r){a(r),u(e,"data",t,n,r),f.parseOptions.forEach(function(e){e in r&&(n[e]=r[e])});for(var i in r)if(c(i)){var o=r[i];n[i]="function"==typeof o?s(t.prototype,i,o):o}f.registries.forEach(function(i){i[e](t,n,r)}),u(e,"template",t,n,r),u(e,"css",t,n,r),l(t.prototype,n,r)}function l(e,t,n){for(var r in n)if(!(r in m)&&n.hasOwnProperty(r)){var i=n[r];"function"==typeof i&&(i=s(e,r,i)),t[r]=i}}var h,d,f,m;m={_parent:!0,_component:!0},h={data:t,template:r,css:e},d=Object.keys(n).filter(function(e){return!o[e]&&!h[e]&&!i[e]}),f=[].concat(h.data,i,d,o,h.template,h.css);for(var g in h)f[g]=h[g];return f.keys=Object.keys(n).concat(o.map(function(e){return e.name})).concat(["css"]),f.keys.forEach(function(e){return m[e]=!0}),f.parseOptions=i,f.registries=o,f.extend=function(e,t,n){p("extend",e,t,n)},f.init=function(e,t,n){p("init",e,t,n)},f.reset=function(e){return f.filter(function(t){return t.reset&&t.reset(e)}).map(function(e){return e.name})},f.getConstructTarget=function(e,t){return t.onconstruct?{onconstruct:s(e,"onconstruct",t.onconstruct).bind(e),fire:e.fire.bind(e)}:e},f}(H,U,r,Q,J,Z,et,tt),rt=function(e,t,n,r){function i(e){return function(){return e}}var o,s=function(e,o,s,a){if(e===o)return i(o);if(a){var u=r.registries.interpolators.find(s,a);if(u)return u(e,o)||i(o);t('Missing "'+a+'" interpolator. You may need to download a plugin from [TODO]')}return n.number(e,o)||n.array(e,o)||n.object(e,o)||i(o)};return e.interpolate=s,o=s}(o,h,p,nt),it=function(e,t,n){var r=function(e){var t;this.startTime=Date.now();for(t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);this.interpolator=n(this.from,this.to,this.root,this.interpolator),this.running=!0,this.tick()};return r.prototype={tick:function(){var n,r,i,o,s,a;return a=this.keypath,this.running?(o=Date.now(),n=o-this.startTime,n>=this.duration?(null!==a&&(t.start(this.root),this.root.viewmodel.set(a,this.to),t.end()),this.step&&this.step(1,this.to),this.complete(this.to),s=this.root._animations.indexOf(this),-1===s&&e("Animation was not found"),this.root._animations.splice(s,1),this.running=!1,!1):(r=this.easing?this.easing(n/this.duration):n/this.duration,null!==a&&(i=this.interpolator(r),t.start(this.root),this.root.viewmodel.set(a,i),t.end()),this.step&&this.step(r,i),!0)):!1},stop:function(){var t;this.running=!1,t=this.root._animations.indexOf(this),-1===t&&e("Animation was not found"),this.root._animations.splice(t,1)}},r}(h,E,rt),ot=function(e,t,n,r,i){function o(t,o,s,a){var c,p,l,h;return o&&(o=n(o)),null!==o&&(h=t.viewmodel.get(o)),r.abort(o,t),e(h,s)?(a.complete&&a.complete(a.to),u):(a.easing&&(c="function"==typeof a.easing?a.easing:t.easing[a.easing],"function"!=typeof c&&(c=null)),p=void 0===a.duration?400:a.duration,l=new i({keypath:o,from:h,to:s,root:t,duration:p,easing:c,interpolator:a.interpolator,step:a.step,complete:a.complete}),r.add(l),t._animations.push(l),l)}var s,a=function(){},u={stop:a};return s=function(e,n,r){var i,s,u,c,p,l,h,d,f,m,g,v,b,w;if(i=new t(function(e){s=e}),"object"==typeof e){r=n||{},l=r.easing,h=r.duration,p=[],d=r.step,f=r.complete,(d||f)&&(g={},r.step=null,r.complete=null,m=function(e){return function(t,n){g[e]=n}});for(u in e)e.hasOwnProperty(u)&&((d||f)&&(v=m(u),r={easing:l,duration:h},d&&(r.step=v)),r.complete=f?v:a,p.push(o(this,u,e[u],r)));return w={easing:l,duration:h},d&&(w.step=function(e){d(e,g)}),f&&i.then(function(e){f(e,g)}),w.complete=s,b=o(this,null,null,w),p.push(b),i.stop=function(){for(var e;e=p.pop();)e.stop();b&&b.stop()},i}return r=r||{},r.complete&&i.then(r.complete),r.complete=s,c=o(this,e,n,r),i.stop=function(){c.stop()},i}}(y,v,F,j,it),st=function(e,t){var n=new e("detach");return function(){return this.detached?this.detached:(this.el&&t(this.el.__ractive_instances__,this),this.detached=this.fragment.detach(),n.fire(this),this.detached)}}(m,g),at=function(e){return this.el?this.fragment.find(e):null},ut=function(e,t,n){var r,i,o,s,a,u,c,p;if(e){for(i=n("div"),o=["matches","matchesSelector"],p=function(e){return function(t,n){return t[e](n)}},u=o.length;u--&&!r;)if(s=o[u],i[s])r=p(s);else for(c=t.length;c--;)if(a=t[u]+s.substr(0,1).toUpperCase()+s.substring(1),i[a]){r=p(a);break}r||(r=function(e,t){var n,r,o;for(r=e.parentNode,r||(i.innerHTML="",r=i,e=e.cloneNode(),i.appendChild(e)),n=r.querySelectorAll(t),o=n.length;o--;)if(n[o]===e)return!0;return!1})}else r=null;return r}(R,L,A),ct=function(e){return function(t,n){var r=this._isComponentQuery?!this.selector||t.name===this.selector:e(t.node,this.selector);return r?(this.push(t.node||t.instance),n||this._makeDirty(),!0):void 0}}(ut),pt=function(){var e,t,n;e=this._root[this._isComponentQuery?"liveComponentQueries":"liveQueries"],t=this.selector,n=e.indexOf(t),-1!==n&&(e.splice(n,1),e[t]=null)},lt=function(){function e(e){var t;return(t=e.parentFragment)?t.owner:e.component&&(t=e.component.parentFragment)?t.owner:void 0}function t(t){var n,r;for(n=[t],r=e(t);r;)n.push(r),r=e(r);return n}var n;return n=function(e,n){var r,i,o,s,a,u,c,p,l,h;for(r=t(e.component||e._ractive.proxy),i=t(n.component||n._ractive.proxy),o=r[r.length-1],s=i[i.length-1];o&&o===s;)r.pop(),i.pop(),a=o,o=r[r.length-1],s=i[i.length-1];if(o=o.component||o,s=s.component||s,l=o.parentFragment,h=s.parentFragment,l===h)return u=l.items.indexOf(o),c=h.items.indexOf(s),u-c||r.length-i.length;if(p=a.fragments)return u=p.indexOf(l),c=p.indexOf(h),u-c||r.length-i.length;throw new Error("An unexpected condition was met while comparing the position of two components. Please file an issue at https://github.com/RactiveJS/Ractive/issues - thanks!")}}(),ht=function(e){return function(t,n){var r;return t.compareDocumentPosition?(r=t.compareDocumentPosition(n),2&r?1:-1):e(t,n)}}(lt),dt=function(e,t){return function(){this.sort(this._isComponentQuery?t:e),this._dirty=!1}}(ht,lt),ft=function(e){return function(){var t=this;this._dirty||(this._dirty=!0,e.scheduleTask(function(){t._sort()}))}}(E),mt=function(e){var t=this.indexOf(this._isComponentQuery?e.instance:e);-1!==t&&this.splice(t,1)},gt=function(e,t,n,r,i,o){return function(s,a,u,c){var p=[];return e(p,{selector:{value:a},live:{value:u},_isComponentQuery:{value:c},_test:{value:t}}),u?(e(p,{cancel:{value:n},_root:{value:s},_sort:{value:r},_makeDirty:{value:i},_remove:{value:o},_dirty:{value:!1,writable:!0}}),p):p}}(N,ct,pt,dt,ft,mt),vt=function(e){return function(t,n){var r,i;return this.el?(n=n||{},r=this._liveQueries,(i=r[t])?n&&n.live?i:i.slice():(i=e(this,t,!!n.live,!1),i.live&&(r.push(t),r["_"+t]=i),this.fragment.findAll(t,i),i)):[]}}(gt),bt=function(e){return function(t,n){var r,i;return n=n||{},r=this._liveComponentQueries,(i=r[t])?n&&n.live?i:i.slice():(i=e(this,t,!!n.live,!0),i.live&&(r.push(t),r["_"+t]=i),this.fragment.findAllComponents(t,i),i)}}(gt),wt=function(e){return this.fragment.findComponent(e)},yt=function(){function e(e){var t,r,i,o,s,a="";if(!n[e]){for(i=[];a.length<e;)a+=1;for(t=parseInt(a,2),o=function(e){return"1"===e},s=0;t>=s;s+=1){for(r=s.toString(2);r.length<e;)r="0"+r;i[s]=Array.prototype.map.call(r,o)}n[e]=i}return n[e]}var t,n={};return t=function(t){var r,i,o,s,a,u;for(r=t.split("."),(i=n[r.length])||(i=e(r.length)),a=[],o=function(e,t){return e?"*":r[t]},s=i.length;s--;)u=i[s].map(o).join("."),a.hasOwnProperty(u)||(a.push(u),a[u]=!0);return a}}(),kt=function(e){function t(r,i,o,s){var a=arguments[4];void 0===a&&(a=!1);var u,c,p=!0;for(o&&(r.event=o),c=i.length;c>=0;c--)u=r._subs[i[c]],u&&(p=n(r,u,o,s)&&p);if(o&&delete r.event,r._parent&&p){if(a&&r.component){var l=r.component.name+"."+i[i.length-1];i=e(l),o&&(o.component=r)}t(r._parent,i,o,s)}}function n(e,t,n,r){var i=null,o=!1;n&&!n._noArg&&(r=[n].concat(r));for(var s=0,a=t.length;a>s;s+=1)t[s].apply(e,r)===!1&&(o=!0);return n&&!n._noArg&&o&&(i=n.original)&&(i.preventDefault&&i.preventDefault(),i.stopPropagation&&i.stopPropagation()),!o}var r;return r=function(n,r){var i=arguments[2];if(void 0===i&&(i={}),r){i.event?i.event.name=r:i.event={name:r,context:n.data,keypath:"",_noArg:!0};var o=e(r);t(n,o,i.event,i.args,!0)}}}(yt),xt=function(e){return function(t){var n={args:Array.prototype.slice.call(arguments,1)};e(this,t,n)}}(kt),_t=function(e,t){var n={capture:!0};return function(r){var i;return r=e(r),i=this.viewmodel.get(r,n),void 0===i&&this._parent&&!this.isolated&&t(this,r,this.fragment)&&(i=this.viewmodel.get(r)),i}}(F,x),Et=function(e){var t;return e&&"boolean"!=typeof e?"undefined"!=typeof window&&document&&e?e.nodeType?e:"string"==typeof e&&(t=document.getElementById(e),!t&&document.querySelector&&(t=document.querySelector(e)),t&&t.nodeType)?t:e[0]&&e[0].nodeType?e[0]:null:null:void 0},Tt=function(e,t){function n(e){i.fire(e),e.findAllComponents("*").forEach(function(e){n(e.instance)})}var r,i=new e("insert");return r=function(e,r){if(!this.fragment.rendered)throw new Error("The API has changed - you must call `ractive.render(target[, anchor])` to render your Ractive instance. Once rendered you can use `ractive.insert()`.");if(e=t(e),r=t(r)||null,!e)throw new Error("You must specify a valid target to insert into");e.insertBefore(this.detach(),r),this.el=e,(e.__ractive_instances__||(e.__ractive_instances__=[])).push(this),this.detached=null,n(this)}}(m,Et),St=function(e,t,n){return function(r,i,o){var s,a;return r=n(r),s=this.viewmodel.get(r),t(s)&&t(i)?(a=e.start(this,!0),this.viewmodel.merge(r,s,i,o),e.end(),o&&o.complete&&a.then(o.complete),a):this.set(r,i,o&&o.complete)}}(E,a,F),Pt=function(e,t){var n=function(e,t,n,r){this.root=e,this.keypath=t,this.callback=n,this.defer=r.defer,this.context=r&&r.context?r.context:e};return n.prototype={init:function(e){this.value=this.root.get(this.keypath),e!==!1?this.update():this.oldValue=this.value},setValue:function(n){var r=this;t(n,this.value)||(this.value=n,this.defer&&this.ready?e.scheduleTask(function(){return r.update()}):this.update())},update:function(){this.updating||(this.updating=!0,this.callback.call(this.context,this.value,this.oldValue,this.keypath),this.oldValue=this.value,this.updating=!1)}},n}(E,y),Ct=function(e){return function(t,n){function r(n,r){var i,o,s;i=t.viewmodel.wrapped[r]?t.viewmodel.wrapped[r].get():t.get(r);for(o in i)!i.hasOwnProperty(o)||"_ractive"===o&&e(i)||(s=r?r+"."+o:o,n.push(s));return n}function i(e){return function(t){return t?t+"."+e:e}}var o,s,a;for(o=n.split("."),a=[""];s=o.shift();)"*"===s?a=a.reduce(r,[]):""===a[0]?a[0]=s:a=a.map(i(s));return a}}(a),At=function(e){return function(t,n){var r,i;return r=e(t,n),i={},r.forEach(function(e){i[e]=t.get(e)}),i}}(Ct),Rt=function(e,t,n){var r,i=/\*/,o=Array.prototype.slice;return r=function(e,t,n,r){this.root=e,this.callback=n,this.defer=r.defer,this.keypath=t,this.regex=new RegExp("^"+t.replace(/\./g,"\\.").replace(/\*/g,"([^\\.]+)")+"$"),this.values={},this.defer&&(this.proxies=[]),this.context=r&&r.context?r.context:e},r.prototype={init:function(e){var t,r;if(t=n(this.root,this.keypath),e!==!1)for(r in t)t.hasOwnProperty(r)&&this.update(r);else this.values=t},update:function(t){var r,o=this;if(i.test(t)){r=n(this.root,t);for(t in r)r.hasOwnProperty(t)&&this.update(t)}else if(!this.root.viewmodel.implicitChanges[t])return this.defer&&this.ready?void e.scheduleTask(function(){return o.getProxy(t).update()}):void this.reallyUpdate(t)},reallyUpdate:function(e){var n,r,i;return n=this.root.viewmodel.get(e),this.updating?void(this.values[e]=n):(this.updating=!0,t(n,this.values[e])&&this.ready||(r=o.call(this.regex.exec(e),1),i=[n,this.values[e],e].concat(r),this.callback.apply(this.context,i),this.values[e]=n),void(this.updating=!1))},getProxy:function(e){var t=this;return this.proxies[e]||(this.proxies[e]={update:function(){t.reallyUpdate(e)}}),this.proxies[e]}},r}(E,y,At),Ot=function(e,t,n){var r=/\*/,i={};return function(o,s,a,u){var c,p,l;return s=e(s),u=u||i,r.test(s)?(c=new n(o,s,a,u),o.viewmodel.patternObservers.push(c),p=!0):c=new t(o,s,a,u),o.viewmodel.register(s,c,p?"patternObservers":"observers"),c.init(u.init),c.ready=!0,{cancel:function(){var e;l||(p?(e=o.viewmodel.patternObservers.indexOf(c),o.viewmodel.patternObservers.splice(e,1),o.viewmodel.unregister(s,c,"patternObservers")):o.viewmodel.unregister(s,c,"observers"),l=!0)}}}}(F,Pt,Rt),Nt=function(e,t){return function(n,r,i){var o,s,a,u;if(e(n)){i=r,s=n,o=[];for(n in s)s.hasOwnProperty(n)&&(r=s[n],o.push(this.observe(n,r,i)));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}if("function"==typeof n)return i=r,r=n,n="",t(this,n,r,i);if(a=n.split(" "),1===a.length)return t(this,n,r,i);for(o=[],u=a.length;u--;)n=a[u],n&&o.push(t(this,n,r,i));return{cancel:function(){for(;o.length;)o.pop().cancel()}}}}(u,Ot),It=function(e){return e.trim()},zt=function(e){return""!==e},Ft=function(e,t){return function(n,r){var i,o=this;if(n)i=n.split(" ").map(e).filter(t),i.forEach(function(e){var t,n;(t=o._subs[e])&&(r?(n=t.indexOf(r),-1!==n&&t.splice(n,1)):o._subs[e]=[])});else for(n in this._subs)delete this._subs[n];return this}}(It,zt),Lt=function(e,t){return function(n,r){var i,o,s,a=this,u=this;if("object"==typeof n){i=[];for(o in n)n.hasOwnProperty(o)&&i.push(this.on(o,n[o]));return{cancel:function(){for(var e;e=i.pop();)e.cancel()}}}return s=n.split(" ").map(e).filter(t),s.forEach(function(e){(a._subs[e]||(a._subs[e]=[])).push(r)}),{cancel:function(){u.off(n,r)}}}}(It,zt),Dt=function(){function e(e,t,n){switch(t){case"splice":for(void 0!==n[0]&&n[0]<0&&(n[0]=e.length+Math.max(n[0],-e.length));n.length<2;)n.push(0);return n[1]=Math.min(n[1],e.length-n[0]),n;case"sort":case"reverse":return null;case"pop":return e.length?[e.length-1,1]:null;case"push":return[e.length,0].concat(n);case"shift":return[0,1];case"unshift":return[0,0].concat(n)}}var t;return t=function(t,n,r){var i,o,s,a,u,c,p=[];if(i=e(t,n,r),!i)return null;for(o=t.length,u=i.length-2-i[1],s=Math.min(o,i[0]),a=s+i[1],c=0;s>c;c+=1)p.push(c);for(;a>c;c+=1)p.push(-1);for(;o>c;c+=1)p.push(c+u);return p}}(),Mt=function(e,t,n){var r=Array.prototype;return function(i){return function(o){var s,a,u,c,p=Array.prototype.slice,l=p.call(arguments,1),h=[];if(s=this.get(o),a=s.length,!e(s))throw new Error("Called ractive."+i+"('"+o+"'), but '"+o+"' does not refer to an array");return h=n(s,i,l),c=r[i].apply(s,l),u=t.start(this,!0).then(function(){return c}),h?this.viewmodel.smartUpdate(o,s,h):this.viewmodel.mark(o),t.end(),u}}}(a,E,Dt),jt=function(e){return e("pop")}(Mt),Wt=function(e){return e("push")}(Mt),Ht=function(e,t,n){var r,i,o,s,a,u,c,p="/* Ractive.js component styles */\n",l={},h=[];return t?(e.push(function(){o=e.runloop}),s=document.createElement("style"),s.type="text/css",a=document.getElementsByTagName("head")[0],c=!1,u=s.styleSheet,i=function(){var e;h.length?(e=p+h.join(" "),u?u.cssText=e:s.innerHTML=e,c||(a.appendChild(s),c=!0)):c&&(a.removeChild(s),c=!1)},r={add:function(e){e.css&&(l[e._guid]||(l[e._guid]=0,h.push(e.css),i()),l[e._guid]+=1)},remove:function(e){e.css&&(l[e._guid]-=1,l[e._guid]||(n(h,e.css),o.scheduleTask(i)))}}):r=null,r}(o,R,g),Vt=function(e,t,n,r){var i=new t("render"),o=new t("complete");return function(t,s){var a,u,c,p=this;if(c=this.transitionsEnabled,this.noIntro&&(this.transitionsEnabled=!1),a=r.start(this,!0),r.scheduleTask(function(){return i.fire(p)},!0),this.fragment.rendered)throw new Error("You cannot call ractive.render() on an already rendered instance! Call ractive.unrender() first");return t=n(t)||this.el,s=n(s)||this.anchor,this.el=t,this.anchor=s,this.constructor.css&&e.add(this.constructor),t&&((u=t.__ractive_instances__)?u.push(this):t.__ractive_instances__=[this],s?t.insertBefore(this.fragment.render(),s):t.appendChild(this.fragment.render())),r.end(),this.transitionsEnabled=c,a.then(function(){return o.fire(p)}),a}}(Ht,m,Et,E),Ut=function(){this.dirtyValue=this.dirtyArgs=!0,this.bound&&"function"==typeof this.owner.bubble&&this.owner.bubble()},Bt=function(){var e;return 1===this.items.length?this.items[0].detach():(e=document.createDocumentFragment(),this.items.forEach(function(t){var n=t.detach();n&&e.appendChild(n)}),e)},qt=function(e){var t,n,r,i;if(this.items){for(n=this.items.length,t=0;n>t;t+=1)if(r=this.items[t],r.find&&(i=r.find(e)))return i;return null}},Yt=function(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAll&&i.findAll(e,t);return t},Kt=function(e,t){var n,r,i;if(this.items)for(r=this.items.length,n=0;r>n;n+=1)i=this.items[n],i.findAllComponents&&i.findAllComponents(e,t);return t},Jt=function(e){var t,n,r,i;if(this.items){for(t=this.items.length,n=0;t>n;n+=1)if(r=this.items[n],r.findComponent&&(i=r.findComponent(e)))return i;return null}},Gt=function(e){var t,n=e.index;return t=this.items[n+1]?this.items[n+1].firstNode():this.owner===this.root?this.owner.component?this.owner.component.findNextNode():null:this.owner.findNextNode(this)},Qt=function(){return this.items&&this.items[0]?this.items[0].firstNode():null},Xt=function(){var e=this;do if(e.pElement)return e.pElement.node;while(e=e.parent);return this.root.detached||this.root.el},Zt={TEXT:1,INTERPOLATOR:2,TRIPLE:3,SECTION:4,INVERTED:5,CLOSING:6,ELEMENT:7,PARTIAL:8,COMMENT:9,DELIMCHANGE:10,MUSTACHE:11,TAG:12,ATTRIBUTE:13,CLOSING_TAG:14,COMPONENT:15,NUMBER_LITERAL:20,STRING_LITERAL:21,ARRAY_LITERAL:22,OBJECT_LITERAL:23,BOOLEAN_LITERAL:24,GLOBAL:26,KEY_VALUE_PAIR:27,REFERENCE:30,REFINEMENT:31,MEMBER:32,PREFIX_OPERATOR:33,BRACKETED:34,CONDITIONAL:35,INFIX_OPERATOR:36,INVOCATION:40,SECTION_IF:50,SECTION_UNLESS:51,SECTION_EACH:52,SECTION_WITH:53,SECTION_IF_WITH:54},$t={expectedExpression:"Expected a JavaScript expression",expectedParen:"Expected closing paren"},en=function(e){var t=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/;return function(n){var r;return(r=n.matchPattern(t))?{t:e.NUMBER_LITERAL,v:r}:null}}(Zt),tn=function(e){return function(t){var n=t.remaining();return"true"===n.substr(0,4)?(t.pos+=4,{t:e.BOOLEAN_LITERAL,v:"true"}):"false"===n.substr(0,5)?(t.pos+=5,{t:e.BOOLEAN_LITERAL,v:"false"}):null}}(Zt),nn=function(){var e,t,n;return e=/^(?=.)[^"'\\]+?(?:(?!.)|(?=["'\\]))/,t=/^\\(?:['"\\bfnrt]|0(?![0-9])|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|(?=.)[^ux0-9])/,n=/^\\(?:\r\n|[\u000A\u000D\u2028\u2029])/,function(r){return function(i){var o,s,a,u;for(o=i.pos,s='"',a=!1;!a;)u=i.matchPattern(e)||i.matchPattern(t)||i.matchString(r),u?s+='"'===u?'\\"':"\\'"===u?"'":u:(u=i.matchPattern(n),u?s+="\\u"+("000"+u.charCodeAt(1).toString(16)).slice(-4):a=!0);return s+='"',JSON.parse(s)}}}(),rn=function(e){return e('"')}(nn),on=function(e){return e("'")}(nn),sn=function(e,t,n){return function(r){var i,o;return i=r.pos,r.matchString('"')?(o=n(r),r.matchString('"')?{t:e.STRING_LITERAL,v:o}:(r.pos=i,null)):r.matchString("'")?(o=t(r),r.matchString("'")?{t:e.STRING_LITERAL,v:o}:(r.pos=i,null)):null}}(Zt,rn,on),an={name:/^[a-zA-Z_$][a-zA-Z_$0-9]*/},un=function(e,t,n){var r=/^[a-zA-Z_$][a-zA-Z_$0-9]*$/;return function(i){var o;return(o=e(i))?r.test(o.v)?o.v:'"'+o.v.replace(/"/g,'\\"')+'"':(o=t(i))?o.v:(o=i.matchPattern(n.name))?o:void 0}}(sn,en,an),cn=function(e,t){return function(n){var r,i,o;return r=n.pos,n.allowWhitespace(),i=t(n),null===i?(n.pos=r,null):(n.allowWhitespace(),n.matchString(":")?(n.allowWhitespace(),o=n.readExpression(),null===o?(n.pos=r,null):{t:e.KEY_VALUE_PAIR,k:i,v:o}):(n.pos=r,null))}}(Zt,un),pn=function(e){return function t(n){var r,i,o,s;return r=n.pos,o=e(n),null===o?null:(i=[o],n.matchString(",")?(s=t(n),s?i.concat(s):(n.pos=r,null)):i)}}(cn),ln=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("{")?(i=t(n),n.allowWhitespace(),n.matchString("}")?{t:e.OBJECT_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(Zt,pn),hn=function(e){return function t(n){function r(e){o.push(e)}var i,o,s,a;return i=n.pos,n.allowWhitespace(),s=n.readExpression(),null===s?null:(o=[s],n.allowWhitespace(),n.matchString(",")&&(a=t(n),null===a&&n.error(e.expectedExpression),a.forEach(r)),o)}}($t),dn=function(e,t){return function(n){var r,i;return r=n.pos,n.allowWhitespace(),n.matchString("[")?(i=t(n),n.matchString("]")?{t:e.ARRAY_LITERAL,m:i}:(n.pos=r,null)):(n.pos=r,null)}}(Zt,hn),fn=function(e,t,n,r,i){return function(o){var s=e(o)||t(o)||n(o)||r(o)||i(o);return s}}(en,tn,sn,ln,dn),mn=function(e,t){var n,r,i,o,s;return n=/^\.[a-zA-Z_$0-9]+/,i=function(e){var t=e.matchPattern(r);return t?"."+t:null},r=/^\[(0|[1-9][0-9]*)\]/,o=/^(?:Array|console|Date|RegExp|decodeURIComponent|decodeURI|encodeURIComponent|encodeURI|isFinite|isNaN|parseFloat|parseInt|JSON|Math|NaN|undefined|null)$/,s=/^(?:break|case|catch|continue|debugger|default|delete|do|else|finally|for|function|if|in|instanceof|new|return|switch|throw|try|typeof|var|void|while|with)$/,function(r){var a,u,c,p,l,h,d;if(a=r.pos,r.matchString("~/"))u="~/";else for(u="";r.matchString("../");)u+="../";if(u||(p=r.matchString("./")||r.matchString(".")||""),c=r.matchPattern(/^@(?:keypath|index|key)/)||r.matchPattern(t.name)||"",s.test(c))return r.pos=a,null;if(!u&&!p&&o.test(c))return{t:e.GLOBAL,v:c};if(l=(u||p)+c,!l)return null;for(;h=r.matchPattern(n)||i(r);)l+=h;return r.matchString("(")&&(d=l.lastIndexOf("."),-1!==d?(l=l.substr(0,d),r.pos=a+l.length):r.pos-=1),{t:e.REFERENCE,n:l.replace(/^this\./,"./").replace(/^this$/,".")}}}(Zt,an),gn=function(e,t){return function(n){var r,i;return r=n.pos,n.matchString("(")?(n.allowWhitespace(),i=n.readExpression(),i||n.error(t.expectedExpression),n.allowWhitespace(),n.matchString(")")||n.error(t.expectedParen),{t:e.BRACKETED,x:i}):null}}(Zt,$t),vn=function(e,t,n){return function(r){return e(r)||t(r)||n(r)}}(fn,mn,gn),bn=function(e,t,n){return function(r){var i,o,s;if(i=r.pos,r.allowWhitespace(),r.matchString(".")){if(r.allowWhitespace(),o=r.matchPattern(n.name))return{t:e.REFINEMENT,n:o};r.error("Expected a property name")}return r.matchString("[")?(r.allowWhitespace(),s=r.readExpression(),s||r.error(t.expectedExpression),r.allowWhitespace(),r.matchString("]")||r.error("Expected ']'"),{t:e.REFINEMENT,x:s}):null
}}(Zt,$t,an),wn=function(e,t,n,r,i){return function(o){var s,a,u,c;if(a=t(o),!a)return null;for(;a;)if(s=o.pos,u=r(o))a={t:e.MEMBER,x:a,r:u};else{if(!o.matchString("("))break;o.allowWhitespace(),c=n(o),o.allowWhitespace(),o.matchString(")")||o.error(i.expectedParen),a={t:e.INVOCATION,x:a},c&&(a.o=c)}return a}}(Zt,vn,hn,bn,$t),yn=function(e,t,n){var r,i;return i=function(n,r){return function(i){var o;return(o=r(i))?o:i.matchString(n)?(i.allowWhitespace(),o=i.readExpression(),o||i.error(t.expectedExpression),{s:n,o:o,t:e.PREFIX_OPERATOR}):null}},function(){var e,t,o,s,a;for(s="! ~ + - typeof".split(" "),a=n,e=0,t=s.length;t>e;e+=1)o=i(s[e],a),a=o;r=a}(),r}(Zt,$t,wn),kn=function(e,t){var n,r;return r=function(t,n){return function(r){var i,o,s;if(o=n(r),!o)return null;for(;;){if(i=r.pos,r.allowWhitespace(),!r.matchString(t))return r.pos=i,o;if("in"===t&&/[a-zA-Z_$0-9]/.test(r.remaining().charAt(0)))return r.pos=i,o;if(r.allowWhitespace(),s=n(r),!s)return r.pos=i,o;o={t:e.INFIX_OPERATOR,s:t,o:[o,s]}}}},function(){var e,i,o,s,a;for(s="* / % + - << >> >>> < <= > >= in instanceof == != === !== & ^ | && ||".split(" "),a=t,e=0,i=s.length;i>e;e+=1)o=r(s[e],a),a=o;n=a}(),n}(Zt,yn),xn=function(e,t,n){return function(r){var i,o,s,a;return(o=t(r))?(i=r.pos,r.allowWhitespace(),r.matchString("?")?(r.allowWhitespace(),s=r.readExpression(),s||r.error(n.expectedExpression),r.allowWhitespace(),r.matchString(":")||r.error('Expected ":"'),r.allowWhitespace(),a=r.readExpression(),a||r.error(n.expectedExpression),{t:e.CONDITIONAL,o:[o,s,a]}):(r.pos=i,o)):null}}(Zt,kn,$t),_n=function(e,t){function n(e){return JSON.stringify(String(e))}function r(n,i){var o,s;if(n.t===e.REFERENCE&&-1===i.indexOf(n.n)&&i.unshift(n.n),s=n.o||n.m)if(t(s))r(s,i);else for(o=s.length;o--;)r(s[o],i);n.x&&r(n.x,i),n.r&&r(n.r,i),n.v&&r(n.v,i)}function i(t,r,o){var s=function(e){return i(t,e,o)};switch(r.t){case e.BOOLEAN_LITERAL:case e.GLOBAL:case e.NUMBER_LITERAL:return r.v;case e.STRING_LITERAL:return n(r.v);case e.ARRAY_LITERAL:return"["+(r.m?r.m.map(s).join(","):"")+"]";case e.OBJECT_LITERAL:return"{"+(r.m?r.m.map(s).join(","):"")+"}";case e.KEY_VALUE_PAIR:return r.k+":"+i(t,r.v,o);case e.PREFIX_OPERATOR:return("typeof"===r.s?"typeof ":r.s)+i(t,r.o,o);case e.INFIX_OPERATOR:return i(t,r.o[0],o)+("in"===r.s.substr(0,2)?" "+r.s+" ":r.s)+i(t,r.o[1],o);case e.INVOCATION:return i(t,r.x,o)+"("+(r.o?r.o.map(s).join(","):"")+")";case e.BRACKETED:return"("+i(t,r.x,o)+")";case e.MEMBER:return i(t,r.x,o)+i(t,r.r,o);case e.REFINEMENT:return r.n?"."+r.n:"["+i(t,r.x,o)+"]";case e.CONDITIONAL:return i(t,r.o[0],o)+"?"+i(t,r.o[1],o)+":"+i(t,r.o[2],o);case e.REFERENCE:return"_"+o.indexOf(r.n);default:t.error("Expected legal JavaScript")}}var o;return o=function(e){var t,n=[];return r(e,n),t={r:n,s:i(this,e,n)}}}(Zt,u),En=function(e,t,n,r,i){var o,s,a=/^\s+/;return s=function(e){this.name="ParseError",this.message=e;try{throw new Error(e)}catch(t){this.stack=t.stack}},s.prototype=Error.prototype,o=function(e,t){var n,r,i=0;for(this.str=e,this.options=t||{},this.pos=0,this.lines=this.str.split("\n"),this.lineEnds=this.lines.map(function(e){var t=i+e.length+1;return i=t,t},0),this.init&&this.init(e,t),n=[];this.pos<this.str.length&&(r=this.read());)n.push(r);this.leftover=this.remaining(),this.result=this.postProcess?this.postProcess(n,t):n},o.prototype={read:function(e){var t,n,r,i;for(e||(e=this.converters),t=this.pos,r=e.length,n=0;r>n;n+=1)if(this.pos=t,i=e[n](this))return i;return null},readExpression:function(){return r(this)},flattenExpression:i,getLinePos:function(e){for(var t,n=0,r=0;e>=this.lineEnds[n];)r=this.lineEnds[n],n+=1;return t=e-r,[n+1,t+1,e]},error:function(e){var t,n,r,i,o,a;throw t=this.getLinePos(this.pos),n=t[0],r=t[1],i=this.lines[t[0]-1],o=i+"\n"+new Array(t[1]).join(" ")+"^----",a=new s(e+" at line "+n+" character "+r+":\n"+o),a.line=t[0],a.character=t[1],a.shortMessage=e,a},matchString:function(e){return this.str.substr(this.pos,e.length)===e?(this.pos+=e.length,e):void 0},matchPattern:function(e){var t;return(t=e.exec(this.remaining()))?(this.pos+=t[0].length,t[1]||t[0]):void 0},allowWhitespace:function(){this.matchPattern(a)},remaining:function(){return this.str.substring(this.pos)},nextChar:function(){return this.str.charAt(this.pos)}},o.extend=function(e){var r,i,s=this;r=function(e,t){o.call(this,e,t)},r.prototype=t(s.prototype);for(i in e)n.call(e,i)&&(r.prototype[i]=e[i]);return r.extend=o.extend,r},e.Parser=o,o}(o,q,s,xn,_n),Tn=function(e,t,n){function r(e){var t,r,i;return e.allowWhitespace(),(t=n(e))?(i={key:t},e.allowWhitespace(),e.matchString(":")?(e.allowWhitespace(),(r=e.read())?(i.value=r.v,i):null):null):null}var i,o,s,a,u,c,p;return o={"true":!0,"false":!1,undefined:void 0,"null":null},s=new RegExp("^(?:"+Object.keys(o).join("|")+")"),a=/^(?:[+-]?)(?:(?:(?:0|[1-9]\d*)?\.\d+)|(?:(?:0|[1-9]\d*)\.)|(?:0|[1-9]\d*))(?:[eE][+-]?\d+)?/,u=/\$\{([^\}]+)\}/g,c=/^\$\{([^\}]+)\}/,p=/^\s*$/,i=e.extend({init:function(e,t){this.values=t.values,this.allowWhitespace()},postProcess:function(e){return 1===e.length&&p.test(this.leftover)?{value:e[0].v}:null},converters:[function(e){var t;return e.values?(t=e.matchPattern(c),t&&e.values.hasOwnProperty(t)?{v:e.values[t]}:void 0):null},function(e){var t;return(t=e.matchPattern(s))?{v:o[t]}:void 0},function(e){var t;return(t=e.matchPattern(a))?{v:+t}:void 0},function(e){var n,r=t(e);return r&&(n=e.values)?{v:r.v.replace(u,function(e,t){return t in n?n[t]:t})}:r},function(e){var t,n;if(!e.matchString("{"))return null;if(t={},e.allowWhitespace(),e.matchString("}"))return{v:t};for(;n=r(e);){if(t[n.key]=n.value,e.allowWhitespace(),e.matchString("}"))return{v:t};if(!e.matchString(","))return null}return null},function(e){var t,n;if(!e.matchString("["))return null;if(t=[],e.allowWhitespace(),e.matchString("]"))return{v:t};for(;n=e.read();){if(t.push(n.v),e.allowWhitespace(),e.matchString("]"))return{v:t};if(!e.matchString(","))return null;e.allowWhitespace()}return null}]}),function(e,t){var n=new i(e,{values:t});return n.result}}(En,sn,un),Sn=function(e){function t(e,n,r,i){return i=i||0,e.map(function(e){var o,s,a;return e.text?e.text:e.fragments?e.fragments.map(function(e){return t(e.items,n,r,i)}).join(""):(o=r+"-"+i++,a=(s=e.root.viewmodel.wrapped[e.keypath])?s.value:e.getValue(),n[o]=a,"${"+o+"}")}).join("")}var n,r={};return n=function(){var n=arguments[0];void 0===n&&(n=r);var i,o,s,a,u,c,p;return i=n.args,u=i?"argsList":"value",c=i?"dirtyArgs":"dirtyValue",this[c]&&(s=t(this.items,o={},this.root._guid),a=e(i?"["+s+"]":s,o),p=a?a.value:i?[this.toString()]:this.toString(),this[u]=p,this[c]=!1),this[u]}}(Tn),Pn=function(){var e=/</g,t=/>/g,n=/&/g;return function(r){return r.replace(n,"&amp;").replace(e,"&lt;").replace(t,"&gt;")}}(),Cn=function(e){return e&&e.parentNode&&e.parentNode.removeChild(e),e},An=function(e){return function(){return e(this.node)}}(Cn),Rn=function(e,t,n){var r=function(t){this.type=e.TEXT,this.text=t.template};return r.prototype={detach:n,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createTextNode(this.text)),this.node},toString:function(e){return e?t(this.text):this.text},unrender:function(e){return e?this.detach():void 0}},r}(Zt,Pn,An),On=function(){this.registered&&this.root.viewmodel.unregister(this.keypath,this),this.resolver&&this.resolver.unbind()},Nn=function(){return this.value},In=function(e,t){return e&&t&&e.substr(0,t.length+1)===t+"."},zn=function(e){return function(t,n,r){return t===n?void 0!==r?r:null:e(t,n)?null===r?r:t.replace(n+".",r+"."):void 0}}(In),Fn=function(e,t,n){var r=function(n,r,i){var o;this.ref=r,this.resolved=!1,this.root=n.root,this.parentFragment=n.parentFragment,this.callback=i,o=t(n.root,r,n.parentFragment),void 0!==o?this.resolve(o):e.addUnresolved(this)};return r.prototype={resolve:function(e){this.resolved=!0,this.keypath=e,this.callback(e)},forceResolution:function(){this.resolve(this.ref)},rebind:function(e,t,r,i){var o;void 0!==this.keypath&&(o=n(this.keypath,r,i),void 0!==o&&this.resolve(o))},unbind:function(){this.resolved||e.removeUnresolved(this)}},r}(E,x,zn),Ln=function(){var e=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()};return e.prototype={rebind:function(){var e=this.ref,t=this.parentFragment;if("@keypath"===e)for(;t;){if(t.context)return this.callback("@"+t.context);t=t.parent}if("@index"===e||"@key"===e)for(;t;){if(void 0!==t.index)return this.callback("@"+t.index);t=t.parent}throw new Error('Unknown special reference "'+e+'" - valid references are @index, @key and @keypath')},unbind:function(){}},e}(),Dn=function(){var e=function(e,t,n){this.parentFragment=e.parentFragment,this.ref=t,this.callback=n,this.rebind()};return e.prototype={rebind:function(){var e=this.ref,t=this.parentFragment.indexRefs,n=t[e];void 0!==n&&this.callback("@"+n)},unbind:function(){}},e}(),Mn=function(e,t,n){return function(r,i,o){var s,a;return"@"===i.charAt(0)?new t(r,i,o):(s=r.parentFragment.indexRefs,s&&void 0!==(a=s[i])?new n(r,i,o):new e(r,i,o))}}(Fn,Ln,Dn),jn=function(){var e={};return function(t,n){var r,i;if(e[t])return e[t];for(i=[];n--;)i[n]="_"+n;return r=new Function(i.join(","),"return("+t+")"),e[t]=r,r}}(),Wn=function(e,t,n,r){function i(e){return e.call()}function o(e,n){return e.replace(/_([0-9]+)/g,function(e,r){var i,o;return i=n[r],void 0===i?"undefined":"@"===i[0]?(o=i.slice(1),t(o)?o:'"'+o+'"'):i})}function s(e){return"${"+e.replace(/[\.\[\]]/g,"-")+"}"}function a(e){return void 0!==e&&"@"!==e[0]}function u(t,n){var r,i,o;if(t._noWrap)return t;if(i="__ractive_"+n._guid,r=t[i])return r;if(/this/.test(t.toString())){e(t,i,{value:l.call(t,n)});for(o in t)t.hasOwnProperty(o)&&(t[i][o]=t[o]);return t[i]}return e(t,"__ractive_nowrap",{value:t}),t.__ractive_nowrap}var c,p,l=Function.prototype.bind;return p=function(e,t,r,i){var o,s,a=this;o=e.root,a.root=o,a.parentFragment=t,a.callback=i,a.owner=e,a.str=r.s,a.keypaths=[],s=t.indexRefs,a.pending=r.r.length,a.refResolvers=r.r.map(function(e,t){return n(a,e,function(e){a.resolve(t,e)})}),a.ready=!0,a.bubble()},p.prototype={bubble:function(){this.ready&&(this.uniqueString=o(this.str,this.keypaths),this.keypath=s(this.uniqueString),this.createEvaluator(),this.callback(this.keypath))},unbind:function(){for(var e;e=this.refResolvers.pop();)e.unbind()},resolve:function(e,t){this.keypaths[e]=t,this.bubble()},createEvaluator:function(){var e,n,o,s,c=this,p=this;e=this.root.viewmodel.computations[this.keypath],e?this.root.viewmodel.mark(this.keypath):(s=r(this.str,this.refResolvers.length),n=this.keypaths.map(function(e){var n;return"undefined"===e?function(){return void 0}:"@"===e[0]?(n=e.slice(1),t(n)?function(){return+n}:function(){return n}):function(){var t=c.root.viewmodel.get(e);return"function"==typeof t&&(t=u(t,p.root)),t}}),o={deps:this.keypaths.filter(a),get:function(){var e=n.map(i);return s.apply(null,e)}},e=this.root.viewmodel.compute(this.keypath,o))},rebind:function(e,t,n,r){this.refResolvers.forEach(function(i){return i.rebind(e,t,n,r)})}},c=p}(O,c,Mn,jn,Y),Hn=function(e,t,n){var r=function(r,i,o){var s=this;s.resolver=i,s.root=i.root,s.parentFragment=o,s.viewmodel=i.root.viewmodel,"string"==typeof r?s.value=r:r.t===e.REFERENCE?s.refResolver=t(this,r.n,function(e){s.resolve(e)}):new n(i,o,r,function(e){s.resolve(e)})};return r.prototype={resolve:function(e){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.keypath=e,this.value=this.viewmodel.get(e),this.bind(),this.resolver.bubble()},bind:function(){this.viewmodel.register(this.keypath,this)},rebind:function(e,t,n,r){this.refResolver&&this.refResolver.rebind(e,t,n,r)},setValue:function(e){this.value=e,this.resolver.bubble()},unbind:function(){this.keypath&&this.viewmodel.unregister(this.keypath,this),this.unresolved&&this.unresolved.unbind()},forceResolution:function(){this.refResolver&&this.refResolver.forceResolution()}},r}(Zt,Mn,Wn),Vn=function(e,t,n){function r(e){return e.value}function i(e){return void 0!=e}function o(e){e.unbind()}var s=function(r,i,o){var s,a,u,c,p=this,l=this;l.parentFragment=c=r.parentFragment,l.root=s=r.root,l.mustache=r,l.ref=a=i.r,l.callback=o,l.unresolved=[],(u=e(s,a,c))?l.base=u:l.baseResolver=new t(this,a,function(e){l.base=e,l.baseResolver=null,l.bubble()}),l.members=i.m.map(function(e){return new n(e,p,c)}),l.ready=!0,l.bubble()};return s.prototype={getKeypath:function(){var e=this.members.map(r);return!e.every(i)||this.baseResolver?null:this.base+"."+e.join(".")},bubble:function(){this.ready&&!this.baseResolver&&this.callback(this.getKeypath())},unbind:function(){this.members.forEach(o)},rebind:function(e,t,n,r){var i;this.members.forEach(function(o){o.rebind(e,t,n,r)&&(i=!0)}),i&&this.bubble()},forceResolution:function(){this.baseResolver&&(this.base=this.ref,this.baseResolver.unbind(),this.baseResolver=null),this.members.forEach(function(e){return e.forceResolution()}),this.bubble()}},s}(x,Fn,Hn),Un=function(e,t,n,r){return function(i,o){function s(e){i.resolve(e)}function a(e){var t=i.keypath;e!==t&&(i.resolve(e),void 0!==t&&i.fragments&&i.fragments.forEach(function(n){n.rebind(null,null,t,e)}))}var u,c,p;c=o.parentFragment,p=o.template,i.root=c.root,i.parentFragment=c,i.pElement=c.pElement,i.template=o.template,i.index=o.index||0,i.isStatic=o.template.s,i.type=o.template.t,i.registered=!1,(u=p.r)&&(i.resolver=new t(i,u,s)),o.template.x&&(i.resolver=new r(i,c,o.template.x,a)),o.template.rx&&(i.resolver=new n(i,o.template.rx,a)),i.template.n!==e.SECTION_UNLESS||i.hasOwnProperty("value")||i.setValue(void 0)}}(Zt,Mn,Vn,Wn),Bn=function(e){return function(t){var n,r,i;return t&&"@"===t[0]?(r=t.slice(1),e(r)&&(r=+r),this.keypath=t,void this.setValue(r)):(this.registered&&(this.root.viewmodel.unregister(this.keypath,this),this.registered=!1,n=!0),this.keypath=t,void 0!=t&&(r=this.root.viewmodel.get(t),this.root.viewmodel.register(t,this),this.registered=!0),this.setValue(r),void(n&&(i=this.twowayBinding)&&i.rebound()))}}(c),qn=function(e,t,n,r){this.fragments&&this.fragments.forEach(function(i){return i.rebind(e,t,n,r)}),this.resolver&&this.resolver.rebind(e,t,n,r)},Yn=function(e,t,n,r){return{getValue:e,init:t,resolve:n,rebind:r}}(Nn,Un,Bn,qn),Kn=function(e,t,n,r,i,o,s,a){var u=function(t){this.type=e.INTERPOLATOR,s.init(this,t)};return u.prototype={update:function(){this.node.data=void 0==this.value?"":this.value},resolve:s.resolve,rebind:s.rebind,detach:a,unbind:o,render:function(){return this.node||(this.node=document.createTextNode(void 0!=this.value?this.value:"")),this.node},unrender:function(e){e&&r(this.node)},getValue:s.getValue,setValue:function(e){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(e=n.get()),i(e,this.value)||(this.value=e,this.parentFragment.bubble(),this.node&&t.addView(this))},firstNode:function(){return this.node},toString:function(e){var t=void 0!=this.value?""+this.value:"";return e?n(t):t}},u}(Zt,E,Pn,Cn,y,On,Yn,An),Jn=function(){this.parentFragment.bubble()},Gn=function(){var e;return 1===this.fragments.length?this.fragments[0].detach():(e=document.createDocumentFragment(),this.fragments.forEach(function(t){e.appendChild(t.detach())}),e)},Qn=function(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].find(e))return r;return null},Xn=function(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAll(e,t)},Zn=function(e,t){var n,r;for(r=this.fragments.length,n=0;r>n;n+=1)this.fragments[n].findAllComponents(e,t)},$n=function(e){var t,n,r;for(n=this.fragments.length,t=0;n>t;t+=1)if(r=this.fragments[t].findComponent(e))return r;return null},er=function(e){return this.fragments[e.index+1]?this.fragments[e.index+1].firstNode():this.parentFragment.findNextNode(this)},tr=function(){var e,t,n;if(e=this.fragments.length)for(t=0;e>t;t+=1)if(n=this.fragments[t].firstNode())return n;return this.parentFragment.findNextNode(this)},nr=function(e,t,n){var r;return n.push(function(){r=n.Fragment}),function(n){var r,i,o,s,a,u,c,p=this,l=this;if(!(this.shuffling||this.unbound||this.subtype&&this.subtype!==e.SECTION_EACH)){if(this.shuffling=!0,t.scheduleTask(function(){return p.shuffling=!1}),r=this.parentFragment,a=[],n.forEach(function(e,t){var n,r,o,s;return e===t?void(a[e]=l.fragments[t]):(n=l.fragments[t],void 0===i&&(i=t),-1===e?(l.fragmentsToUnrender.push(n),void n.unbind()):(r=e-t,o=l.keypath+"."+t,s=l.keypath+"."+e,n.rebind(l.template.i,e,o,s),n.index=e,void(a[e]=n)))}),s=this.root.get(this.keypath).length,void 0===i){if(this.length===s)return;i=this.length}for(this.length=this.fragments.length=s,this.rendered&&t.addView(this),u={template:this.template.f,root:this.root,owner:this},this.template.i&&(u.indexRef=this.template.i),o=i;s>o;o+=1)c=a[o],c||this.fragmentsToCreate.push(o),this.fragments[o]=c}}}(Zt,E,o),rr=function(){var e;return e=this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,e},ir=function(){var e=/^\[object (?:Array|FileList)\]$/,t=Object.prototype.toString;return function(n){return e.test(t.call(n))}}(),or=function(e,t,n,r,i){function o(r,i){var o={template:r.template.f,root:r.root,pElement:r.parentFragment.pElement,owner:r};if(r.subtype)switch(r.subtype){case e.SECTION_IF:return p(r,i,!1,o);case e.SECTION_UNLESS:return p(r,i,!0,o);case e.SECTION_WITH:return c(r,o);case e.SECTION_IF_WITH:return u(r,i,o);case e.SECTION_EACH:if(n(i))return a(r,i,o)}return r.ordered=!!t(i),r.ordered?s(r,i,o):n(i)||"function"==typeof i?r.template.i?a(r,i,o):c(r,o):p(r,i,!1,o)}function s(e,t,n){var r,i,o;if(i=t.length,i===e.length)return!1;if(i<e.length)e.fragmentsToUnrender=e.fragments.splice(i,e.length-i),e.fragmentsToUnrender.forEach(h);else if(i>e.length)for(r=e.length;i>r;r+=1)n.context=e.keypath+"."+r,n.index=r,e.template.i&&(n.indexRef=e.template.i),o=new m(n),e.fragmentsToRender.push(e.fragments[r]=o);return e.length=i,!0}function a(e,t,n){var r,i,o,s,a;for(o=e.hasKey||(e.hasKey={}),i=e.fragments.length;i--;)s=e.fragments[i],s.index in t||(a=!0,s.unbind(),e.fragmentsToUnrender.push(s),e.fragments.splice(i,1),o[s.index]=!1);for(r in t)o[r]||(a=!0,n.context=e.keypath+"."+r,n.index=r,e.template.i&&(n.indexRef=e.template.i),s=new m(n),e.fragmentsToRender.push(s),e.fragments.push(s),o[r]=!0);return e.length=e.fragments.length,a}function u(e,t,n){return t?c(e,n):l(e)}function c(e,t){var n;return e.length?void 0:(t.context=e.keypath,t.index=0,n=new m(t),e.fragmentsToRender.push(e.fragments[0]=n),e.length=1,!0)}function p(e,r,i,o){var s,a,u,c,p;if(a=t(r)&&0===r.length,u=!1,!t(r)&&n(r)){u=!0;for(p in r){u=!1;break}}return s=i?a||u||!r:r&&!a&&!u,s?e.length?e.length>1?(e.fragmentsToUnrender=e.fragments.splice(1),e.fragmentsToUnrender.forEach(h),!0):void 0:(o.index=0,c=new m(o),e.fragmentsToRender.push(e.fragments[0]=c),e.length=1,!0):l(e)}function l(e){return e.length?(e.fragmentsToUnrender=e.fragments.splice(0,e.fragments.length).filter(d),e.fragmentsToUnrender.forEach(h),e.length=e.fragmentsToRender.length=0,!0):void 0}function h(e){e.unbind()}function d(e){return e.rendered}var f,m;return i.push(function(){m=i.Fragment}),f=function(e){var t,n,i=this;this.updating||(this.updating=!0,(t=this.root.viewmodel.wrapped[this.keypath])&&(e=t.get()),this.fragmentsToCreate.length?(n={template:this.template.f,root:this.root,pElement:this.pElement,owner:this,indexRef:this.template.i},this.fragmentsToCreate.forEach(function(e){var t;n.context=i.keypath+"."+e,n.index=e,t=new m(n),i.fragmentsToRender.push(i.fragments[e]=t)}),this.fragmentsToCreate.length=0):o(this,e)&&(this.bubble(),this.rendered&&r.addView(this)),this.value=e,this.updating=!1)}}(Zt,ir,u,E,o),sr=function(e){var t,n,r;for(t="",n=0,r=this.length,n=0;r>n;n+=1)t+=this.fragments[n].toString(e);return t},ar=function(e){function t(e){e.unbind()}var n;return n=function(){this.fragments.forEach(t),e.call(this),this.length=0,this.unbound=!0}}(On),ur=function(){function e(e){e.unrender(!0)}function t(e){e.unrender(!1)}var n;return n=function(n){this.fragments.forEach(n?e:t)}}(),cr=function(){var e,t,n,r,i,o,s;for(n=this.renderedFragments;e=this.fragmentsToUnrender.pop();)e.unrender(!0),n.splice(n.indexOf(e),1);for(;e=this.fragmentsToRender.shift();)e.render();for(this.rendered&&(i=this.parentFragment.getNode()),s=this.fragments.length,o=0;s>o;o+=1)e=this.fragments[o],t=n.indexOf(e,o),t!==o?(this.docFrag.appendChild(e.detach()),-1!==t&&n.splice(t,1),n.splice(o,0,e)):this.docFrag.childNodes.length&&(r=e.firstNode(),i.insertBefore(this.docFrag,r));this.rendered&&this.docFrag.childNodes.length&&(r=this.parentFragment.findNextNode(this),i.insertBefore(this.docFrag,r)),this.renderedFragments=this.fragments.slice()},pr=function(e,t,n,r,i,o,s,a,u,c,p,l,h,d,f,m,g){var v=function(n){this.type=e.SECTION,this.subtype=n.template.n,this.inverted=this.subtype===e.SECTION_UNLESS,this.pElement=n.pElement,this.fragments=[],this.fragmentsToCreate=[],this.fragmentsToRender=[],this.fragmentsToUnrender=[],this.renderedFragments=[],this.length=0,t.init(this,n)};return v.prototype={bubble:n,detach:r,find:i,findAll:o,findAllComponents:s,findComponent:a,findNextNode:u,firstNode:c,getValue:t.getValue,shuffle:p,rebind:t.rebind,render:l,resolve:t.resolve,setValue:h,toString:d,unbind:f,unrender:m,update:g},v}(Zt,Yn,Jn,Gn,Qn,Xn,Zn,$n,er,tr,nr,rr,or,sr,ar,ur,cr),lr=function(){var e,t;if(this.docFrag){for(e=this.nodes.length,t=0;e>t;t+=1)this.docFrag.appendChild(this.nodes[t]);return this.docFrag}},hr=function(e){return function(t){var n,r,i,o;for(r=this.nodes.length,n=0;r>n;n+=1)if(i=this.nodes[n],1===i.nodeType){if(e(i,t))return i;if(o=i.querySelector(t))return o}return null}}(ut),dr=function(e){return function(t,n){var r,i,o,s,a,u;for(i=this.nodes.length,r=0;i>r;r+=1)if(o=this.nodes[r],1===o.nodeType&&(e(o,t)&&n.push(o),s=o.querySelectorAll(t)))for(a=s.length,u=0;a>u;u+=1)n.push(s[u])}}(ut),fr=function(){return this.rendered&&this.nodes[0]?this.nodes[0]:this.parentFragment.findNextNode(this)},mr=function(e,t){function n(e){return s[e]||(s[e]=t(e))}var r,i,o,s={};try{t("table").innerHTML="foo"}catch(a){i=!0,o={TABLE:['<table class="x">',"</table>"],THEAD:['<table><thead class="x">',"</thead></table>"],TBODY:['<table><tbody class="x">',"</tbody></table>"],TR:['<table><tr class="x">',"</tr></table>"],SELECT:['<select class="x">',"</select>"]}}return r=function(t,r,s){var a,u,c,p,l,h=[];if(null!=t&&""!==t){for(i&&(u=o[r.tagName])?(a=n("DIV"),a.innerHTML=u[0]+t+u[1],a=a.querySelector(".x"),"SELECT"===a.tagName&&(c=a.options[a.selectedIndex])):r.namespaceURI===e.svg?(a=n("DIV"),a.innerHTML='<svg class="x">'+t+"</svg>",a=a.querySelector(".x")):(a=n(r.tagName),a.innerHTML=t,"SELECT"===a.tagName&&(c=a.options[a.selectedIndex]));p=a.firstChild;)h.push(p),s.appendChild(p);if("SELECT"===r.tagName)for(l=h.length;l--;)h[l]!==c&&(h[l].selected=!1)}return h}}(C,A),gr=function(e){for(var t=[],n=e.length;n--;)t[n]=e[n];return t},vr=function(e){function t(e){return e.selected}var n;return n=function(n){var r,i,o;n&&"select"===n.name&&n.binding&&(r=e(n.node.options).filter(t),n.getAttribute("multiple")?o=r.map(function(e){return e.value}):(i=r[0])&&(o=i.value),void 0!==o&&n.binding.setValue(o),n.bubble())}}(gr),br=function(e,t){return function(){if(this.rendered)throw new Error("Attempted to render an item that was already rendered");return this.docFrag=document.createDocumentFragment(),this.nodes=e(this.value,this.parentFragment.getNode(),this.docFrag),t(this.pElement),this.rendered=!0,this.docFrag}}(mr,vr),wr=function(e){return function(t){var n;(n=this.root.viewmodel.wrapped[this.keypath])&&(t=n.get()),t!==this.value&&(this.value=t,this.parentFragment.bubble(),this.rendered&&e.addView(this))}}(E),yr=function(){function e(e){return e?10===e?32:128>e?e:159>=e?r[e-128]:55296>e?e:57343>=e?65533:65535>=e?e:65533:65533}var t,n,r,i;return n={quot:34,amp:38,apos:39,lt:60,gt:62,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,copy:169,ordf:170,laquo:171,not:172,shy:173,reg:174,macr:175,deg:176,plusmn:177,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,sup1:185,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,Agrave:192,Aacute:193,Acirc:194,Atilde:195,Auml:196,Aring:197,AElig:198,Ccedil:199,Egrave:200,Eacute:201,Ecirc:202,Euml:203,Igrave:204,Iacute:205,Icirc:206,Iuml:207,ETH:208,Ntilde:209,Ograve:210,Oacute:211,Ocirc:212,Otilde:213,Ouml:214,times:215,Oslash:216,Ugrave:217,Uacute:218,Ucirc:219,Uuml:220,Yacute:221,THORN:222,szlig:223,agrave:224,aacute:225,acirc:226,atilde:227,auml:228,aring:229,aelig:230,ccedil:231,egrave:232,eacute:233,ecirc:234,euml:235,igrave:236,iacute:237,icirc:238,iuml:239,eth:240,ntilde:241,ograve:242,oacute:243,ocirc:244,otilde:245,ouml:246,divide:247,oslash:248,ugrave:249,uacute:250,ucirc:251,uuml:252,yacute:253,thorn:254,yuml:255,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,"int":8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},r=[8364,129,8218,402,8222,8230,8224,8225,710,8240,352,8249,338,141,381,143,144,8216,8217,8220,8221,8226,8211,8212,732,8482,353,8250,339,157,382,376],i=new RegExp("&(#?(?:x[\\w\\d]+|\\d+|"+Object.keys(n).join("|")+"));?","g"),t=function(t){return t.replace(i,function(t,r){var i;return i="#"!==r[0]?n[r]:"x"===r[1]?parseInt(r.substring(2),16):parseInt(r.substring(1),10),i?String.fromCharCode(e(i)):t})}}(Y),kr=function(e){return function(){return void 0!=this.value?e(""+this.value):""}}(yr),xr=function(e){return function(t){this.rendered&&t&&(this.nodes.forEach(e),this.rendered=!1)}}(Cn),_r=function(e,t){return function(){var n,r;if(this.rendered){for(;this.nodes&&this.nodes.length;)n=this.nodes.pop(),n.parentNode.removeChild(n);r=this.parentFragment.getNode(),this.nodes=e(this.value,r,this.docFrag),r.insertBefore(this.docFrag,this.parentFragment.findNextNode(this)),t(this.pElement)}}}(mr,vr),Er=function(e,t,n,r,i,o,s,a,u,c,p,l){var h=function(n){this.type=e.TRIPLE,t.init(this,n)};return h.prototype={detach:n,find:r,findAll:i,firstNode:o,getValue:t.getValue,rebind:t.rebind,render:s,resolve:t.resolve,setValue:a,toString:u,unbind:l,unrender:c,update:p},h}(Zt,Yn,lr,hr,dr,fr,br,wr,kr,xr,_r,On),Tr=function(){this.parentFragment.bubble()},Sr=function(){var e,t=this.node;return t?((e=t.parentNode)&&e.removeChild(t),t):void 0},Pr=function(e){return function(t){return e(this.node,t)?this.node:this.fragment&&this.fragment.find?this.fragment.find(t):void 0}}(ut),Cr=function(e,t){t._test(this,!0)&&t.live&&(this.liveQueries||(this.liveQueries=[])).push(t),this.fragment&&this.fragment.findAll(e,t)},Ar=function(e,t){this.fragment&&this.fragment.findAllComponents(e,t)},Rr=function(e){return this.fragment?this.fragment.findComponent(e):void 0},Or=function(){return null},Nr=function(){return this.node},Ir=function(e){return this.attributes&&this.attributes[e]?this.attributes[e].value:void 0},zr=function(){var e,t,n,r;return e="altGlyph altGlyphDef altGlyphItem animateColor animateMotion animateTransform clipPath feBlend feColorMatrix feComponentTransfer feComposite feConvolveMatrix feDiffuseLighting feDisplacementMap feDistantLight feFlood feFuncA feFuncB feFuncG feFuncR feGaussianBlur feImage feMerge feMergeNode feMorphology feOffset fePointLight feSpecularLighting feSpotLight feTile feTurbulence foreignObject glyphRef linearGradient radialGradient textPath vkern".split(" "),t="attributeName attributeType baseFrequency baseProfile calcMode clipPathUnits contentScriptType contentStyleType diffuseConstant edgeMode externalResourcesRequired filterRes filterUnits glyphRef gradientTransform gradientUnits kernelMatrix kernelUnitLength keyPoints keySplines keyTimes lengthAdjust limitingConeAngle markerHeight markerUnits markerWidth maskContentUnits maskUnits numOctaves pathLength patternContentUnits patternTransform patternUnits pointsAtX pointsAtY pointsAtZ preserveAlpha preserveAspectRatio primitiveUnits refX refY repeatCount repeatDur requiredExtensions requiredFeatures specularConstant specularExponent spreadMethod startOffset stdDeviation stitchTiles surfaceScale systemLanguage tableValues targetX targetY textLength viewBox viewTarget xChannelSelector yChannelSelector zoomAndPan".split(" "),n=function(e){for(var t={},n=e.length;n--;)t[e[n].toLowerCase()]=e[n];return t},r=n(e.concat(t)),function(e){var t=e.toLowerCase();return r[t]||t}}(),Fr=function(e,t){return function(){var n=this.fragment.getValue();t(n,this.value)||("id"===this.name&&this.value&&delete this.root.nodes[this.value],this.value=n,"value"===this.name&&this.node&&(this.node._ractive.value=n),this.rendered&&e.addView(this))}}(E,y),Lr=function(){var e=/^(allowFullscreen|async|autofocus|autoplay|checked|compact|controls|declare|default|defaultChecked|defaultMuted|defaultSelected|defer|disabled|draggable|enabled|formNoValidate|hidden|indeterminate|inert|isMap|itemScope|loop|multiple|muted|noHref|noResize|noShade|noValidate|noWrap|open|pauseOnExit|readOnly|required|reversed|scoped|seamless|selected|sortable|translate|trueSpeed|typeMustMatch|visible)$/i;return e}(),Dr=function(e,t){return function(n,r){var i,o;if(i=r.indexOf(":"),-1===i||(o=r.substr(0,i),"xmlns"===o))n.name=n.element.namespace!==e.html?t(r):r;else if(r=r.substring(i+1),n.name=t(r),n.namespace=e[o.toLowerCase()],n.namespacePrefix=o,!n.namespace)throw'Unknown namespace ("'+o+'")'}}(C,zr),Mr=function(e){return function(t){var n=t.fragment.items;return 1===n.length&&n[0].type===e.INTERPOLATOR?n[0]:void 0}}(Zt),jr=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r,i){var o;!r.pNode||r.namespace||i.pNode.namespaceURI&&i.pNode.namespaceURI!==e.html||(o=n[r.name]||r.name,void 0!==i.pNode[o]&&(r.propertyName=o),(t.test(o)||"value"===o)&&(r.useProperty=!0))}}(C,Lr),Wr=function(e,t,n,r,i,o){var s;return o.push(function(){s=o.Fragment}),function(o){return this.type=e.ATTRIBUTE,this.element=o.element,this.root=o.root,n(this,o.name),o.value&&"string"!=typeof o.value?(this.parentFragment=this.element.parentFragment,this.fragment=new s({template:o.value,root:this.root,owner:this}),this.value=this.fragment.getValue(),this.interpolator=r(this),this.isBindable=!!this.interpolator&&!this.interpolator.isStatic,i(this,o),void(this.ready=!0)):void(this.value=t.test(this.name)?!0:o.value||"")}}(Zt,Lr,Dr,Mr,jr,o),Hr=function(e,t,n,r){this.fragment&&this.fragment.rebind(e,t,n,r)
},Vr=function(e,t){var n={"accept-charset":"acceptCharset",accesskey:"accessKey",bgcolor:"bgColor","class":"className",codebase:"codeBase",colspan:"colSpan",contenteditable:"contentEditable",datetime:"dateTime",dirname:"dirName","for":"htmlFor","http-equiv":"httpEquiv",ismap:"isMap",maxlength:"maxLength",novalidate:"noValidate",pubdate:"pubDate",readonly:"readOnly",rowspan:"rowSpan",tabindex:"tabIndex",usemap:"useMap"};return function(r){var i;this.node=r,r.namespaceURI&&r.namespaceURI!==e.html||(i=n[this.name]||this.name,void 0!==r[i]&&(this.propertyName=i),(t.test(i)||"value"===i)&&(this.useProperty=!0),"value"===i&&(this.useProperty=!0,r._ractive.value=this.value)),this.rendered=!0,this.update()}}(C,Lr),Ur=function(e){function t(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}var n;return n=function(){var n=(s=this).name,r=s.namespacePrefix,i=s.value,o=s.interpolator,s=s.fragment;return"value"===n&&("select"===this.element.name||"textarea"===this.element.name)||"value"===n&&void 0!==this.element.getAttribute("contenteditable")?void 0:"name"===n&&"input"===this.element.name&&o?"name={{"+(o.keypath||o.ref)+"}}":e.test(n)?i?n:"":(s&&(i=s.toString()),r&&(n=r+":"+n),i?n+'="'+t(i)+'"':n)}}(Lr),Br=function(){this.fragment&&this.fragment.unbind(),"id"===this.name&&delete this.root.nodes[this.value]},qr=function(){var e,t,n,r,i=this.value;if(!this.locked)for(this.node._ractive.value=i,e=this.node.options,r=e.length;r--;)if(t=e[r],n=t._ractive?t._ractive.value:t.value,n==i){t.selected=!0;break}},Yr=function(e,t){for(var n=0,r=e.length;r>n;n++)if(e[n]==t)return!0;return!1},Kr=function(e,t){return function(){var n,r,i,o,s=this.value;for(t(s)||(s=[s]),n=this.node.options,r=n.length;r--;)i=n[r],o=i._ractive?i._ractive.value:i.value,i.selected=e(s,o)}}(Yr,a),Jr=function(){var e=(t=this).node,t=t.value;e.checked=t==e._ractive.value},Gr=function(e){return function(){var t,n,r,i,o=this.node;if(t=o.checked,o.value=this.element.getAttribute("value"),o.checked=this.element.getAttribute("value")===this.element.getAttribute("name"),t&&!o.checked&&this.element.binding&&(r=this.element.binding.siblings,i=r.length)){for(;i--;){if(n=r[i],!n.element.node)return;if(n.element.node.checked)return e.addViewmodel(n.root.viewmodel),n.handleChange()}e.addViewmodel(n.root.viewmodel),this.root.viewmodel.set(n.keypath,void 0)}}}(E),Qr=function(e){return function(){var t,n,r=(o=this).element,i=o.node,o=o.value;if(t=r.getAttribute("value"),e(o)){for(n=o.length;n--;)if(t==o[n])return void(i.checked=!0);i.checked=!1}else i.checked=o==t}}(a),Xr=function(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.className=t},Zr=function(){var e=(t=this).node,t=t.value;this.root.nodes[t]=e,e.id=t},$r=function(){var e,t;e=this.node,t=this.value,void 0===t&&(t=""),e.style.setAttribute("cssText",t)},ei=function(){var e=this.value;void 0===e&&(e=""),this.locked||(this.node.innerHTML=e)},ti=function(){var e=(t=this).node,t=t.value;e._ractive.value=t,this.locked||(e.value=void 0==t?"":t)},ni=function(){this.locked||(this.node[this.propertyName]=this.value)},ri=function(e){return function(){var t=(o=this).node,n=o.namespace,r=o.name,i=o.value,o=o.fragment;n?t.setAttributeNS(n,r,(o||i).toString()):e.test(r)?i?t.setAttribute(r,""):t.removeAttribute(r):t.setAttribute(r,(o||i).toString())}}(Lr),ii=function(e,t,n,r,i,o,s,a,u,c,p,l,h,d){return function(){var f,m,g=(b=this).name,v=b.element,b=b.node;"id"===g?m=u:"value"===g?"select"===v.name&&"value"===g?m=v.getAttribute("multiple")?r:n:"textarea"===v.name?m=l:null!=v.getAttribute("contenteditable")?m=p:"input"===v.name&&(f=v.getAttribute("type"),m="file"===f?t:"radio"===f&&v.binding&&"name"===v.binding.name?o:l):this.twoway&&"name"===g?"radio"===b.type?m=i:"checkbox"===b.type&&(m=s):"style"===g&&b.style.setAttribute?m=c:"class"!==g||b.namespaceURI&&b.namespaceURI!==e.html?this.useProperty&&(m=h):m=a,m||(m=d),this.update=m,this.update()}}(C,$,qr,Kr,Jr,Gr,Qr,Xr,Zr,$r,ei,ti,ni,ri),oi=function(e,t,n,r,i,o,s){var a=function(e){this.init(e)};return a.prototype={bubble:e,init:t,rebind:n,render:r,toString:i,unbind:o,update:s},a}(Fr,Wr,Hr,Vr,Ur,Br,ii),si=function(e){return function(t,n){var r,i,o=[];for(r in n)n.hasOwnProperty(r)&&(i=new e({element:t,name:r,value:n[r],root:t.root}),o.push(o[r]=i));return o}}(oi),ai=function(e,t,n,r){function i(e,t){var n=t?"svg":"div";return u.innerHTML="<"+n+" "+e+"></"+n+">",r(u.childNodes[0].attributes)}function o(e,t){for(var n=e.length;n--;)if(e[n].name===t.name)return!1;return!0}var s,a,u;"undefined"!=typeof document&&(u=n("div")),e.push(function(){a=e.Fragment});var c=function(e,t){this.element=e,this.root=e.root,this.parentFragment=e.parentFragment,this.attributes=[],this.fragment=new a({root:e.root,owner:this,template:[t]})};return c.prototype={bubble:function(){this.node&&this.update(),this.element.bubble()},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},render:function(e){this.node=e,this.isSvg=e.namespaceURI===t.svg,this.update()},unbind:function(){this.fragment.unbind()},update:function(){var e,t,n=this;e=this.fragment.toString(),t=i(e,this.isSvg),this.attributes.filter(function(e){return o(t,e)}).forEach(function(e){n.node.removeAttribute(e.name)}),t.forEach(function(e){n.node.setAttribute(e.name,e.value)}),this.attributes=t},toString:function(){return this.fragment.toString()}},s=c}(o,C,A,gr),ui=function(e){return function(t,n){return n?n.map(function(n){return new e(t,n)}):[]}}(ai),ci=function(e){for(var t,n,r=Array.prototype.slice,i=r.call(arguments,1);n=i.shift();)for(t in n)n.hasOwnProperty(t)&&(e[t]=n[t]);return e},pi=function(e,t,n,r,i){var o=function(e){var n,r,i;return this.element=e,this.root=e.root,this.attribute=e.attributes[this.name||"value"],n=this.attribute.interpolator,n.twowayBinding=this,n.keypath&&"${"===n.keypath.substr(0,2)?(t("Two-way binding does not work with expressions (`"+n.keypath.slice(2,-1)+"`)"),!1):(n.keypath||n.resolver.forceResolution(),this.keypath=r=n.keypath,void(void 0===this.root.viewmodel.get(r)&&this.getInitialValue&&(i=this.getInitialValue(),void 0!==i&&this.root.viewmodel.set(r,i))))};return o.prototype={handleChange:function(){var t=this;e.start(this.root),this.attribute.locked=!0,this.root.viewmodel.set(this.keypath,this.getValue()),e.scheduleTask(function(){return t.attribute.locked=!1}),e.end()},rebound:function(){var e,t,n;t=this.keypath,n=this.attribute.interpolator.keypath,t!==n&&(i(this.root._twowayBindings[t],this),this.keypath=n,e=this.root._twowayBindings[n]||(this.root._twowayBindings[n]=[]),e.push(this))},unbind:function(){}},o.extend=function(e){var t,i=this;return t=function(e){o.call(this,e),this.init&&this.init()},t.prototype=n(i.prototype),r(t.prototype,e),t.extend=o.extend,t},o}(E,h,q,ci,g),li=function(){this._ractive.binding.handleChange()},hi=function(e,t){var n=e.extend({getInitialValue:function(){return this.element.fragment?this.element.fragment.toString():""},render:function(){var e=this.element.node;e.addEventListener("change",t,!1),this.root.lazy||(e.addEventListener("input",t,!1),e.attachEvent&&e.addEventListener("keyup",t,!1))},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("input",t,!1),e.removeEventListener("keyup",t,!1)},getValue:function(){return this.element.node.innerHTML}});return n}(pi,li),di=function(){var e={};return function(t,n,r){var i=t+n+r;return e[i]||(e[i]=[])}}(),fi=function(e,t,n,r,i){var o=n.extend({name:"checked",init:function(){this.siblings=r(this.root._guid,"radio",this.element.getAttribute("name")),this.siblings.push(this)},render:function(){var e=this.element.node;e.addEventListener("change",i,!1),e.attachEvent&&e.addEventListener("click",i,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",i,!1),e.removeEventListener("click",i,!1)},handleChange:function(){e.start(this.root),this.siblings.forEach(function(e){e.root.viewmodel.set(e.keypath,e.getValue())}),e.end()},getValue:function(){return this.element.node.checked},unbind:function(){t(this.siblings,this)}});return o}(E,g,pi,di,li),mi=function(e,t,n,r){var i=t.extend({name:"name",init:function(){this.siblings=r(this.root._guid,"radioname",this.keypath),this.siblings.push(this),this.radioName=!0,this.attribute.twoway=!0},getInitialValue:function(){return this.element.getAttribute("checked")?this.element.getAttribute("value"):void 0},render:function(){var e=this.element.node;e.name="{{"+this.keypath+"}}",e.checked=this.root.viewmodel.get(this.keypath)==this.element.getAttribute("value"),e.addEventListener("change",n,!1),e.attachEvent&&e.addEventListener("click",n,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",n,!1),e.removeEventListener("click",n,!1)},getValue:function(){var e=this.element.node;return e._ractive?e._ractive.value:e.value},handleChange:function(){this.element.node.checked&&t.prototype.handleChange.call(this)},rebound:function(e,n,r,i){var o;t.prototype.rebound.call(this,e,n,r,i),(o=this.element.node)&&(o.name="{{"+this.keypath+"}}")},unbind:function(){e(this.siblings,this)}});return i}(g,pi,li,di),gi=function(e,t,n,r,i,o){function s(e){return e.isChecked}function a(e){return e.element.getAttribute("value")}var u=r.extend({name:"name",getInitialValue:function(){return this.noInitialValue=!0,[]},init:function(){var e,t;this.checkboxName=!0,this.attribute.twoway=!0,this.siblings=i(this.root._guid,"checkboxes",this.keypath),this.siblings.push(this),this.noInitialValue&&(this.siblings.noInitialValue=!0),this.siblings.noInitialValue&&this.element.getAttribute("checked")&&(e=this.root.viewmodel.get(this.keypath),t=this.element.getAttribute("value"),e.push(t))},unbind:function(){n(this.siblings,this)},render:function(){var n,r,i=this.element.node;n=this.root.viewmodel.get(this.keypath),r=this.element.getAttribute("value"),this.isChecked=e(n)?t(n,r):n==r,i.name="{{"+this.keypath+"}}",i.checked=this.isChecked,i.addEventListener("change",o,!1),i.attachEvent&&i.addEventListener("click",o,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",o,!1),e.removeEventListener("click",o,!1)},changed:function(){var e=!!this.isChecked;return this.isChecked=this.element.node.checked,this.isChecked===e},handleChange:function(){this.isChecked=this.element.node.checked,r.prototype.handleChange.call(this)},getValue:function(){return this.siblings.filter(s).map(a)}});return u}(a,Yr,g,pi,di,li),vi=function(e,t){var n=e.extend({name:"checked",render:function(){var e=this.element.node;e.addEventListener("change",t,!1),e.attachEvent&&e.addEventListener("click",t,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("click",t,!1)},getValue:function(){return this.element.node.checked}});return n}(pi,li),bi=function(e,t,n){var r=t.extend({getInitialValue:function(){var e,t,n,r,i=this.element.options;if(void 0===this.element.getAttribute("value")&&(t=e=i.length,e)){for(;t--;)if(i[t].getAttribute("selected")){n=i[t].getAttribute("value"),r=!0;break}if(!r)for(;++t<e;)if(!i[t].getAttribute("disabled")){n=i[t].getAttribute("value");break}return void 0!==n&&(this.element.attributes.value.value=n),n}},render:function(){this.element.node.addEventListener("change",n,!1)},unrender:function(){this.element.node.removeEventListener("change",n,!1)},setValue:function(t){e.addViewmodel(this.root.viewmodel),this.root.viewmodel.set(this.keypath,t)},getValue:function(){var e,t,n,r,i;for(e=this.element.node.options,n=e.length,t=0;n>t;t+=1)if(r=e[t],e[t].selected)return i=r._ractive?r._ractive.value:r.value},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,e.addViewmodel(this.root.viewmodel),e.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))}});return r}(E,pi,li),wi=function(e){return function(t,n){var r;if(!e(t)||!e(n))return!1;if(t.length!==n.length)return!1;for(r=t.length;r--;)if(t[r]!==n[r])return!1;return!0}}(a),yi=function(e,t,n,r){var i=n.extend({getInitialValue:function(){return this.element.options.filter(function(e){return e.getAttribute("selected")}).map(function(e){return e.getAttribute("value")})},render:function(){var e;this.element.node.addEventListener("change",r,!1),e=this.root.viewmodel.get(this.keypath),void 0===e&&this.handleChange()},unrender:function(){this.element.node.removeEventListener("change",r,!1)},setValue:function(){throw new Error("TODO not implemented yet")},getValue:function(){var e,t,n,r,i,o;for(e=[],t=this.element.node.options,r=t.length,n=0;r>n;n+=1)i=t[n],i.selected&&(o=i._ractive?i._ractive.value:i.value,e.push(o));return e},handleChange:function(){var e,r,i;return e=this.attribute,r=e.value,i=this.getValue(),void 0!==r&&t(i,r)||n.prototype.handleChange.call(this),this},forceUpdate:function(){var t=this,n=this.getValue();void 0!==n&&(this.attribute.locked=!0,e.addViewmodel(this.root.viewmodel),e.scheduleTask(function(){return t.attribute.locked=!1}),this.root.viewmodel.set(this.keypath,n))},updateModel:function(){void 0!==this.attribute.value&&this.attribute.value.length||this.root.viewmodel.set(this.keypath,this.initialValue)}});return i}(E,wi,bi,li),ki=function(e,t){var n=e.extend({render:function(){this.element.node.addEventListener("change",t,!1)},unrender:function(){this.element.node.removeEventListener("change",t,!1)},getValue:function(){return this.element.node.files}});return n}(pi,li),xi=function(e,t){function n(){var e;t.call(this),e=this._ractive.root.viewmodel.get(this._ractive.binding.keypath,o),this.value=void 0==e?"":e}var r,i,o;return o={evaluateWrapped:!0},i=e.extend({getInitialValue:function(){return""},getValue:function(){return this.element.node.value},render:function(){var e=this.element.node;e.addEventListener("change",t,!1),this.root.lazy||(e.addEventListener("input",t,!1),e.attachEvent&&e.addEventListener("keyup",t,!1)),e.addEventListener("blur",n,!1)},unrender:function(){var e=this.element.node;e.removeEventListener("change",t,!1),e.removeEventListener("input",t,!1),e.removeEventListener("keyup",t,!1),e.removeEventListener("blur",n,!1)}}),r=i}(pi,li),_i=function(e){return e.extend({getInitialValue:function(){return void 0},getValue:function(){var e=parseFloat(this.element.node.value);return isNaN(e)?void 0:e}})}(xi),Ei=function(e,t,n,r,i,o,s,a,u,c,p){function l(e){return e&&e.isBindable}var h;return h=function(h){var d,f,m,g,v=h.attributes;return h.binding&&(h.binding.teardown(),h.binding=null),(h.getAttribute("contenteditable")||v.contenteditable&&l(v.contenteditable))&&l(v.value)?f=t:"input"===h.name?(d=h.getAttribute("type"),"radio"===d||"checkbox"===d?(m=l(v.name),g=l(v.checked),m&&g&&e.error({message:"badRadioInputBinding"}),m?f="radio"===d?r:i:g&&(f="radio"===d?n:o)):"file"===d&&l(v.value)?f=u:l(v.value)&&(f="number"===d||"range"===d?c:p)):"select"===h.name&&l(v.value)?f=h.getAttribute("multiple")?a:s:"textarea"===h.name&&l(v.value)&&(f=p),f?new f(h):void 0}}(f,hi,fi,mi,gi,vi,bi,yi,ki,_i,xi),Ti=function(){var e=this.getAction();e&&!this.hasListener?this.listen():!e&&this.hasListener&&this.unrender()},Si=function(e){return function(t){e(this.root,this.getAction(),{event:t})}}(kt),Pi=function(){return this.action.toString().trim()},Ci=function(e,t,n,r,i){function o(e){var t,n,r;if(t=this.root,"function"!=typeof t[this.method])throw new Error('Attempted to call a non-existent method ("'+this.method+'")');n=this.keypaths.map(function(n){var r,i,o;if(void 0===n)return void 0;if(n.eventObject){if(r=e,i=n.refinements.length)for(o=0;i>o;o+=1)r=r[n.refinements[o]]}else r=t.viewmodel.get(n);return r}),t.event=e,r=this.fn.apply(null,n),t[this.method].apply(t,r),delete t.event}function s(e){r(this.root,this.getAction(),{event:e,args:this.params})}function a(e){var t=this.dynamicParams.getValue(p);"string"==typeof t&&(t=t.substr(1,t.length-2)),r(this.root,this.getAction(),{event:e,args:t})}var u,c,p={args:!0},l=/^event(?:\.(.+))?/;return n.push(function(){c=n.Fragment}),u=function(n,r,u){var p,h,d,f=this;f.element=n,f.root=n.root,f.name=r,-1!==r.indexOf("*")&&(i.error({debug:this.root.debug,message:"noElementProxyEventWildcards",args:{element:n.tagName,event:r}}),this.invalid=!0),u.m?(h=u.a.r,f.method=u.m,f.keypaths=[],f.fn=e(u.a.s,h.length),f.parentFragment=n.parentFragment,d=f.root,f.refResolvers=h.map(function(e,n){var r;return(r=l.exec(e))?(f.keypaths[n]={eventObject:!0,refinements:r[1]?r[1].split("."):[]},null):t(f,e,function(e){f.resolve(n,e)})}),this.fire=o):(p=u.n||u,"string"!=typeof p&&(p=new c({template:p,root:this.root,owner:this})),this.action=p,u.d?(this.dynamicParams=new c({template:u.d,root:this.root,owner:this.element}),this.fire=a):u.a&&(this.params=u.a,this.fire=s))}}(jn,Mn,o,kt,f),Ai=function(e){var t,n;t=this._ractive,n=t.events[e.type],n.fire({node:this,original:e,index:t.index,keypath:t.keypath,context:t.root.get(t.keypath)})},Ri=function(e,t,n){function r(e){return o[e]||(o[e]=function(t){var n=t.node._ractive;t.index=n.index,t.keypath=n.keypath,t.context=n.root.get(n.keypath),n.events[e].fire(t)}),o[e]}var i,o={},s={touchstart:!0,touchmove:!0,touchend:!0,touchcancel:!0,touchleave:!0};return i=function(){var i,o=this.name;if(!this.invalid){if(i=e.registries.events.find(this.root,o))this.custom=i(this.node,r(o));else{if(!("on"+o in this.node||window&&"on"+o in window))return void(s[o]||n.error({debug:this.root.debug,message:"missingPlugin",args:{plugin:"event",name:o}}));this.node.addEventListener(o,t,!1)}this.hasListener=!0}}}(nt,Ai,f),Oi=function(e,t,n,r){function i(i){i&&i.rebind(e,t,n,r)}var o;return this.method?(o=this.element.parentFragment,void this.refResolvers.forEach(i)):("string"!=typeof this.action&&i(this.action),void(this.dynamicParams&&i(this.dynamicParams)))},Ni=function(){this.node=this.element.node,this.node._ractive.events[this.name]=this,(this.method||this.getAction())&&this.listen()},Ii=function(e,t){this.keypaths[e]=t},zi=function(){function e(e){e.unbind()}var t;return t=function(){return this.method?void this.refResolvers.forEach(e):("string"!=typeof this.action&&this.action.unbind(),void(this.dynamicParams&&this.dynamicParams.unbind()))}}(),Fi=function(e){return function(){this.custom?this.custom.teardown():this.node.removeEventListener(this.name,e,!1),this.hasListener=!1}}(Ai),Li=function(e,t,n,r,i,o,s,a,u,c){var p=function(e,t,n){this.init(e,t,n)};return p.prototype={bubble:e,fire:t,getAction:n,init:r,listen:i,rebind:o,render:s,resolve:a,unbind:u,unrender:c},p}(Ti,Si,Pi,Ci,Ri,Oi,Ni,Ii,zi,Fi),Di=function(e){return function(t,n){var r,i,o,s,a=[];for(i in n)if(n.hasOwnProperty(i))for(o=i.split("-"),r=o.length;r--;)s=new e(t,o[r],n[i]),a.push(s);return a}}(Li),Mi=function(e,t,n){var r,i,o;return t.push(function(){r=t.Fragment}),i={args:!0},o=function(t,o){var s,a,u,c=this;c.element=t,c.root=s=t.root,a=o.n||o,"string"!=typeof a&&(u=new r({template:a,root:s,owner:t}),a=u.toString(),u.unbind()),o.a?c.params=o.a:o.d&&(c.fragment=new r({template:o.d,root:s,owner:t}),c.params=c.fragment.getValue(i),c.fragment.bubble=function(){this.dirtyArgs=this.dirtyValue=!0,c.params=this.getValue(i),c.ready&&c.update()}),c.fn=n.registries.decorators.find(s,a),c.fn||e.error({debug:s.debug,message:"missingPlugin",args:{plugin:"decorator",name:a}})},o.prototype={init:function(){var e,t,n,r=this;if(e=r.element.node,r.params?(n=[e].concat(r.params),t=r.fn.apply(r.root,n)):t=r.fn.call(r.root,e),!t||!t.teardown)throw new Error("Decorator definition must return an object with a teardown method");r.actual=t,r.ready=!0},update:function(){this.actual.update?this.actual.update.apply(this.root,this.params):(this.actual.teardown(!0),this.init())},rebind:function(e,t,n,r){this.fragment&&this.fragment.rebind(e,t,n,r)},teardown:function(e){this.actual.teardown(),!e&&this.fragment&&this.fragment.unbind()}},o}(f,o,nt),ji=function(e){function t(e,t){for(var n=e.length;n--;)if(e[n]==t)return!0}var n;return n=function(n){var r,i,o,s,a;r=n.node,r&&(s=e(r.options),i=n.getAttribute("value"),o=n.getAttribute("multiple"),void 0!==i?(s.forEach(function(e){var n,r;n=e._ractive?e._ractive.value:e.value,r=o?t(i,n):i==n,r&&(a=!0),e.selected=r}),a||(s[0]&&(s[0].selected=!0),n.binding&&n.binding.forceUpdate())):n.binding&&n.binding.forceUpdate())}}(gr),Wi=function(e,t){return function(){var n=this;this.dirty||(this.dirty=!0,e.scheduleTask(function(){t(n),n.dirty=!1})),this.parentFragment.bubble()}}(E,ji),Hi=function(e){do if("select"===e.name)return e;while(e=e.parent)},Vi=function(e){return function(t,n){t.select=e(t.parent),t.select&&(t.select.options.push(t),n.a||(n.a={}),void 0!==n.a.value||n.a.hasOwnProperty("disabled")||(n.a.value=n.f),"selected"in n.a&&void 0!==t.select.getAttribute("value")&&delete n.a.selected)}}(Hi),Ui=function(e,t,n,r,i,o,s,a,u,c){var p;return c.push(function(){p=c.Fragment}),function(c){var l,h,d,f,m;this.type=e.ELEMENT,l=this.parentFragment=c.parentFragment,h=this.template=c.template,this.parent=c.pElement||l.pElement,this.root=d=l.root,this.index=c.index,this.name=t(h.e),"option"===this.name&&u(this,h),"select"===this.name&&(this.options=[],this.bubble=a),this.attributes=n(this,h.a),this.conditionalAttributes=r(this,h.m),h.f&&(this.fragment=new p({template:h.f,root:d,owner:this,pElement:this})),d.twoway&&(f=i(this,h.a))&&(this.binding=f,m=this.root._twowayBindings[f.keypath]||(this.root._twowayBindings[f.keypath]=[]),m.push(f)),h.v&&(this.eventHandlers=o(this,h.v)),h.o&&(this.decorator=new s(this,h.o)),this.intro=h.t0||h.t1,this.outro=h.t0||h.t2}}(Zt,zr,si,ui,Ei,Di,Mi,Wi,Vi,o),Bi=function(e){return function(t,n){return t===n||e(t,n)}}(In),qi=function(e,t){return function(n,r,i,o){var s=n[r];s&&!e(s,o)&&e(s,i)&&(n[r]=t(s,i,o))}}(Bi,zn),Yi=function(e){return function(t,n,r,i){function o(e){e.rebind(t,n,r,i)}var s,a,u,c;if(this.attributes&&this.attributes.forEach(o),this.conditionalAttributes&&this.conditionalAttributes.forEach(o),this.eventHandlers&&this.eventHandlers.forEach(o),this.decorator&&o(this.decorator),this.fragment&&o(this.fragment),u=this.liveQueries)for(c=this.root,s=u.length;s--;)u[s]._makeDirty();this.node&&(a=this.node._ractive)&&(e(a,"keypath",r,i),void 0!=t&&(a.index[t]=n))}}(qi),Ki=function(e){var t;(e.attributes.width||e.attributes.height)&&e.node.addEventListener("load",t=function(){var n=e.getAttribute("width"),r=e.getAttribute("height");void 0!==n&&e.node.setAttribute("width",n),void 0!==r&&e.node.setAttribute("height",r),e.node.removeEventListener("load",t,!1)},!1)},Ji=function(e,t,n){var r,i={};return n.push(function(){r=n.Fragment}),function(n,o,s){var a,u,c,p=this;return p.element=n,p.root=a=n.root,p.isIntro=s,u=o.n||o,"string"!=typeof u&&(c=new r({template:u,root:a,owner:n}),u=c.toString(),c.unbind()),p.name=u,o.a?p.params=o.a:o.d&&(c=new r({template:o.d,root:a,owner:n}),p.params=c.getValue(i),c.unbind()),p._fn=t.registries.transitions.find(a,u),p._fn?void 0:void e.error({debug:a.debug,message:"missingPlugin",args:{plugin:"transition",name:u}})}}(f,nt,o),Gi=function(e){return e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()})},Qi=function(e,t,n,r){var i,o,s;return e?(o={},s=n("div").style,i=function(e){var n,i,a;if(e=r(e),!o[e])if(void 0!==s[e])o[e]=e;else for(a=e.charAt(0).toUpperCase()+e.substring(1),n=t.length;n--;)if(i=t[n],void 0!==s[i+a]){o[e]=i+a;break}return o[e]}):i=null,i}(R,L,A,Gi),Xi=function(e,t,n,r){var i,o;return t?(o=window.getComputedStyle||e.getComputedStyle,i=function(e){var t,i,s,a,u;if(t=o(this.node),"string"==typeof e)return u=t[r(e)],"0px"===u&&(u=0),u;if(!n(e))throw new Error("Transition$getStyle must be passed a string, or an array of strings representing CSS properties");for(i={},s=e.length;s--;)a=e[s],u=t[r(a)],"0px"===u&&(u=0),i[a]=u;return i}):i=null,i}(Y,R,a,Qi),Zi=function(e){return function(t,n){var r;if("string"==typeof t)this.node.style[e(t)]=n;else for(r in t)t.hasOwnProperty(r)&&(this.node.style[e(r)]=t[r]);return this}}(Qi),$i=function(e,t,n){function r(e){return e}var i,o=function(i){var o;this.duration=i.duration,this.step=i.step,this.complete=i.complete,"string"==typeof i.easing?(o=i.root.easing[i.easing],o||(e('Missing easing function ("'+i.easing+'"). You may need to download a plugin from [TODO]'),o=r)):o="function"==typeof i.easing?i.easing:r,this.easing=o,this.start=t(),this.end=this.start+this.duration,this.running=!0,n.add(this)};return o.prototype={tick:function(e){var t,n;return this.running?e>this.end?(this.step&&this.step(1),this.complete&&this.complete(1),!1):(t=e-this.start,n=this.easing(t/this.duration),this.step&&this.step(n),!0):!1},stop:function(){this.abort&&this.abort(),this.running=!1}},i=o}(h,M,j),eo=function(e){var t=new RegExp("^-(?:"+e.join("|")+")-");return function(e){return e.replace(t,"")}}(L),to=function(e){var t=new RegExp("^(?:"+e.join("|")+")([A-Z])");return function(e){var n;return e?(t.test(e)&&(e="-"+e),n=e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})):""}}(L),no=function(e,t,n,r,i,o,s,a,u){var c,p,l,h,d,f,m,g,v={},b={};return e?(p=n("div").style,function(){void 0!==p.transition?(l="transition",h="transitionend",d=!0):void 0!==p.webkitTransition?(l="webkitTransition",h="webkitTransitionEnd",d=!0):d=!1}(),l&&(f=l+"Duration",m=l+"Property",g=l+"TimingFunction"),c=function(e,n,c,p,l){setTimeout(function(){var w,y,k,x,_;x=function(){y&&k&&(e.root.fire(e.name+":end",e.node,e.isIntro),l())},w=(e.node.namespaceURI||"")+e.node.tagName,e.node.style[m]=p.map(s).map(u).join(","),e.node.style[g]=u(c.easing||"linear"),e.node.style[f]=c.duration/1e3+"s",_=function(t){var n;n=p.indexOf(r(a(t.propertyName))),-1!==n&&p.splice(n,1),p.length||(e.node.removeEventListener(h,_,!1),k=!0,x())},e.node.addEventListener(h,_,!1),setTimeout(function(){for(var a,u,l,f,m,g=p.length,E=[];g--;)f=p[g],a=w+f,d&&!b[a]&&(e.node.style[s(f)]=n[f],v[a]||(u=e.getStyle(f),v[a]=e.getStyle(f)!=n[f],b[a]=!v[a],b[a]&&(e.node.style[s(f)]=u))),(!d||b[a])&&(void 0===u&&(u=e.getStyle(f)),l=p.indexOf(f),-1===l?t("Something very strange happened with transitions. If you see this message, please let @RactiveJS know. Thanks!"):p.splice(l,1),m=/[^\d]*$/.exec(n[f])[0],E.push({name:s(f),interpolator:i(parseFloat(u),parseFloat(n[f])),suffix:m}));E.length?new o({root:e.root,duration:c.duration,easing:r(c.easing||""),step:function(t){var n,r;for(r=E.length;r--;)n=E[r],e.node.style[n.name]=n.interpolator(t)+n.suffix},complete:function(){y=!0,x()}}):y=!0,p.length||(e.node.removeEventListener(h,_,!1),k=!0,x())},0)},c.delay||0)}):c=null,c}(R,h,A,Gi,rt,$i,Qi,eo,to),ro=function(e){function t(){u.hidden=document[i]}function n(){u.hidden=!0}function r(){u.hidden=!1}var i,o,s,a,u;if("undefined"!=typeof document){if(i="hidden",u={},i in document)s="";else for(a=e.length;a--;)o=e[a],i=o+"Hidden",i in document&&(s=o);void 0!==s?(document.addEventListener(s+"visibilitychange",t),t()):("onfocusout"in document?(document.addEventListener("focusout",n),document.addEventListener("focusin",r)):(window.addEventListener("pagehide",n),window.addEventListener("blur",n),window.addEventListener("pageshow",r),window.addEventListener("focus",r)),u.hidden=!1)}return u}(L),io=function(e,t,n,r,i,o,s){var a,u,c;return t?(u=window.getComputedStyle||e.getComputedStyle,a=function(e,t,a,p){var l,h=this;if(s.hidden)return this.setStyle(e,t),c||(c=r.resolve());"string"==typeof e?(l={},l[e]=t):(l=e,p=a,a=t),a||(n('The "'+h.name+'" transition does not supply an options object to `t.animateStyle()`. This will break in a future version of Ractive. For more info see https://github.com/RactiveJS/Ractive/issues/340'),a=h,p=h.complete);var d=new r(function(e){var t,n,r,s,c,p,d;if(!a.duration)return h.setStyle(l),void e();for(t=Object.keys(l),n=[],r=u(h.node),c={},p=t.length;p--;)d=t[p],s=r[i(d)],"0px"===s&&(s=0),s!=l[d]&&(n.push(d),h.node.style[i(d)]=s);return n.length?void o(h,l,a,n,e):void e()});return p&&(n("t.animateStyle returns a Promise as of 0.4.0. Transition authors should do t.animateStyle(...).then(callback)"),d.then(p)),d}):a=null,a}(Y,R,h,v,Qi,no,ro),oo=function(e){var t=Array.prototype.slice,n=t.call(arguments,1);return n.forEach(function(t){for(var n in t)!t.hasOwnProperty(n)||n in e||(e[n]=t[n])}),e},so=function(e){return function(t,n){return"number"==typeof t?t={duration:t}:"string"==typeof t?t="slow"===t?{duration:600}:"fast"===t?{duration:200}:{duration:400}:t||(t={}),e({},t,n)}}(oo),ao=function(){function e(e,t){t?e.setAttribute("style",t):(e.getAttribute("style"),e.removeAttribute("style"))}var t;return t=function(){var t,n,r,i=this;return t=i.node=i.element.node,n=t.getAttribute("style"),i.complete=function(o){r||(!o&&i.isIntro&&e(t,n),t._ractive.transition=null,i._manager.remove(i),r=!0)},i._fn?void i._fn.apply(i.root,[i].concat(i.params)):void i.complete()}}(),uo=function(e,t,n,r,i,o,s){var a,u;return s.push(function(){a=s.Fragment}),u=function(e,t,n){this.init(e,t,n)},u.prototype={init:e,start:o,getStyle:t,setStyle:n,animateStyle:r,processParams:i},u}(Ji,Xi,Zi,io,so,ao,o),co=function(e,t,n,r,i,o,s,a,u,c,p){function l(t){var n,r,i;return n=(r=t.getAttribute("xmlns"))?r:"svg"===t.name?e.svg:(i=t.parent)?"foreignObject"===i.name?e.html:i.node.namespaceURI:t.root.el.namespaceURI}function h(e){var n,r,i;if(e.select&&(r=e.select.getAttribute("value"),void 0!==r))if(n=e.getAttribute("value"),e.select.node.multiple&&t(r)){for(i=r.length;i--;)if(n==r[i]){e.node.selected=!0;break}}else e.node.selected=n==r}function d(e){var t,n,r,i,o;t=e.root;do for(n=t._liveQueries,r=n.length;r--;)i=n[r],o=n["_"+i],o._test(e)&&(e.liveQueries||(e.liveQueries=[])).push(o);while(t=t._parent)}var f,m,g;return m=function(){var e=this.node,t=this.fragment.toString(!1);if(window&&window.appearsToBeIELessEqual8&&(e.type="text/css"),e.styleSheet)e.styleSheet.cssText=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},g=function(){this.node.type&&"text/javascript"!==this.node.type||n("Script tag was updated. This does not cause the code to be re-evaluated!"),this.node.text=this.fragment.toString(!1)},f=function(){var e,t,n=this,f=this.root;if(e=l(this),t=this.node=i(this.name,e),f.constructor.css&&this.parentFragment.getNode()===f.el&&this.node.setAttribute("data-rvcguid",f.constructor._guid),o(this.node,"_ractive",{value:{proxy:this,keypath:u(this.parentFragment),index:this.parentFragment.indexRefs,events:r(null),root:f}}),this.attributes.forEach(function(e){return e.render(t)}),this.conditionalAttributes.forEach(function(e){return e.render(t)}),this.fragment&&("script"===this.name?(this.bubble=g,this.node.text=this.fragment.toString(!1),this.fragment.unrender=s):"style"===this.name?(this.bubble=m,this.bubble(),this.fragment.unrender=s):this.binding&&this.getAttribute("contenteditable")?this.fragment.unrender=s:this.node.appendChild(this.fragment.render())),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.render()}),this.binding&&(this.binding.render(),this.node._ractive.binding=this.binding),"img"===this.name&&c(this),this.decorator&&this.decorator.fn&&a.scheduleTask(function(){return n.decorator.init()},!0),f.transitionsEnabled&&this.intro){var v=new p(this,this.intro,!0);a.registerTransition(v),a.scheduleTask(function(){return v.start()},!0),this.transition=v}return"option"===this.name&&h(this),this.node.autofocus&&a.scheduleTask(function(){return n.node.focus()},!0),d(this),this.node}}(C,a,h,q,A,O,$,E,w,Ki,uo),po=function(){var e=/^(?:area|base|br|col|command|doctype|embed|hr|img|input|keygen|link|meta|param|source|track|wbr)$/i;return e}(),lo=function(e,t,n){function r(e){var n,r,i;if(n=e.getAttribute("value"),void 0===n||!e.select)return!1;if(r=e.select.getAttribute("value"),r==n)return!0;if(e.select.getAttribute("multiple")&&t(r))for(i=r.length;i--;)if(r[i]==n)return!0}function i(e){var t,n,r,i;return t=e.attributes,n=t.type,r=t.value,i=t.name,n&&"radio"===n.value&&r&&i.interpolator&&r.value===i.interpolator.value?!0:void 0}function o(e){var t=e.toString();return t?" "+t:""}var s;return s=function(){var t,s;return t="<"+(this.template.y?"!DOCTYPE":this.template.e),t+=this.attributes.map(o).join("")+this.conditionalAttributes.map(o).join(""),"option"===this.name&&r(this)&&(t+=" selected"),"input"===this.name&&i(this)&&(t+=" checked"),t+=">","textarea"===this.name&&void 0!==this.getAttribute("value")?t+=n(this.getAttribute("value")):void 0!==this.getAttribute("contenteditable")&&(t+=this.getAttribute("value")),this.fragment&&(s="script"!==this.name&&"style"!==this.name,t+=this.fragment.toString(s)),e.test(this.template.e)||(t+="</"+this.template.e+">"),t
}}(po,a,Pn),ho=function(e){return function(t){t.select&&e(t.select.options,t)}}(g),fo=function(e){function t(e){e.unbind()}var n;return n=function(){this.fragment&&this.fragment.unbind(),this.binding&&this.binding.unbind(),this.eventHandlers&&this.eventHandlers.forEach(t),"option"===this.name&&e(this),this.attributes.forEach(t),this.conditionalAttributes.forEach(t)}}(ho),mo=function(e,t){function n(e){var t,n,r;for(r=e.liveQueries.length;r--;)t=e.liveQueries[r],n=t.selector,t._remove(e.node)}var r;return r=function(r){var i,o;if(this.transition&&this.transition.complete(),"option"===this.name?this.detach():r&&e.detachWhenReady(this),this.fragment&&this.fragment.unrender(!1),(i=this.binding)&&(this.binding.unrender(),this.node._ractive.binding=null,o=this.root._twowayBindings[i.keypath],o.splice(o.indexOf(i),1)),this.eventHandlers&&this.eventHandlers.forEach(function(e){return e.unrender()}),this.decorator&&this.decorator.teardown(),this.root.transitionsEnabled&&this.outro){var s=new t(this,this.outro,!1);e.registerTransition(s),e.scheduleTask(function(){return s.start()})}this.liveQueries&&n(this)}}(E,uo),go=function(e,t,n,r,i,o,s,a,u,c,p,l,h,d,f){var m=function(e){this.init(e)};return m.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:s,firstNode:a,getAttribute:u,init:c,rebind:p,render:l,toString:h,unbind:d,unrender:f},m}(Tr,Sr,Pr,Cr,Ar,Rr,Or,Nr,Ir,Ui,Yi,co,lo,fo,mo),vo=function(){function e(e,t){var n=r.exec(t)[0];return null===e||n.length<e.length?n:e}var t,n=/^\s*$/,r=/^\s*/;return t=function(t){var r,i,o,s;return r=t.split("\n"),i=r[0],void 0!==i&&n.test(i)&&r.shift(),o=r[r.length-1],void 0!==o&&n.test(o)&&r.pop(),s=r.reduce(e,null),s&&(t=r.map(function(e){return e.replace(s,"")}).join("\n")),t}}(),bo=function(e,t,n,r){function i(r,i){var o=t.registries.partials,s=o.findInstance(r,i);if(s){var a,u=s.partials[i];if("function"==typeof u&&(a=u.bind(s),a.isOwner=s.partials.hasOwnProperty(i),u=a(s.data,n)),!u)return void e.warn({debug:r.debug,message:"noRegistryFunctionReturn",args:{registry:"partial",name:i}});if(!n.isParsed(u)){var c=n.parse(u,n.getParseOptions(s));c.p&&e.warn({debug:r.debug,message:"noNestedPartials",args:{rname:i}});var p=a?s:o.findOwner(s,i);p.partials[i]=u=c.t}return a&&(u._fn=a),u.v?u.t:u}}var o;return o=function(e,t){var o;if(o=i(e,t))return o;if(o=n.fromId(t,{noThrow:!0})){o=r(o);var s=n.parse(o,n.getParseOptions(e));return e.partials[t]=s.t}}}(f,nt,G,vo),wo=function(e,t){var n;return t?n=e.split("\n").map(function(e,n){return n?t+e:e}).join("\n"):e},yo=function(e,t,n,r,i,o,s,a,u){var c,p;return i.push(function(){p=i.Fragment}),c=function(e){var r,i;r=this.parentFragment=e.parentFragment,this.root=r.root,this.type=t.PARTIAL,this.index=e.index,this.name=e.template.r,this.fragment=this.fragmentToRender=this.fragmentToUnrender=null,s.init(this,e),!this.keypath&&(i=n(this.root,this.name))&&(u.call(this),this.isNamed=!0,this.setTemplate(i))},c.prototype={bubble:function(){this.parentFragment.bubble()},detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},firstNode:function(){return this.fragment.firstNode()},findNextNode:function(){return this.parentFragment.findNextNode(this)},getValue:function(){return this.fragment.getValue()},rebind:function(e,t,n,r){a.call(this,e,t,n,r),this.fragment.rebind(e,t,n,r)},render:function(){return this.docFrag=document.createDocumentFragment(),this.update(),this.rendered=!0,this.docFrag},resolve:s.resolve,setValue:function(t){var r;(void 0===t||t!==this.value)&&(r=n(this.root,""+t),!r&&this.name&&(r=n(this.root,this.name))&&(u.call(this),this.isNamed=!0),r||e.error({debug:this.root.debug,message:"noTemplateForPartial",args:{name:this.name}}),this.setTemplate(r||[]),this.value=t,this.bubble(),this.rendered&&o.addView(this))},setTemplate:function(e){this.fragment&&(this.fragment.unbind(),this.fragmentToUnrender=this.fragment),this.fragment=new p({template:e,root:this.root,owner:this,pElement:this.parentFragment.pElement}),this.fragmentToRender=this.fragment},toString:function(e){var n,i,o,s;return n=this.fragment.toString(e),i=this.parentFragment.items[this.index-1],i&&i.type===t.TEXT?(o=i.text.split("\n").pop(),(s=/^\s+$/.exec(o))?r(n,s[0]):n):n},unbind:function(){this.isNamed||u.call(this),this.fragment&&this.fragment.unbind()},unrender:function(e){this.rendered&&(this.fragment&&this.fragment.unrender(e),this.rendered=!1)},update:function(){var e,t;this.fragmentToUnrender&&(this.fragmentToUnrender.unrender(!0),this.fragmentToUnrender=null),this.fragmentToRender&&(this.docFrag.appendChild(this.fragmentToRender.render()),this.fragmentToRender=null),this.rendered&&(e=this.parentFragment.getNode(),t=this.parentFragment.findNextNode(this),e.insertBefore(this.docFrag,t))}},c}(f,Zt,bo,wo,o,E,Yn,qn,On),ko=function(e,t,n){var r;return n.push(function(){r=n.Ractive}),function i(n,r){var o,s=e.registries.components.findInstance(n,r);if(s&&(o=s.components[r],!o._parent)){var a=o.bind(s);if(a.isOwner=s.components.hasOwnProperty(r),o=a(s.data),!o)return void t.warn({debug:n.debug,message:"noRegistryFunctionReturn",args:{registry:"component",name:r}});"string"==typeof o&&(o=i(n,o)),o._fn=a,s.components[r]=o}return o}}(nt,f,o),xo=function(e){var t=new e("detach");return function(){var e=this.instance.fragment.detach();return t.fire(this.instance),e}}(m),_o=function(e){return this.instance.fragment.find(e)},Eo=function(e,t){return this.instance.fragment.findAll(e,t)},To=function(e,t){t._test(this,!0),this.instance.fragment&&this.instance.fragment.findAllComponents(e,t)},So=function(e){return e&&e!==this.name?this.instance.fragment?this.instance.fragment.findComponent(e):null:this.instance},Po=function(){return this.parentFragment.findNextNode(this)},Co=function(){return this.rendered?this.instance.fragment.firstNode():null},Ao=function(e,t){var n,r;return t.push(function(){n=t.Fragment}),r=function(e,t,r){this.parentFragment=e.parentFragment,this.component=e,this.key=t,this.fragment=new n({template:r,root:e.root,owner:this}),this.value=this.fragment.getValue()},r.prototype={bubble:function(){this.dirty||(this.dirty=!0,e.addView(this))},update:function(){var t=this.fragment.getValue();this.component.instance.viewmodel.set(this.key,t),e.addViewmodel(this.component.instance.viewmodel),this.value=t,this.dirty=!1},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},unbind:function(){this.fragment.unbind()}},r}(E,o),Ro=function(e,t){var n=function(n,r,i,o){var s=this;this.root=n.root,this.parentFragment=n.parentFragment,this.ready=!1,this.hash=null,this.resolver=new e(this,i,function(e){s.binding||(s.binding=n.bindings[s.hash])?(n.bindings[s.hash]=null,s.binding.rebind(e),s.hash=e+"="+r,n.bindings[s.hash]):s.ready?t(n,n.root,e,r):o.push({childKeypath:r,parentKeypath:e}),s.value=n.root.viewmodel.get(e)})};return n.prototype={rebind:function(e,t,n,r){this.resolver.rebind(e,t,n,r)},unbind:function(){this.resolver.unbind()}},n}(Vn,k),Oo=function(e,t,n,r,i){function o(o,s,a,u){var c,p,l,h,d,f;if(l=o.root,h=o.parentFragment,"string"==typeof a)return p=t(a),p?p.value:a;if(null===a)return!0;if(1===a.length&&a[0].t===e.INTERPOLATOR){if(a[0].r)return h.indexRefs&&void 0!==h.indexRefs[f=a[0].r]?(o.indexRefBindings[f]=s,h.indexRefs[f]):(d=n(l,a[0].r,h)||a[0].r,u.push({childKeypath:s,parentKeypath:d}),l.viewmodel.get(d));if(a[0].rx)return c=new i(o,s,a[0].rx,u),o.complexParameters.push(c),c.ready=!0,c.value}return c=new r(o,s,a),o.complexParameters.push(c),c.value}var s;return s=function(e,t,n,r){var i,s,a={};e.complexParameters=[];for(i in n)n.hasOwnProperty(i)&&(s=o(e,i,n[i],r),(void 0!==s||void 0===t[i])&&(a[i]=s));return a}}(Zt,Tn,x,Ao,Ro),No=function(e){return function(t,n,r,i){var o,s,a,u;return s=t.parentFragment,u=t.root,a={content:i||[]},n.defaults.el&&e.warn({debug:u.debug,message:"defaultElSpecified",args:{name:t.name}}),o=new n({el:null,append:!0,data:r,partials:a,magic:u.magic||n.defaults.magic,modifyArrays:u.modifyArrays,_parent:u,_component:t,adapt:u.adapt,"yield":{template:i,instance:u}})}}(f),Io=function(e){return function(t,n){n.forEach(function(n){var r,i;e(t,t.root,n.parentKeypath,n.childKeypath),r=t.instance.viewmodel.get(n.childKeypath),i=t.root.viewmodel.get(n.parentKeypath),void 0!==r&&void 0===i&&t.root.viewmodel.set(n.parentKeypath,r)})}}(k),zo=function(e,t,n){function r(e,r,i,o){"string"!=typeof o&&n.error({debug:r.debug,message:"noComponentEventArguments"}),e.on(i,function(){var e,n;return arguments.length&&arguments[0]&&arguments[0].node&&(e=Array.prototype.shift.call(arguments)),n=Array.prototype.slice.call(arguments),t(r,o,{event:e,args:n}),!1})}var i,o;return e.push(function(){o=e.Fragment}),i=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&r(e.instance,e.root,n,t[n])}}(o,kt,f),Fo=function(e){var t,n;for(t=e.root;t;)(n=t._liveComponentQueries["_"+e.name])&&n.push(e.instance),t=t._parent},Lo=function(e,t,n,r,i,o,s){return function(a,u){var c,p,l,h;if(c=this.parentFragment=a.parentFragment,p=c.root,this.root=p,this.type=e.COMPONENT,this.name=a.template.e,this.index=a.index,this.indexRefBindings={},this.bindings=[],this.yielders=[],!u)throw new Error('Component "'+this.name+'" not found');h=[],l=n(this,u.defaults.data||{},a.template.a,h),r(this,u,l,a.template.f),i(this,h),o(this,a.template.v),(a.template.t1||a.template.t2||a.template.o)&&t('The "intro", "outro" and "decorator" directives have no effect on components'),s(this)}}(Zt,h,Oo,No,Io,zo,Fo),Do=function(e,t){return function(n,r,i,o){function s(e){e.rebind(n,r,i,o)}var a,u,c=this.instance,p=c._parent;this.bindings.forEach(function(e){var n;e.root===p&&(n=t(e.keypath,i,o))&&e.rebind(n)}),this.complexParameters.forEach(s),this.yielders[0]&&s(this.yielders[0]),(a=this.indexRefBindings[n])&&(e.addViewmodel(c.viewmodel),c.viewmodel.set(a,r)),(u=this.root._liveComponentQueries["_"+this.name])&&u._makeDirty()}}(E,zn),Mo=function(){var e=this.instance;return e.render(this.parentFragment.getNode()),this.rendered=!0,e.fragment.detach()},jo=function(){return this.instance.fragment.toString()},Wo=function(e,t){function n(e){e.unbind()}function r(e){var t,n;t=e.root;do(n=t._liveComponentQueries["_"+e.name])&&n._remove(e);while(t=t._parent)}var i,o=new e("teardown");return i=function(){var e=this.instance;this.complexParameters.forEach(n),this.bindings.forEach(n),r(this),e.fragment.unbind(),e.viewmodel.teardown(),e.fragment.rendered&&e.el.__ractive_instances__&&t(e.el.__ractive_instances__,e),o.fire(e)}}(m,g),Ho=function(e){this.shouldDestroy=e,this.instance.unrender()},Vo=function(e,t,n,r,i,o,s,a,u,c,p,l,h){var d=function(e,t){this.init(e,t)};return d.prototype={detach:e,find:t,findAll:n,findAllComponents:r,findComponent:i,findNextNode:o,firstNode:s,init:a,rebind:u,render:c,toString:p,unbind:l,unrender:h},d}(xo,_o,Eo,To,So,Po,Co,Lo,Do,Mo,jo,Wo,Ho),Uo=function(e,t){var n=function(t){this.type=e.COMMENT,this.value=t.template.c};return n.prototype={detach:t,firstNode:function(){return this.node},render:function(){return this.node||(this.node=document.createComment(this.value)),this.node},toString:function(){return"<!--"+this.value+"-->"},unrender:function(e){e&&this.node.parentNode.removeChild(this.node)}},n}(Zt,An),Bo=function(e,t,n){var r;n.push(function(){r=n.Fragment});var i=function(t){var n,i;n=t.parentFragment.root,this.component=i=n.component,this.surrogateParent=t.parentFragment,this.parentFragment=i.parentFragment,this.fragment=new r({owner:this,root:n.yield.instance,template:n.yield.template,pElement:this.surrogateParent.pElement}),i.yielders.push(this),e.scheduleTask(function(){if(i.yielders.length>1)throw new Error("A component template can only have one {{yield}} declaration at a time")})};return i.prototype={detach:function(){return this.fragment.detach()},find:function(e){return this.fragment.find(e)},findAll:function(e,t){return this.fragment.findAll(e,t)},findComponent:function(e){return this.fragment.findComponent(e)},findAllComponents:function(e,t){return this.fragment.findAllComponents(e,t)},findNextNode:function(){return this.surrogateParent.findNextNode(this)},firstNode:function(){return this.fragment.firstNode()},getValue:function(e){return this.fragment.getValue(e)},render:function(){return this.fragment.render()},unbind:function(){this.fragment.unbind()},unrender:function(e){this.fragment.unrender(e),t(this.component.yielders,this)},rebind:function(e,t,n,r){this.fragment.rebind(e,t,n,r)},toString:function(){return this.fragment.toString()}},i}(E,g,o),qo=function(e,t,n,r,i,o,s,a,u,c,p){return function(l){if("string"==typeof l.template)return new t(l);switch(l.template.t){case e.INTERPOLATOR:return"yield"===l.template.r?new p(l):new n(l);case e.SECTION:return new r(l);case e.TRIPLE:return new i(l);case e.ELEMENT:var h;return(h=a(l.parentFragment.root,l.template.e))?new u(l,h):new o(l);case e.PARTIAL:return new s(l);case e.COMMENT:return new c(l);default:throw new Error("Something very strange happened. Please file an issue at https://github.com/ractivejs/ractive/issues. Thanks!")}}}(Zt,Rn,Kn,pr,Er,go,yo,ko,Vo,Uo,Bo),Yo=function(e,t,n){return function(r){var i,o,s,a=this;if(this.owner=r.owner,i=this.parent=this.owner.parentFragment,this.root=r.root,this.pElement=r.pElement,this.context=r.context,this.owner.type===e.SECTION&&(this.index=r.index),i&&(o=i.indexRefs)){this.indexRefs=t(null);for(s in o)this.indexRefs[s]=o[s]}r.indexRef&&(this.indexRefs||(this.indexRefs={}),this.indexRefs[r.indexRef]=r.index),"string"==typeof r.template?r.template=[r.template]:r.template||(r.template=[]),this.items=r.template.map(function(e,t){return n({parentFragment:a,pElement:r.pElement,template:e,index:t})}),this.value=this.argsList=null,this.dirtyArgs=this.dirtyValue=!0,this.bound=!0}}(Zt,q,qo),Ko=function(e){return function(t,n,r,i){this.index=n,e(this,"context",r,i),this.indexRefs&&void 0!==this.indexRefs[t]&&(this.indexRefs[t]=n),this.items.forEach(function(e){e.rebind&&e.rebind(t,n,r,i)})}}(qi),Jo=function(){var e;return 1===this.items.length?e=this.items[0].render():(e=document.createDocumentFragment(),this.items.forEach(function(t){e.appendChild(t.render())})),this.rendered=!0,e},Go=function(e){return this.items?this.items.map(function(t){return t.toString(e)}).join(""):""},Qo=function(){function e(e){e.unbind&&e.unbind()}var t;return t=function(){this.bound&&(this.items.forEach(e),this.bound=!1)}}(),Xo=function(e){if(!this.rendered)throw new Error("Attempted to unrender a fragment that was not rendered");this.items.forEach(function(t){return t.unrender(e)}),this.rendered=!1},Zo=function(e,t,n,r,i,o,s,a,u,c,p,l,h,d,f,m,g){var v=function(e){this.init(e)};return v.prototype={bubble:e,detach:t,find:n,findAll:r,findAllComponents:i,findComponent:o,findNextNode:s,firstNode:a,getNode:u,getValue:c,init:p,rebind:l,render:h,toString:d,unbind:f,unrender:m},g.Fragment=v,v}(Ut,Bt,qt,Yt,Kt,Jt,Gt,Qt,Xt,Sn,Yo,Ko,Jo,Go,Qo,Xo,o),$o=function(e,t,n,r){var i=["template","partials","components","decorators","events"],o=new e("reset");return function(e,s){var a,u,c,p,l;if("function"!=typeof e||s?e=e||{}:(s=e,e={}),"object"!=typeof e)throw new Error("The reset method takes either no arguments, or an object containing new data");for((u=this.viewmodel.wrapped[""])&&u.reset?u.reset(e)===!1&&(this.data=e):this.data=e,c=r.reset(this),p=c.length;p--;)if(i.indexOf(c[p])>-1){l=!0;break}if(l){var h;this.viewmodel.mark(""),(h=this.component)&&(h.shouldDestroy=!0),this.unrender(),h&&(h.shouldDestroy=!1),this.fragment.template!==this.template&&(this.fragment.unbind(),this.fragment=new n({template:this.template,root:this,owner:this})),a=this.render(this.el,this.anchor)}else a=t.start(this,!0),this.viewmodel.mark(""),t.end();return o.fire(this,e),s&&a.then(s),a}}(m,E,Zo,nt),es=function(e,t){return function(n){var r,i;e.template.init(null,this,{template:n}),r=this.transitionsEnabled,this.transitionsEnabled=!1,(i=this.component)&&(i.shouldDestroy=!0),this.unrender(),i&&(i.shouldDestroy=!1),this.fragment.unbind(),this.fragment=new t({template:this.template,root:this,owner:this}),this.render(this.el,this.anchor),this.transitionsEnabled=r}}(nt,Zo),ts=function(e){return e("reverse")}(Mt),ns=function(e,t,n,r){var i=/\*/;return function(o,s,a){var u,c,p=this;if(c=e.start(this,!0),t(o)){u=o,a=s;for(o in u)u.hasOwnProperty(o)&&(s=u[o],o=n(o),this.viewmodel.set(o,s))}else o=n(o),i.test(o)?r(this,o).forEach(function(e){p.viewmodel.set(e,s)}):this.viewmodel.set(o,s);return e.end(),a&&c.then(a.bind(this)),c}}(E,u,F,Ct),rs=function(e){return e("shift")}(Mt),is=function(e){return e("sort")}(Mt),os=function(e){return e("splice")}(Mt),ss=function(e){return function(t,n){return e(this,t,void 0===n?-1:-n)}}(I),as=function(e,t,n){var r=new e("teardown");return function(e){var i;return this.fragment.unbind(),this.viewmodel.teardown(),this.fragment.rendered&&this.el.__ractive_instances__&&n(this.el.__ractive_instances__,this),this.shouldDestroy=!0,i=this.fragment.rendered?this.unrender():t.resolve(),r.fire(this),e&&i.then(e.bind(this)),i}}(m,v,g),us=function(e){return function(t,n){var r;return"string"!=typeof t&&e.errorOnly({debug:this.debug,messsage:"badArguments",arg:{arguments:t}}),r=this.get(t),this.set(t,!r,n)}}(f),cs=function(){return this.fragment.toString(!0)},ps=function(e,t,n,r,i,o){var s=new t("unrender");return function(){var t,a,u=this;if(!this.fragment.rendered)return n.warn({debug:this.debug,message:"ractive.unrender() was called on a Ractive instance that was not rendered"}),r.resolve();for(t=o.start(this,!0),a=!this.component||this.component.shouldDestroy||this.shouldDestroy,this.constructor.css&&t.then(function(){e.remove(u.constructor)});this._animations[0];)this._animations[0].stop();return this.fragment.unrender(a),i(this.el.__ractive_instances__,this),s.fire(this),o.end(),t}}(Ht,m,f,v,g,E),ls=function(e){return e("unshift")}(Mt),hs=function(e,t){var n=new e("update");return function(e,r){var i;return"function"==typeof e?(r=e,e=""):e=e||"",i=t.start(this,!0),this.viewmodel.mark(e),t.end(),n.fire(this,e),r&&i.then(r.bind(this)),i}}(m,E),ds=function(e,t){function n(r,i,o,s){var a,u,c,p,l,h,d=[];if(a=r._twowayBindings[i],a&&(c=a.length))for(;c--;)p=a[c],(!p.radioName||p.element.node.checked)&&(p.checkboxName?d[p.keypath]||p.changed()||(d.push(p.keypath),d[p.keypath]=p):(l=p.attribute.value,h=p.getValue(),e(l,h)||t(l,h)||(o[i]=h)));if(d.length&&d.forEach(function(t){var n,r,i;n=d[t],r=n.attribute.value,i=n.getValue(),e(r,i)||(o[t]=i)}),s&&(u=r.viewmodel.depsMap["default"][i]))for(c=u.length;c--;)n(r,u[c],o,s)}var r;return r=function(e,t){var r;return"string"!=typeof e&&(e="",t=!0),n(this,e,r={},t),this.set(r)}}(wi,y),fs=function(e,t,n,r,i,o,s,a,u,c,p,l,h,d,f,m,g,v,b,w,y,k,x,_,E,T,S,P,C,A,R,O){return{add:e,animate:t,detach:n,find:r,findAll:i,findAllComponents:o,findComponent:s,fire:a,get:u,insert:c,merge:p,observe:l,off:h,on:d,pop:f,push:m,render:g,reset:v,resetTemplate:b,reverse:w,set:y,shift:k,sort:x,splice:_,subtract:E,teardown:T,toggle:S,toHTML:P,unrender:C,unshift:A,update:R,updateModel:O}}(z,ot,st,at,vt,bt,wt,xt,_t,Tt,St,Nt,Ft,Lt,jt,Wt,Vt,$o,es,ts,ns,rs,is,os,ss,as,us,cs,ps,ls,hs,ds),ms=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t,n;return t=16*Math.random()|0,n="x"==e?t:3&t|8,n.toString(16)})},gs=function(){var e=0;return function(){return"r-"+e++}}(),vs=function(e){function t(t){this.hook=new e(t),this.inProcess={},this.queue={}}function n(e,t){return e[t._guid]||(e[t._guid]=[])}function r(e,t){var i=n(e.queue,t);for(e.hook.fire(t);i.length;)r(e,i.shift());delete e.queue[t._guid]}return t.prototype={constructor:t,begin:function(e){this.inProcess[e._guid]=!0},end:function(e){var t=e._parent;t&&this.inProcess[t._guid]?n(this.queue,t).push(e):r(this,e),delete this.inProcess[e._guid]}},t}(m),bs=function(e,t,n,r){var i=e.root,o=e.keypath;return"sort"===n||"reverse"===n?void i.viewmodel.set(o,t):void i.viewmodel.smartUpdate(o,t,r)},ws=function(e,t,n,r){var i,o,s,a=[],u=["pop","push","reverse","shift","sort","splice","unshift"];return u.forEach(function(i){var o=function(){var t,o,s,a,u=Array.prototype.slice,c=u.call(arguments,0);for(t=n(this,i,c),o=Array.prototype[i].apply(this,arguments),e.start(),this._ractive.setting=!0,a=this._ractive.wrappers.length;a--;)s=this._ractive.wrappers[a],e.addViewmodel(s.root.viewmodel),r(s,this,i,t);return e.end(),this._ractive.setting=!1,o};t(a,i,{value:o})}),i={},i.__proto__?(o=function(e){e.__proto__=a},s=function(e){e.__proto__=Array.prototype}):(o=function(e){var n,r;for(n=u.length;n--;)r=u[n],t(e,r,{value:a[r],configurable:!0})},s=function(e){var t;for(t=u.length;t--;)delete e[u[t]]}),o.unpatch=s,o}(E,O,Dt,bs),ys=function(e,t,n){var r,i,o;return r={filter:function(e){return t(e)&&(!e._ractive||!e._ractive.setting)},wrap:function(e,t,n){return new i(e,t,n)}},i=function(t,r,i){this.root=t,this.value=r,this.keypath=i,r._ractive||(e(r,"_ractive",{value:{wrappers:[],instances:[],setting:!1},configurable:!0}),n(r)),r._ractive.instances[t._guid]||(r._ractive.instances[t._guid]=0,r._ractive.instances.push(t)),r._ractive.instances[t._guid]+=1,r._ractive.wrappers.push(this)},i.prototype={get:function(){return this.value},teardown:function(){var e,t,r,i,s;if(e=this.value,t=e._ractive,r=t.wrappers,i=t.instances,t.setting)return!1;if(s=r.indexOf(this),-1===s)throw new Error(o);if(r.splice(s,1),r.length){if(i[this.root._guid]-=1,!i[this.root._guid]){if(s=i.indexOf(this.root),-1===s)throw new Error(o);i.splice(s,1)}}else delete e._ractive,n.unpatch(this.value)}},o="Something went wrong in a rather interesting way",r}(O,a,ws),ks=function(e,t){var n,r;return e&&(n={filter:function(n,r,i){return e.filter(n,r,i)&&t.filter(n)},wrap:function(e,t,n){return new r(e,t,n)}},r=function(n,r,i){this.value=r,this.magic=!0,this.magicWrapper=e.wrap(n,r,i),this.arrayWrapper=t.wrap(n,r,i)},r.prototype={get:function(){return this.value},teardown:function(){this.arrayWrapper.teardown(),this.magicWrapper.teardown()},reset:function(e){return this.magicWrapper.reset(e)}}),n}(S,ys),xs=function(e,t,n,r,i){function o(e,t){var n,r={};if(!t)return e;t+=".";for(n in e)e.hasOwnProperty(n)&&(r[t+n]=e[n]);return r}function s(e){var t;return u[e]||(t=e?e+".":"",u[e]=function(n,r){var i;return"string"==typeof n?(i={},i[t+n]=r,i):"object"==typeof n?t?o(n,e):n:void 0}),u[e]}var a,u={};return a=function(o,a){var u,c,p,l,h=this.ractive;for(u=h.adapt.length,c=0;u>c;c+=1){if(p=h.adapt[c],"string"==typeof p){var d=e.registries.adaptors.find(h,p);if(!d)return n.critical({debug:h.debug,message:"missingPlugin",args:{plugin:"adaptor",name:p}});p=h.adapt[c]=d}if(p.filter(a,o,h))return l=this.wrapped[o]=p.wrap(h,a,o,s(o)),l.value=a,a}return h.magic?i.filter(a,o,h)?this.wrapped[o]=i.wrap(h,a,o):r.filter(a,o,h)&&(this.wrapped[o]=r.wrap(h,a,o)):h.modifyArrays&&t.filter(a,o,h)&&(this.wrapped[o]=t.wrap(h,a,o)),a}}(nt,ys,f,S,ks),_s=function(e){var t,n,r,i,o=[""];for(t=e.length;t--;)for(n=e[t],r=n.split(".");r.length>1;)r.pop(),i=r.join("."),-1===o.indexOf(i)&&o.push(i);return o},Es=function(){function e(e){var t,r,i,o,s,a="";if(!n[e]){for(i=[];a.length<e;)a+=1;for(t=parseInt(a,2),o=function(e){return"1"===e},s=0;t>=s;s+=1){for(r=s.toString(2);r.length<e;)r="0"+r;i[s]=Array.prototype.map.call(r,o)}n[e]=i}return n[e]}var t,n={};return t=function(t){var n,r,i,o;return n=t.split("."),r=e(n.length),i=function(e,t){return e?"*":n[t]},o=r.map(function(e){return e.map(i).join(".")})}}(),Ts=function(e){function t(t,i,o){var s;r(t,i),o||(s=e(i),s.forEach(function(e){n(t,e,i)}))}function n(e,t,i){var s,a,u;s=e.depsMap.patternObservers,a=s[t],a&&a.forEach(function(t){var s=o.exec(t)[0];u=i?i+"."+s:s,r(e,u),n(e,t,u)})}function r(e,t){e.patternObservers.forEach(function(e){e.regex.test(t)&&e.update(t)})}var i,o=/[^\.]+$/;return i=t}(Es),Ss=function(e,t){function n(e){e.invalidate()}function r(e){return e.key}function i(e,t,n,r){var i,o;(i=a(e,n,r))&&(o=e.get(n),i.forEach(function(e){t&&e.refineValue?t.push(e):e.setValue(o)}))}function o(e,t,n){t.forEach(function(t){for(var r=!1,i=0,o=n.length,s=[];o>i;){var a=n[i];if(a===t.keypath){r=!0;break}a.slice(0,t.keypath.length)===t.keypath&&s.push(a),i++}r&&t.setValue(e.get(t.keypath)),s.length&&t.refineValue(s)})}function s(e,t,n){function r(e){e.forEach(i),e.forEach(o)}function i(t){var r=a(e,t,n);r&&u.push({keypath:t,deps:r})}function o(t){var i;(i=e.depsMap[n][t])&&r(i)}function s(t){var n=e.get(t.keypath);t.deps.forEach(function(e){return e.setValue(n)})}var u=[];r(t),u.forEach(s)}function a(e,t,n){var r=e.deps[n];return r?r[t]:null}var u;return u=function(){function a(e){var t,i,o;h.noCascade.hasOwnProperty(e)||((i=h.deps.computed[e])&&(i.forEach(n),o=i.map(r),o.forEach(u),o.forEach(a)),(t=h.depsMap.computed[e])&&t.forEach(a))}function u(e){h.mark(e)}var c,p,l=this,h=this,d={};if(c=this.changes,c.length){if(c.forEach(a),p=e(c),p.forEach(function(e){var t,i;(t=h.deps.computed[e])&&(t.forEach(n),i=t.map(r),i.forEach(u),i.forEach(a))}),this.changes=[],this.patternObservers.length&&(p.forEach(function(e){return t(l,e,!0)}),c.forEach(function(e){return t(l,e)})),this.deps.observers&&(p.forEach(function(e){return i(l,null,e,"observers")}),s(this,c,"observers")),this.deps["default"]){var f=[];p.forEach(function(e){return i(l,f,e,"default")}),f.length&&o(this,f,c),s(this,c,"default")}return c.forEach(function(e){d[e]=l.get(e)}),this.implicitChanges={},this.noCascade={},d}}}(_s,Ts),Ps=function(){this.captureGroups.push([])},Cs=function(e,t){var n,r;if(t||(r=this.wrapped[e])&&r.teardown()!==!1&&(this.wrapped[e]=null),this.cache[e]=void 0,n=this.cacheMap[e])for(;n.length;)this.clearCache(n.pop())},As=function(){function e(e){var t="var __ractive=this;return("+e.replace(n,function(e,t){return'__ractive.get("'+t+'")'})+")";return new Function(t)}var t,n=/\$\{([^\}]+)\}/g;return t=function(t){return"function"==typeof t?{get:t}:"string"==typeof t?{get:e(t)}:("object"==typeof t&&"string"==typeof t.get&&(t={get:e(t.get),set:t.set}),t)}}(),Rs=function(e,t){var n=function(e,t,n){var r=this;this.ractive=e,this.viewmodel=e.viewmodel,this.key=t,this.getter=n.get,this.setter=n.set,this.hardDeps=n.deps||[],this.softDeps=[],this.depValues={},this.hardDeps&&this.hardDeps.forEach(function(t){return e.viewmodel.register(t,r,"computed")}),this._dirty=this._firstRun=!0};return n.prototype={constructor:n,init:function(){var e;this.bypass=!0,e=this.ractive.viewmodel.get(this.key),this.ractive.viewmodel.clearCache(this.key),this.bypass=!1,this.setter&&void 0!==e&&this.set(e)},invalidate:function(){this._dirty=!0},get:function(){var n,r,i,o=this,s=!1;if(!this.getting){if(this.getting=!0,this._dirty){if(n=this.ractive,this._firstRun||!this.hardDeps.length&&!this.softDeps.length?s=!0:[this.hardDeps,this.softDeps].forEach(function(e){var r,i,a;if(!s)for(a=e.length;a--;)if(r=e[a],i=n.viewmodel.get(r),!t(i,o.depValues[r]))return o.depValues[r]=i,void(s=!0)}),s){n.viewmodel.capture();try{this.value=this.getter.call(n)}catch(a){e.warn({debug:n.debug,message:"failedComputation",args:{key:this.key,err:a.message||a}}),this.value=void 0}r=n.viewmodel.release(),i=this.updateDependencies(r),i&&[this.hardDeps,this.softDeps].forEach(function(e){e.forEach(function(e){o.depValues[e]=n.viewmodel.get(e)})})}this._dirty=!1}return this.getting=this._firstRun=!1,this.value}},set:function(e){if(this.setting)return void(this.value=e);if(!this.setter)throw new Error("Computed properties without setters are read-only. (This may change in a future version of Ractive!)");this.setter.call(this.ractive,e)},updateDependencies:function(e){var t,n,r,i;for(n=this.softDeps,t=n.length;t--;)r=n[t],-1===e.indexOf(r)&&(i=!0,this.viewmodel.unregister(r,this,"computed"));for(t=e.length;t--;)r=e[t],-1!==n.indexOf(r)||this.hardDeps&&-1!==this.hardDeps.indexOf(r)||(i=!0,this.viewmodel.register(r,this,"computed"));return i&&(this.softDeps=e.slice()),i}},n}(f,y),Os=function(e,t){return function(n,r){return r=e(r),this.computations[n]=new t(this.ractive,n,r)}}(As,Rs),Ns={FAILED_LOOKUP:!0},Is=function(e,t){var n={},r=function(e,r){this.viewmodel=e,this.root=e.ractive,this.ref=r,this.parentFragment=n,e.unresolvedImplicitDependencies[r]=!0,e.unresolvedImplicitDependencies.push(this),t.addUnresolved(this)};return r.prototype={resolve:function(){this.viewmodel.mark(this.ref),this.viewmodel.unresolvedImplicitDependencies[this.ref]=!1,e(this.viewmodel.unresolvedImplicitDependencies,this)},teardown:function(){t.removeUnresolved(this)}},r}(g,E),zs=function(e,t,n){function r(e,n){var r,i,o,s,a,u,c;return r=n.split("."),i=r.pop(),o=r.join("."),s=e.get(o),(c=e.wrapped[o])&&(s=c.get()),null!==s&&void 0!==s?((a=e.cacheMap[o])?-1===a.indexOf(n)&&a.push(n):e.cacheMap[o]=[n],"object"!=typeof s||i in s?(u=s[i],e.adapt(n,u,!1),e.cache[n]=u,u):e.cache[n]=t):void 0}var i,o={};return i=function(i){var s=arguments[1];void 0===s&&(s=o);var a,u,c,p,l=this.ractive,h=this.cache;return"@"===i[0]?(a=i.slice(1),e(a)?+a:a):(void 0===h[i]?((u=this.computations[i])&&!u.bypass?(a=u.get(),this.adapt(i,a)):(c=this.wrapped[i])?a=c.value:i?a=r(this,i):(this.adapt("",l.data),a=l.data),h[i]=a):a=h[i],s.evaluateWrapped&&(c=this.wrapped[i])&&(a=c.get()),s.capture&&(p=this.captureGroups[this.captureGroups.length-1])&&(~p.indexOf(i)||(p.push(i),a===t&&this.unresolvedImplicitDependencies[i]!==!0&&new n(this,i))),a===t?void 0:a)}}(c,Ns,Is),Fs=function(){function e(e){e.init()}var t;return t=function(){var t,n,r=[];for(t in this.ractive.computed)n=this.compute(t,this.ractive.computed[t]),r.push(n);r.forEach(e)}}(),Ls=function(e,t){var n;t&&(t.implicit&&(this.implicitChanges[e]=!0),t.noCascade&&(this.noCascade[e]=!0)),(n=this.computations[e])&&n.invalidate(),-1===this.changes.indexOf(e)&&this.changes.push(e),this.clearCache(e)},Ds=function(e,t){var n,r,i,o;return n={},r=0,i=e.map(function(e,i){var s,a,u;a=r,u=t.length;do{if(s=t.indexOf(e,a),-1===s)return o=!0,-1;a=s+1}while(n[s]&&u>a);return s===r&&(r+=1),s!==i&&(o=!0),n[s]=!0,s})},Ms=function(e,t){function n(e){return JSON.stringify(e)}function r(e){if(e===!0)return n;if("string"==typeof e)return o[e]||(o[e]=function(t){return t[e]}),o[e];if("function"==typeof e)return e;throw new Error("The `compare` option must be a function, or a string representing an identifying field (or `true` to use JSON.stringify)")}var i,o={};return i=function(n,i,o,s){var a,u,c,p;if(this.mark(n),s&&s.compare){c=r(s.compare);try{a=i.map(c),u=o.map(c)}catch(l){if(this.debug)throw l;e("Merge operation: comparison failed. Falling back to identity checking"),a=i,u=o}}else a=i,u=o;p=t(a,u),this.smartUpdate(n,o,p,i.length!==o.length)}}(h,Ds),js=function(){function e(e,t,n){var r,i,o,s;for(r=t.split(".");r.length;)r.pop(),i=r.join("."),o=e.depsMap[n]||(e.depsMap[n]={}),s=o[i]||(o[i]=[]),void 0===s[t]&&(s[t]=0,s.push(t)),s[t]+=1,t=i}var t;return t=function(t,n){var r=arguments[2];void 0===r&&(r="default");var i,o;n.isStatic||(i=this.deps[r]||(this.deps[r]={}),o=i[t]||(i[t]=[]),o.push(n),t&&e(this,t,r))}}(),Ws=function(){return this.captureGroups.pop()},Hs=function(e,t){function n(e,n,r){var i,o,s,a,u,c,p;c=function(){a.set?a.set(o,r):(u=a.get(),p())},p=function(){u||(u=t(o),e.set(s,u,!0)),u[o]=r},i=n.split("."),o=i.pop(),s=i.join("."),a=e.wrapped[s],a?c():(u=e.get(s),(a=e.wrapped[s])?c():p())}var r;return r=function(t,r,i){var o,s,a;if(o=this.computations[t]){if(o.setting)return;o.set(r),r=o.get()}e(this.cache[t],r)||(s=this.wrapped[t],s&&s.reset&&(a=s.reset(r)!==!1,a&&(r=s.get())),o||a||n(this,t,r),i?this.clearCache(t):this.mark(t))}}(y,T),Vs=function(){function e(e){return"function"==typeof e.shuffle}var t,n={implicit:!0},r={noCascade:!0};return t=function(t,i,o){var s,a,u=this;if(a=o.length,o.forEach(function(e,n){-1===e&&u.mark(t+"."+n,r)}),this.set(t,i,!0),(s=this.deps["default"][t])&&s.filter(e).forEach(function(e){return e.shuffle(o,i)}),a!==i.length){this.mark(t+".length",n);for(var c=a;c<i.length;c+=1)this.mark(t+"."+c);
for(var p=i.length;a>p;p+=1)this.mark(t+"."+p,r)}}}(),Us=function(){var e,t=this;for(Object.keys(this.cache).forEach(function(e){return t.clearCache(e)});e=this.unresolvedImplicitDependencies.pop();)e.teardown()},Bs=function(){function e(e,t,n){var r,i,o,s;for(r=t.split(".");r.length;)r.pop(),i=r.join("."),o=e.depsMap[n],s=o[i],s[t]-=1,s[t]||(s.splice(s.indexOf(t),1),s[t]=void 0),t=i}var t;return t=function(t,n){var r=arguments[2];void 0===r&&(r="default");var i,o;if(!n.isStatic){if(i=this.deps[r][t],o=i.indexOf(n),-1===o)throw new Error("Attempted to remove a dependant that was no longer registered! This should not happen. If you are seeing this bug in development please raise an issue at https://github.com/RactiveJS/Ractive/issues - thanks");i.splice(o,1),t&&e(this,t,r)}}}(),qs=function(){function e(e){return"string"==typeof e&&(e=[e]),e}var t={lookup:function(e,t){var n,r=e.adapt;if(!r||!r.length)return r;if(t&&Object.keys(t).length&&(n=r.length))for(;n--;){var i=r[n];"string"==typeof i&&(r[n]=t[i]||i)}return r},combine:function(t,n){return t=e(t),n=e(n),t&&t.length?n&&n.length?(t.forEach(function(e){-1===n.indexOf(e)&&n.push(e)}),n):t.slice():n}};return t}(),Ys=function(e,t,n,r,i,o,s,a,u,c,p,l,h,d,f,m,g){var v;try{Object.defineProperty({},"test",{value:0})}catch(b){v=!0}var w=function(t){this.ractive=t,w.extend(t.constructor,t),this.cache={},this.cacheMap=e(null),this.deps={computed:{},"default":{}},this.depsMap={computed:{},"default":{}},this.patternObservers=[],this.wrapped=e(null),this.computations=e(null),this.captureGroups=[],this.unresolvedImplicitDependencies=[],this.changes=[],this.implicitChanges={},this.noCascade={}};return w.extend=function(e,t){if(t.magic&&v)throw new Error("Getters and setters (magic mode) are not supported in this browser");t.adapt=g.combine(e.prototype.adapt,t.adapt)||[],t.adapt=g.lookup(t,t.adaptors)},w.prototype={adapt:t,applyChanges:n,capture:r,clearCache:i,compute:o,get:s,init:a,mark:u,merge:c,register:p,release:l,set:h,smartUpdate:d,teardown:f,unregister:m},w}(q,xs,Ss,Ps,Cs,Os,zs,Fs,Ls,Ms,js,Ws,Hs,Vs,Us,Bs,qs),Ks=function(e,t,n,r,i,o,s,a){function u(e,n){e._guid=i(),e._subs=t(null),e._config={},e._twowayBindings=t(null),e._animations=[],e.nodes={},e._liveQueries=[],e._liveComponentQueries=[],n._parent&&n._component&&(e._parent=n._parent,e.component=n._component,n._component.instance=e)}var c,p=new o("construct"),l=new o("config"),h=new s("init");return c=function(t){var i=arguments[1];void 0===i&&(i={});var o;if(u(t,i),p.fire(e.getConstructTarget(t,i),i),e.init(t.constructor,t,i),l.fire(t),(o=r(t.el))&&!t.append){if(o.__ractive_instances__)try{o.__ractive_instances__.splice(0,o.__ractive_instances__.length).forEach(function(e){return e.teardown()})}catch(s){}o.innerHTML=""}h.begin(t),t.viewmodel=new a(t),t.viewmodel.init(),t.template&&(t.fragment=new n({template:t.template,root:t,owner:t})),h.end(t),o&&t.render(o,t.append)}}(nt,q,Zo,Et,gs,m,vs,Ys),Js=function(e,t,n){function r(e,t,n){var r,i=Object.keys(e[n]);i.length&&((r=t[n])||(r=t[n]={}),i.filter(function(e){return!(e in r)}).forEach(function(t){return r[t]=e[n][t]}))}var i,o;return n.push(function(){o=n.Ractive}),i=function(n){if(!(n.prototype instanceof o))return n;for(var i={};n;)t.registries.forEach(function(e){r(e.useDefaults?n.prototype:n,i,e.name)}),Object.keys(n.prototype).forEach(function(t){if("computed"!==t){var r=n.prototype[t];if(t in i){if("function"==typeof i[t]&&"function"==typeof r&&i[t]._method){var o,s=r._method;s&&(r=r._method),o=e(i[t]._method,r),s&&(o._method=o),i[t]=o}}else i[t]=r._method?r._method:r}}),n=n._parent!==o?n._parent:!1;return i}}(V,nt,o),Gs=function(e,t,n,r,i,o,s){return function a(){var u=arguments[0];void 0===u&&(u={});var c,p,l,h=this;return u=s(u),c=function(e){i(this,e)},p=e(h.prototype),p.constructor=c,l={_guid:{value:n()},defaults:{value:p},extend:{value:a,writable:!0,configurable:!0},_parent:{value:h}},t(c,l),r.extend(h,p,u),o.extend(h,p),c.prototype=p,c}}(q,N,ms,nt,Ks,Ys,Js),Qs=function(e,t,n,r,i,o,s,a,u,c,p,l,h){var d,f;for(d=function(e){l(this,e)},f={extend:{value:c},parse:{value:p},Promise:{value:a},svg:{value:r},magic:{value:i},VERSION:{value:"0.6.1"},adaptors:{writable:!0,value:{}},components:{writable:!0,value:{}},decorators:{writable:!0,value:{}},easing:{writable:!0,value:t},events:{writable:!0,value:{}},interpolators:{writable:!0,value:n},partials:{writable:!0,value:{}},transitions:{writable:!0,value:{}}},o(d,f),d.prototype=u(s,e),d.prototype.constructor=d,d.defaults=d.prototype,h.Ractive=d;h.length;)h.pop()();var m="function";if(typeof Date.now!==m||typeof String.prototype.trim!==m||typeof Object.keys!==m||typeof Array.prototype.indexOf!==m||typeof Array.prototype.forEach!==m||typeof Array.prototype.map!==m||typeof Array.prototype.filter!==m||"undefined"!=typeof window&&typeof window.addEventListener!==m)throw new Error("It looks like you're attempting to use Ractive.js in an older browser. You'll need to use one of the 'legacy builds' in order to continue - see http://docs.ractivejs.org/latest/legacy-builds for more information.");return d}(r,i,p,l,P,N,fs,v,ci,Gs,B,Ks,o);"undefined"!=typeof t&&t.exports?t.exports=Qs:"function"==typeof define&&define.amd&&define(function(){return Qs}),e.Ractive=Qs,Qs.noConflict=function(){return e.Ractive=n,Qs}}("undefined"!=typeof window?window:this)},{}],8:[function(e,t){var n=e("ractive"),r=n.extend({isolated:!0,template:e("./checkbox_component.ract"),data:{trueClass:"selected",falseClass:"",size:"small"}});t.exports=r},{"./checkbox_component.ract":9,ractive:7}],9:[function(e,t){t.exports={v:1,t:[{t:7,e:"label",a:{"class":["checkbox ",{t:2,r:"class"}," ",{t:2,x:{r:["value",".trueClass",".falseClass"],s:"_0?_1:_2"}}]},f:[{t:7,e:"input",a:{type:"checkbox",checked:[{t:2,r:"value"}]}}," ",{t:7,e:"span",f:[{t:2,r:"label"}]}]}]}},{}],10:[function(e,t){var n=e("ractive"),r=n.extend({noCssTransform:!0,css:'#kera-scoreboard-options{border:3px solid #333;border-radius:3px;max-width:600px;max-height:90%;overflow:auto;color:#333;background-color:#eee;font-size:14px;margin:0 auto;position:absolute;left:0;right:0;z-index:10/*!\nPure v0.5.0\nCopyright 2014 Yahoo! Inc. All rights reserved.\nLicensed under the BSD License.\nhttps://github.com/yui/pure/blob/master/LICENSE.md\n*/}@media screen and (min-width:35.5em){#kera-scoreboard-options .pure-u-sm-1,#kera-scoreboard-options .pure-u-sm-1-1,#kera-scoreboard-options .pure-u-sm-1-12,#kera-scoreboard-options .pure-u-sm-1-2,#kera-scoreboard-options .pure-u-sm-1-24,#kera-scoreboard-options .pure-u-sm-1-3,#kera-scoreboard-options .pure-u-sm-1-4,#kera-scoreboard-options .pure-u-sm-1-5,#kera-scoreboard-options .pure-u-sm-1-6,#kera-scoreboard-options .pure-u-sm-1-8,#kera-scoreboard-options .pure-u-sm-10-24,#kera-scoreboard-options .pure-u-sm-11-12,#kera-scoreboard-options .pure-u-sm-11-24,#kera-scoreboard-options .pure-u-sm-12-24,#kera-scoreboard-options .pure-u-sm-13-24,#kera-scoreboard-options .pure-u-sm-14-24,#kera-scoreboard-options .pure-u-sm-15-24,#kera-scoreboard-options .pure-u-sm-16-24,#kera-scoreboard-options .pure-u-sm-17-24,#kera-scoreboard-options .pure-u-sm-18-24,#kera-scoreboard-options .pure-u-sm-19-24,#kera-scoreboard-options .pure-u-sm-2-24,#kera-scoreboard-options .pure-u-sm-2-3,#kera-scoreboard-options .pure-u-sm-2-5,#kera-scoreboard-options .pure-u-sm-20-24,#kera-scoreboard-options .pure-u-sm-21-24,#kera-scoreboard-options .pure-u-sm-22-24,#kera-scoreboard-options .pure-u-sm-23-24,#kera-scoreboard-options .pure-u-sm-24-24,#kera-scoreboard-options .pure-u-sm-3-24,#kera-scoreboard-options .pure-u-sm-3-4,#kera-scoreboard-options .pure-u-sm-3-5,#kera-scoreboard-options .pure-u-sm-3-8,#kera-scoreboard-options .pure-u-sm-4-24,#kera-scoreboard-options .pure-u-sm-4-5,#kera-scoreboard-options .pure-u-sm-5-12,#kera-scoreboard-options .pure-u-sm-5-24,#kera-scoreboard-options .pure-u-sm-5-5,#kera-scoreboard-options .pure-u-sm-5-6,#kera-scoreboard-options .pure-u-sm-5-8,#kera-scoreboard-options .pure-u-sm-6-24,#kera-scoreboard-options .pure-u-sm-7-12,#kera-scoreboard-options .pure-u-sm-7-24,#kera-scoreboard-options .pure-u-sm-7-8,#kera-scoreboard-options .pure-u-sm-8-24,#kera-scoreboard-options .pure-u-sm-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}#kera-scoreboard-options .pure-u-sm-1-24{width:4.1667%}#kera-scoreboard-options .pure-u-sm-1-12,#kera-scoreboard-options .pure-u-sm-2-24{width:8.3333%}#kera-scoreboard-options .pure-u-sm-1-8,#kera-scoreboard-options .pure-u-sm-3-24{width:12.5%}#kera-scoreboard-options .pure-u-sm-1-6,#kera-scoreboard-options .pure-u-sm-4-24{width:16.6667%}#kera-scoreboard-options .pure-u-sm-1-5{width:20%}#kera-scoreboard-options .pure-u-sm-5-24{width:20.8333%}#kera-scoreboard-options .pure-u-sm-1-4,#kera-scoreboard-options .pure-u-sm-6-24{width:25%}#kera-scoreboard-options .pure-u-sm-7-24{width:29.1667%}#kera-scoreboard-options .pure-u-sm-1-3,#kera-scoreboard-options .pure-u-sm-8-24{width:33.3333%}#kera-scoreboard-options .pure-u-sm-3-8,#kera-scoreboard-options .pure-u-sm-9-24{width:37.5%}#kera-scoreboard-options .pure-u-sm-2-5{width:40%}#kera-scoreboard-options .pure-u-sm-10-24,#kera-scoreboard-options .pure-u-sm-5-12{width:41.6667%}#kera-scoreboard-options .pure-u-sm-11-24{width:45.8333%}#kera-scoreboard-options .pure-u-sm-1-2,#kera-scoreboard-options .pure-u-sm-12-24{width:50%}#kera-scoreboard-options .pure-u-sm-13-24{width:54.1667%}#kera-scoreboard-options .pure-u-sm-14-24,#kera-scoreboard-options .pure-u-sm-7-12{width:58.3333%}#kera-scoreboard-options .pure-u-sm-3-5{width:60%}#kera-scoreboard-options .pure-u-sm-15-24,#kera-scoreboard-options .pure-u-sm-5-8{width:62.5%}#kera-scoreboard-options .pure-u-sm-16-24,#kera-scoreboard-options .pure-u-sm-2-3{width:66.6667%}#kera-scoreboard-options .pure-u-sm-17-24{width:70.8333%}#kera-scoreboard-options .pure-u-sm-18-24,#kera-scoreboard-options .pure-u-sm-3-4{width:75%}#kera-scoreboard-options .pure-u-sm-19-24{width:79.1667%}#kera-scoreboard-options .pure-u-sm-4-5{width:80%}#kera-scoreboard-options .pure-u-sm-20-24,#kera-scoreboard-options .pure-u-sm-5-6{width:83.3333%}#kera-scoreboard-options .pure-u-sm-21-24,#kera-scoreboard-options .pure-u-sm-7-8{width:87.5%}#kera-scoreboard-options .pure-u-sm-11-12,#kera-scoreboard-options .pure-u-sm-22-24{width:91.6667%}#kera-scoreboard-options .pure-u-sm-23-24{width:95.8333%}#kera-scoreboard-options .pure-u-sm-1,#kera-scoreboard-options .pure-u-sm-1-1,#kera-scoreboard-options .pure-u-sm-24-24,#kera-scoreboard-options .pure-u-sm-5-5{width:100%}}@media screen and (min-width:48em){#kera-scoreboard-options .pure-u-md-1,#kera-scoreboard-options .pure-u-md-1-1,#kera-scoreboard-options .pure-u-md-1-12,#kera-scoreboard-options .pure-u-md-1-2,#kera-scoreboard-options .pure-u-md-1-24,#kera-scoreboard-options .pure-u-md-1-3,#kera-scoreboard-options .pure-u-md-1-4,#kera-scoreboard-options .pure-u-md-1-5,#kera-scoreboard-options .pure-u-md-1-6,#kera-scoreboard-options .pure-u-md-1-8,#kera-scoreboard-options .pure-u-md-10-24,#kera-scoreboard-options .pure-u-md-11-12,#kera-scoreboard-options .pure-u-md-11-24,#kera-scoreboard-options .pure-u-md-12-24,#kera-scoreboard-options .pure-u-md-13-24,#kera-scoreboard-options .pure-u-md-14-24,#kera-scoreboard-options .pure-u-md-15-24,#kera-scoreboard-options .pure-u-md-16-24,#kera-scoreboard-options .pure-u-md-17-24,#kera-scoreboard-options .pure-u-md-18-24,#kera-scoreboard-options .pure-u-md-19-24,#kera-scoreboard-options .pure-u-md-2-24,#kera-scoreboard-options .pure-u-md-2-3,#kera-scoreboard-options .pure-u-md-2-5,#kera-scoreboard-options .pure-u-md-20-24,#kera-scoreboard-options .pure-u-md-21-24,#kera-scoreboard-options .pure-u-md-22-24,#kera-scoreboard-options .pure-u-md-23-24,#kera-scoreboard-options .pure-u-md-24-24,#kera-scoreboard-options .pure-u-md-3-24,#kera-scoreboard-options .pure-u-md-3-4,#kera-scoreboard-options .pure-u-md-3-5,#kera-scoreboard-options .pure-u-md-3-8,#kera-scoreboard-options .pure-u-md-4-24,#kera-scoreboard-options .pure-u-md-4-5,#kera-scoreboard-options .pure-u-md-5-12,#kera-scoreboard-options .pure-u-md-5-24,#kera-scoreboard-options .pure-u-md-5-5,#kera-scoreboard-options .pure-u-md-5-6,#kera-scoreboard-options .pure-u-md-5-8,#kera-scoreboard-options .pure-u-md-6-24,#kera-scoreboard-options .pure-u-md-7-12,#kera-scoreboard-options .pure-u-md-7-24,#kera-scoreboard-options .pure-u-md-7-8,#kera-scoreboard-options .pure-u-md-8-24,#kera-scoreboard-options .pure-u-md-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}#kera-scoreboard-options .pure-u-md-1-24{width:4.1667%}#kera-scoreboard-options .pure-u-md-1-12,#kera-scoreboard-options .pure-u-md-2-24{width:8.3333%}#kera-scoreboard-options .pure-u-md-1-8,#kera-scoreboard-options .pure-u-md-3-24{width:12.5%}#kera-scoreboard-options .pure-u-md-1-6,#kera-scoreboard-options .pure-u-md-4-24{width:16.6667%}#kera-scoreboard-options .pure-u-md-1-5{width:20%}#kera-scoreboard-options .pure-u-md-5-24{width:20.8333%}#kera-scoreboard-options .pure-u-md-1-4,#kera-scoreboard-options .pure-u-md-6-24{width:25%}#kera-scoreboard-options .pure-u-md-7-24{width:29.1667%}#kera-scoreboard-options .pure-u-md-1-3,#kera-scoreboard-options .pure-u-md-8-24{width:33.3333%}#kera-scoreboard-options .pure-u-md-3-8,#kera-scoreboard-options .pure-u-md-9-24{width:37.5%}#kera-scoreboard-options .pure-u-md-2-5{width:40%}#kera-scoreboard-options .pure-u-md-10-24,#kera-scoreboard-options .pure-u-md-5-12{width:41.6667%}#kera-scoreboard-options .pure-u-md-11-24{width:45.8333%}#kera-scoreboard-options .pure-u-md-1-2,#kera-scoreboard-options .pure-u-md-12-24{width:50%}#kera-scoreboard-options .pure-u-md-13-24{width:54.1667%}#kera-scoreboard-options .pure-u-md-14-24,#kera-scoreboard-options .pure-u-md-7-12{width:58.3333%}#kera-scoreboard-options .pure-u-md-3-5{width:60%}#kera-scoreboard-options .pure-u-md-15-24,#kera-scoreboard-options .pure-u-md-5-8{width:62.5%}#kera-scoreboard-options .pure-u-md-16-24,#kera-scoreboard-options .pure-u-md-2-3{width:66.6667%}#kera-scoreboard-options .pure-u-md-17-24{width:70.8333%}#kera-scoreboard-options .pure-u-md-18-24,#kera-scoreboard-options .pure-u-md-3-4{width:75%}#kera-scoreboard-options .pure-u-md-19-24{width:79.1667%}#kera-scoreboard-options .pure-u-md-4-5{width:80%}#kera-scoreboard-options .pure-u-md-20-24,#kera-scoreboard-options .pure-u-md-5-6{width:83.3333%}#kera-scoreboard-options .pure-u-md-21-24,#kera-scoreboard-options .pure-u-md-7-8{width:87.5%}#kera-scoreboard-options .pure-u-md-11-12,#kera-scoreboard-options .pure-u-md-22-24{width:91.6667%}#kera-scoreboard-options .pure-u-md-23-24{width:95.8333%}#kera-scoreboard-options .pure-u-md-1,#kera-scoreboard-options .pure-u-md-1-1,#kera-scoreboard-options .pure-u-md-24-24,#kera-scoreboard-options .pure-u-md-5-5{width:100%}}@media screen and (min-width:64em){#kera-scoreboard-options .pure-u-lg-1,#kera-scoreboard-options .pure-u-lg-1-1,#kera-scoreboard-options .pure-u-lg-1-12,#kera-scoreboard-options .pure-u-lg-1-2,#kera-scoreboard-options .pure-u-lg-1-24,#kera-scoreboard-options .pure-u-lg-1-3,#kera-scoreboard-options .pure-u-lg-1-4,#kera-scoreboard-options .pure-u-lg-1-5,#kera-scoreboard-options .pure-u-lg-1-6,#kera-scoreboard-options .pure-u-lg-1-8,#kera-scoreboard-options .pure-u-lg-10-24,#kera-scoreboard-options .pure-u-lg-11-12,#kera-scoreboard-options .pure-u-lg-11-24,#kera-scoreboard-options .pure-u-lg-12-24,#kera-scoreboard-options .pure-u-lg-13-24,#kera-scoreboard-options .pure-u-lg-14-24,#kera-scoreboard-options .pure-u-lg-15-24,#kera-scoreboard-options .pure-u-lg-16-24,#kera-scoreboard-options .pure-u-lg-17-24,#kera-scoreboard-options .pure-u-lg-18-24,#kera-scoreboard-options .pure-u-lg-19-24,#kera-scoreboard-options .pure-u-lg-2-24,#kera-scoreboard-options .pure-u-lg-2-3,#kera-scoreboard-options .pure-u-lg-2-5,#kera-scoreboard-options .pure-u-lg-20-24,#kera-scoreboard-options .pure-u-lg-21-24,#kera-scoreboard-options .pure-u-lg-22-24,#kera-scoreboard-options .pure-u-lg-23-24,#kera-scoreboard-options .pure-u-lg-24-24,#kera-scoreboard-options .pure-u-lg-3-24,#kera-scoreboard-options .pure-u-lg-3-4,#kera-scoreboard-options .pure-u-lg-3-5,#kera-scoreboard-options .pure-u-lg-3-8,#kera-scoreboard-options .pure-u-lg-4-24,#kera-scoreboard-options .pure-u-lg-4-5,#kera-scoreboard-options .pure-u-lg-5-12,#kera-scoreboard-options .pure-u-lg-5-24,#kera-scoreboard-options .pure-u-lg-5-5,#kera-scoreboard-options .pure-u-lg-5-6,#kera-scoreboard-options .pure-u-lg-5-8,#kera-scoreboard-options .pure-u-lg-6-24,#kera-scoreboard-options .pure-u-lg-7-12,#kera-scoreboard-options .pure-u-lg-7-24,#kera-scoreboard-options .pure-u-lg-7-8,#kera-scoreboard-options .pure-u-lg-8-24,#kera-scoreboard-options .pure-u-lg-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}#kera-scoreboard-options .pure-u-lg-1-24{width:4.1667%}#kera-scoreboard-options .pure-u-lg-1-12,#kera-scoreboard-options .pure-u-lg-2-24{width:8.3333%}#kera-scoreboard-options .pure-u-lg-1-8,#kera-scoreboard-options .pure-u-lg-3-24{width:12.5%}#kera-scoreboard-options .pure-u-lg-1-6,#kera-scoreboard-options .pure-u-lg-4-24{width:16.6667%}#kera-scoreboard-options .pure-u-lg-1-5{width:20%}#kera-scoreboard-options .pure-u-lg-5-24{width:20.8333%}#kera-scoreboard-options .pure-u-lg-1-4,#kera-scoreboard-options .pure-u-lg-6-24{width:25%}#kera-scoreboard-options .pure-u-lg-7-24{width:29.1667%}#kera-scoreboard-options .pure-u-lg-1-3,#kera-scoreboard-options .pure-u-lg-8-24{width:33.3333%}#kera-scoreboard-options .pure-u-lg-3-8,#kera-scoreboard-options .pure-u-lg-9-24{width:37.5%}#kera-scoreboard-options .pure-u-lg-2-5{width:40%}#kera-scoreboard-options .pure-u-lg-10-24,#kera-scoreboard-options .pure-u-lg-5-12{width:41.6667%}#kera-scoreboard-options .pure-u-lg-11-24{width:45.8333%}#kera-scoreboard-options .pure-u-lg-1-2,#kera-scoreboard-options .pure-u-lg-12-24{width:50%}#kera-scoreboard-options .pure-u-lg-13-24{width:54.1667%}#kera-scoreboard-options .pure-u-lg-14-24,#kera-scoreboard-options .pure-u-lg-7-12{width:58.3333%}#kera-scoreboard-options .pure-u-lg-3-5{width:60%}#kera-scoreboard-options .pure-u-lg-15-24,#kera-scoreboard-options .pure-u-lg-5-8{width:62.5%}#kera-scoreboard-options .pure-u-lg-16-24,#kera-scoreboard-options .pure-u-lg-2-3{width:66.6667%}#kera-scoreboard-options .pure-u-lg-17-24{width:70.8333%}#kera-scoreboard-options .pure-u-lg-18-24,#kera-scoreboard-options .pure-u-lg-3-4{width:75%}#kera-scoreboard-options .pure-u-lg-19-24{width:79.1667%}#kera-scoreboard-options .pure-u-lg-4-5{width:80%}#kera-scoreboard-options .pure-u-lg-20-24,#kera-scoreboard-options .pure-u-lg-5-6{width:83.3333%}#kera-scoreboard-options .pure-u-lg-21-24,#kera-scoreboard-options .pure-u-lg-7-8{width:87.5%}#kera-scoreboard-options .pure-u-lg-11-12,#kera-scoreboard-options .pure-u-lg-22-24{width:91.6667%}#kera-scoreboard-options .pure-u-lg-23-24{width:95.8333%}#kera-scoreboard-options .pure-u-lg-1,#kera-scoreboard-options .pure-u-lg-1-1,#kera-scoreboard-options .pure-u-lg-24-24,#kera-scoreboard-options .pure-u-lg-5-5{width:100%}}@media screen and (min-width:80em){#kera-scoreboard-options .pure-u-xl-1,#kera-scoreboard-options .pure-u-xl-1-1,#kera-scoreboard-options .pure-u-xl-1-12,#kera-scoreboard-options .pure-u-xl-1-2,#kera-scoreboard-options .pure-u-xl-1-24,#kera-scoreboard-options .pure-u-xl-1-3,#kera-scoreboard-options .pure-u-xl-1-4,#kera-scoreboard-options .pure-u-xl-1-5,#kera-scoreboard-options .pure-u-xl-1-6,#kera-scoreboard-options .pure-u-xl-1-8,#kera-scoreboard-options .pure-u-xl-10-24,#kera-scoreboard-options .pure-u-xl-11-12,#kera-scoreboard-options .pure-u-xl-11-24,#kera-scoreboard-options .pure-u-xl-12-24,#kera-scoreboard-options .pure-u-xl-13-24,#kera-scoreboard-options .pure-u-xl-14-24,#kera-scoreboard-options .pure-u-xl-15-24,#kera-scoreboard-options .pure-u-xl-16-24,#kera-scoreboard-options .pure-u-xl-17-24,#kera-scoreboard-options .pure-u-xl-18-24,#kera-scoreboard-options .pure-u-xl-19-24,#kera-scoreboard-options .pure-u-xl-2-24,#kera-scoreboard-options .pure-u-xl-2-3,#kera-scoreboard-options .pure-u-xl-2-5,#kera-scoreboard-options .pure-u-xl-20-24,#kera-scoreboard-options .pure-u-xl-21-24,#kera-scoreboard-options .pure-u-xl-22-24,#kera-scoreboard-options .pure-u-xl-23-24,#kera-scoreboard-options .pure-u-xl-24-24,#kera-scoreboard-options .pure-u-xl-3-24,#kera-scoreboard-options .pure-u-xl-3-4,#kera-scoreboard-options .pure-u-xl-3-5,#kera-scoreboard-options .pure-u-xl-3-8,#kera-scoreboard-options .pure-u-xl-4-24,#kera-scoreboard-options .pure-u-xl-4-5,#kera-scoreboard-options .pure-u-xl-5-12,#kera-scoreboard-options .pure-u-xl-5-24,#kera-scoreboard-options .pure-u-xl-5-5,#kera-scoreboard-options .pure-u-xl-5-6,#kera-scoreboard-options .pure-u-xl-5-8,#kera-scoreboard-options .pure-u-xl-6-24,#kera-scoreboard-options .pure-u-xl-7-12,#kera-scoreboard-options .pure-u-xl-7-24,#kera-scoreboard-options .pure-u-xl-7-8,#kera-scoreboard-options .pure-u-xl-8-24,#kera-scoreboard-options .pure-u-xl-9-24{display:inline-block;zoom:1;letter-spacing:normal;word-spacing:normal;vertical-align:top;text-rendering:auto}#kera-scoreboard-options .pure-u-xl-1-24{width:4.1667%}#kera-scoreboard-options .pure-u-xl-1-12,#kera-scoreboard-options .pure-u-xl-2-24{width:8.3333%}#kera-scoreboard-options .pure-u-xl-1-8,#kera-scoreboard-options .pure-u-xl-3-24{width:12.5%}#kera-scoreboard-options .pure-u-xl-1-6,#kera-scoreboard-options .pure-u-xl-4-24{width:16.6667%}#kera-scoreboard-options .pure-u-xl-1-5{width:20%}#kera-scoreboard-options .pure-u-xl-5-24{width:20.8333%}#kera-scoreboard-options .pure-u-xl-1-4,#kera-scoreboard-options .pure-u-xl-6-24{width:25%}#kera-scoreboard-options .pure-u-xl-7-24{width:29.1667%}#kera-scoreboard-options .pure-u-xl-1-3,#kera-scoreboard-options .pure-u-xl-8-24{width:33.3333%}#kera-scoreboard-options .pure-u-xl-3-8,#kera-scoreboard-options .pure-u-xl-9-24{width:37.5%}#kera-scoreboard-options .pure-u-xl-2-5{width:40%}#kera-scoreboard-options .pure-u-xl-10-24,#kera-scoreboard-options .pure-u-xl-5-12{width:41.6667%}#kera-scoreboard-options .pure-u-xl-11-24{width:45.8333%}#kera-scoreboard-options .pure-u-xl-1-2,#kera-scoreboard-options .pure-u-xl-12-24{width:50%}#kera-scoreboard-options .pure-u-xl-13-24{width:54.1667%}#kera-scoreboard-options .pure-u-xl-14-24,#kera-scoreboard-options .pure-u-xl-7-12{width:58.3333%}#kera-scoreboard-options .pure-u-xl-3-5{width:60%}#kera-scoreboard-options .pure-u-xl-15-24,#kera-scoreboard-options .pure-u-xl-5-8{width:62.5%}#kera-scoreboard-options .pure-u-xl-16-24,#kera-scoreboard-options .pure-u-xl-2-3{width:66.6667%}#kera-scoreboard-options .pure-u-xl-17-24{width:70.8333%}#kera-scoreboard-options .pure-u-xl-18-24,#kera-scoreboard-options .pure-u-xl-3-4{width:75%}#kera-scoreboard-options .pure-u-xl-19-24{width:79.1667%}#kera-scoreboard-options .pure-u-xl-4-5{width:80%}#kera-scoreboard-options .pure-u-xl-20-24,#kera-scoreboard-options .pure-u-xl-5-6{width:83.3333%}#kera-scoreboard-options .pure-u-xl-21-24,#kera-scoreboard-options .pure-u-xl-7-8{width:87.5%}#kera-scoreboard-options .pure-u-xl-11-12,#kera-scoreboard-options .pure-u-xl-22-24{width:91.6667%}#kera-scoreboard-options .pure-u-xl-23-24{width:95.8333%}#kera-scoreboard-options .pure-u-xl-1,#kera-scoreboard-options .pure-u-xl-1-1,#kera-scoreboard-options .pure-u-xl-24-24,#kera-scoreboard-options .pure-u-xl-5-5{width:100%}}#kera-scoreboard-options .pure-form input:not([type]),#kera-scoreboard-options .pure-form input[type=text],#kera-scoreboard-options .pure-form input[type=number],#kera-scoreboard-options .pure-form input[type=search],#kera-scoreboard-options .pure-form input[type=tel],#kera-scoreboard-options .pure-form input[type=color],#kera-scoreboard-options .pure-form input[type=password],#kera-scoreboard-options .pure-form input[type=email],#kera-scoreboard-options .pure-form input[type=url],#kera-scoreboard-options .pure-form input[type=date],#kera-scoreboard-options .pure-form input[type=month],#kera-scoreboard-options .pure-form input[type=time],#kera-scoreboard-options .pure-form input[type=datetime],#kera-scoreboard-options .pure-form input[type=datetime-local],#kera-scoreboard-options .pure-form input[type=week],#kera-scoreboard-options .pure-form select,#kera-scoreboard-options .pure-form textarea{padding:.5em .6em;display:inline-block;border:1px solid #ccc;box-shadow:inset 0 1px 3px #ddd;border-radius:4px;box-sizing:border-box}#kera-scoreboard-options .pure-form input[type=color]{padding:.2em .5em}#kera-scoreboard-options .pure-form input:not([type]):focus,#kera-scoreboard-options .pure-form input[type=text]:focus,#kera-scoreboard-options .pure-form input[type=number]:focus,#kera-scoreboard-options .pure-form input[type=search]:focus,#kera-scoreboard-options .pure-form input[type=tel]:focus,#kera-scoreboard-options .pure-form input[type=color]:focus,#kera-scoreboard-options .pure-form input[type=password]:focus,#kera-scoreboard-options .pure-form input[type=email]:focus,#kera-scoreboard-options .pure-form input[type=url]:focus,#kera-scoreboard-options .pure-form input[type=date]:focus,#kera-scoreboard-options .pure-form input[type=month]:focus,#kera-scoreboard-options .pure-form input[type=time]:focus,#kera-scoreboard-options .pure-form input[type=datetime]:focus,#kera-scoreboard-options .pure-form input[type=datetime-local]:focus,#kera-scoreboard-options .pure-form input[type=week]:focus,#kera-scoreboard-options .pure-form select:focus,#kera-scoreboard-options .pure-form textarea:focus{outline:0;border-color:#129FEA}#kera-scoreboard-options .pure-form input[type=file]:focus,#kera-scoreboard-options .pure-form input[type=radio]:focus,#kera-scoreboard-options .pure-form input[type=checkbox]:focus{outline:#129FEA auto 1px}#kera-scoreboard-options .pure-form .pure-checkbox,#kera-scoreboard-options .pure-form .pure-radio{margin:.5em 0;display:block}#kera-scoreboard-options .pure-form input:not([type])[disabled],#kera-scoreboard-options .pure-form input[type=text][disabled],#kera-scoreboard-options .pure-form input[type=number][disabled],#kera-scoreboard-options .pure-form input[type=search][disabled],#kera-scoreboard-options .pure-form input[type=tel][disabled],#kera-scoreboard-options .pure-form input[type=color][disabled],#kera-scoreboard-options .pure-form input[type=password][disabled],#kera-scoreboard-options .pure-form input[type=email][disabled],#kera-scoreboard-options .pure-form input[type=url][disabled],#kera-scoreboard-options .pure-form input[type=date][disabled],#kera-scoreboard-options .pure-form input[type=month][disabled],#kera-scoreboard-options .pure-form input[type=time][disabled],#kera-scoreboard-options .pure-form input[type=datetime][disabled],#kera-scoreboard-options .pure-form input[type=datetime-local][disabled],#kera-scoreboard-options .pure-form input[type=week][disabled],#kera-scoreboard-options .pure-form select[disabled],#kera-scoreboard-options .pure-form textarea[disabled]{cursor:not-allowed;background-color:#eaeded;color:#cad2d3}#kera-scoreboard-options .pure-form input[readonly],#kera-scoreboard-options .pure-form select[readonly],#kera-scoreboard-options .pure-form textarea[readonly]{background:#eee;color:#777;border-color:#ccc}#kera-scoreboard-options .pure-form input:focus:invalid,#kera-scoreboard-options .pure-form select:focus:invalid,#kera-scoreboard-options .pure-form textarea:focus:invalid{color:#b94a48;border-color:#ee5f5b}#kera-scoreboard-options .pure-form input:focus:invalid:focus,#kera-scoreboard-options .pure-form select:focus:invalid:focus,#kera-scoreboard-options .pure-form textarea:focus:invalid:focus{border-color:#e9322d}#kera-scoreboard-options .pure-form input[type=file]:focus:invalid:focus,#kera-scoreboard-options .pure-form input[type=radio]:focus:invalid:focus,#kera-scoreboard-options .pure-form input[type=checkbox]:focus:invalid:focus{outline-color:#e9322d}#kera-scoreboard-options .pure-form select{border:1px solid #ccc;background-color:#fff}#kera-scoreboard-options .pure-form select[multiple]{height:auto}#kera-scoreboard-options .pure-form label{margin:.5em 0 .2em}#kera-scoreboard-options .pure-form fieldset{margin:0;padding:.35em 0 .75em;border:0}#kera-scoreboard-options .pure-form legend{display:block;width:100%;padding:.3em 0;margin-bottom:.3em;color:#333;border-bottom:1px solid #e5e5e5}#kera-scoreboard-options .pure-form-stacked input:not([type]),#kera-scoreboard-options .pure-form-stacked input[type=text],#kera-scoreboard-options .pure-form-stacked input[type=number],#kera-scoreboard-options .pure-form-stacked input[type=search],#kera-scoreboard-options .pure-form-stacked input[type=tel],#kera-scoreboard-options .pure-form-stacked input[type=color],#kera-scoreboard-options .pure-form-stacked input[type=password],#kera-scoreboard-options .pure-form-stacked input[type=email],#kera-scoreboard-options .pure-form-stacked input[type=url],#kera-scoreboard-options .pure-form-stacked input[type=date],#kera-scoreboard-options .pure-form-stacked input[type=month],#kera-scoreboard-options .pure-form-stacked input[type=time],#kera-scoreboard-options .pure-form-stacked input[type=datetime],#kera-scoreboard-options .pure-form-stacked input[type=datetime-local],#kera-scoreboard-options .pure-form-stacked input[type=week],#kera-scoreboard-options .pure-form-stacked label,#kera-scoreboard-options .pure-form-stacked select,#kera-scoreboard-options .pure-form-stacked textarea{display:block;margin:.25em 0}#kera-scoreboard-options .pure-form-aligned .pure-help-inline,#kera-scoreboard-options .pure-form-aligned input,#kera-scoreboard-options .pure-form-aligned select,#kera-scoreboard-options .pure-form-aligned textarea,#kera-scoreboard-options .pure-form-message-inline{display:inline-block;vertical-align:middle}#kera-scoreboard-options .pure-form-aligned textarea{vertical-align:top}#kera-scoreboard-options .pure-form-aligned .pure-control-group{margin-bottom:.5em}#kera-scoreboard-options .pure-form-aligned .pure-control-group label{text-align:right;display:inline-block;vertical-align:middle;width:10em;margin:0 1em 0 0}#kera-scoreboard-options .pure-form-aligned .pure-controls{margin:1.5em 0 0 10em}#kera-scoreboard-options .pure-form .pure-input-rounded,#kera-scoreboard-options .pure-form input.pure-input-rounded{border-radius:2em;padding:.5em 1em}#kera-scoreboard-options .pure-form .pure-group fieldset{margin-bottom:10px}#kera-scoreboard-options .pure-form .pure-group input{display:block;padding:10px;margin:0;border-radius:0;position:relative;top:-1px}#kera-scoreboard-options .pure-form .pure-group input:focus{z-index:2}#kera-scoreboard-options .pure-form .pure-group input:first-child{top:1px;border-radius:4px 4px 0 0}#kera-scoreboard-options .pure-form .pure-group input:last-child{top:-2px;border-radius:0 0 4px 4px}#kera-scoreboard-options .pure-form .pure-group button{margin:.35em 0}#kera-scoreboard-options .pure-form .pure-input-1{width:100%}#kera-scoreboard-options .pure-form .pure-input-2-3{width:66%}#kera-scoreboard-options .pure-form .pure-input-1-2{width:50%}#kera-scoreboard-options .pure-form .pure-input-1-3{width:33%}#kera-scoreboard-options .pure-form .pure-input-1-4{width:25%}#kera-scoreboard-options .pure-form .pure-help-inline,#kera-scoreboard-options .pure-form-message-inline{display:inline-block;padding-left:.3em;color:#666;vertical-align:middle;font-size:.875em}#kera-scoreboard-options .pure-form-message{display:block;color:#666;font-size:.875em}@media only screen and (max-width:480px){#kera-scoreboard-options .pure-form button[type=submit]{margin:.7em 0 0}#kera-scoreboard-options .pure-form input:not([type]),#kera-scoreboard-options .pure-form input[type=text],#kera-scoreboard-options .pure-form input[type=number],#kera-scoreboard-options .pure-form input[type=search],#kera-scoreboard-options .pure-form input[type=tel],#kera-scoreboard-options .pure-form input[type=color],#kera-scoreboard-options .pure-form input[type=password],#kera-scoreboard-options .pure-form input[type=email],#kera-scoreboard-options .pure-form input[type=url],#kera-scoreboard-options .pure-form input[type=date],#kera-scoreboard-options .pure-form input[type=month],#kera-scoreboard-options .pure-form input[type=time],#kera-scoreboard-options .pure-form input[type=datetime],#kera-scoreboard-options .pure-form input[type=datetime-local],#kera-scoreboard-options .pure-form input[type=week],#kera-scoreboard-options .pure-form label{margin-bottom:.3em;display:block}#kera-scoreboard-options .pure-group input:not([type]),#kera-scoreboard-options .pure-group input[type=text],#kera-scoreboard-options .pure-group input[type=number],#kera-scoreboard-options .pure-group input[type=search],#kera-scoreboard-options .pure-group input[type=tel],#kera-scoreboard-options .pure-group input[type=color],#kera-scoreboard-options .pure-group input[type=password],#kera-scoreboard-options .pure-group input[type=email],#kera-scoreboard-options .pure-group input[type=url],#kera-scoreboard-options .pure-group input[type=date],#kera-scoreboard-options .pure-group input[type=month],#kera-scoreboard-options .pure-group input[type=time],#kera-scoreboard-options .pure-group input[type=datetime],#kera-scoreboard-options .pure-group input[type=datetime-local],#kera-scoreboard-options .pure-group input[type=week]{margin-bottom:0}#kera-scoreboard-options .pure-form-aligned .pure-control-group label{margin-bottom:.3em;text-align:left;display:block;width:100%}#kera-scoreboard-options .pure-form-aligned .pure-controls{margin:1.5em 0 0}#kera-scoreboard-options .pure-form .pure-help-inline,#kera-scoreboard-options .pure-form-message,#kera-scoreboard-options .pure-form-message-inline{display:block;font-size:.75em;padding:.2em 0 .8em}}#kera-scoreboard-options .pure-g{letter-spacing:-.31em;word-spacing:-.43em;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;font-family:FreeSans,Arimo,"Droid Sans",Helvetica,Arial,sans-serif}#kera-scoreboard-options .pure-g [class*=pure-u]{font-family:sans-serif}#kera-scoreboard-options .pure-g [class*=pure-u] input[type=text]{width:90%}#kera-scoreboard-options h3{font-size:18px;margin:0;padding:4px 8px;border-bottom:1px solid #333;text-align:left}#kera-scoreboard-options h3 .icon{margin-right:5px}#kera-scoreboard-options h3 a{display:inline!important;font-size:inherit!important;color:green;text-decoration:none}#kera-scoreboard-options h3 a:hover{text-decoration:underline}#kera-scoreboard-options h4{font-size:16px;margin:0 0 5px;padding:15px 0 3px;border-bottom:1px solid #ccc}#kera-scoreboard-options .icon{vertical-align:middle}#kera-scoreboard-options .options-content{padding:10px}#kera-scoreboard-options .options-content a{background-color:#e7e7e7;border-radius:3px;display:inline-block;padding:10px;text-decoration:none;color:#333;-webkit-transition:background-color .3s;transition:background-color .3s}#kera-scoreboard-options .options-content a:hover{background-color:#b9b9b9}#kera-scoreboard-options .hide{display:none!important;visibility:hidden}#kera-scoreboard-options .close{text-decoration:none;padding:10px;position:absolute;right:0;top:0}#kera-scoreboard-options label.checkbox{display:inline-block}',template:e("./options_component.ract"),components:{Textbox:e("./textbox_component"),Checkbox:e("./checkbox_component")}});
t.exports=r},{"./checkbox_component":8,"./options_component.ract":11,"./textbox_component":16,ractive:7}],11:[function(e,t){t.exports={v:1,t:[{t:7,e:"div",a:{id:"kera-scoreboard-options"},t0:{n:"fly",a:[{x:0,y:-500,opacity:1}]},o:{n:"movable",a:"document.body"},f:[{t:7,e:"a",a:{href:"#","class":"close",title:"Close Options"},v:{click:{m:"toggle",a:{r:[],s:'["options.showOptions"]'}}},f:[{t:7,e:"span",a:{"class":"icon icon-small icon-close"}}]}," ",{t:7,e:"h3",a:{"class":"drag-handle"},f:[{t:7,e:"span",a:{"class":"icon icon-score"}}," TagPro Scoreboard Options (",{t:7,e:"a",a:{href:"https://github.com/keratagpro/tagpro-scoreboard",target:"_blank"},f:["github"]},")"]}," ",{t:7,e:"div",a:{"class":"options-content"},f:[{t:7,e:"form",a:{"class":"pure-form"},f:[{t:7,e:"Checkbox",a:{"class":"pure-checkbox",label:"Show Scoreboard",value:[{t:2,r:"options.showScoreboard"}]}}," ",{t:7,e:"fieldset",f:[{t:7,e:"legend",f:["Team info"]}," ",{t:7,e:"Checkbox",a:{label:"Score",value:[{t:2,r:"options.showScore"}]}}," ",{t:7,e:"Checkbox",a:{label:"Team names",value:[{t:2,r:"options.showTeams"}]}}," ",{t:7,e:"Checkbox",a:{label:"Players",value:[{t:2,r:"options.showPlayers"}]}}," ",{t:7,e:"Checkbox",a:{label:"Statistics",value:[{t:2,r:"options.showStatistics"}]}}]}," ",{t:7,e:"fieldset",f:[{t:7,e:"legend",f:["Player info"]}," ",{t:7,e:"Checkbox",a:{label:"Powerups",value:[{t:2,r:"options.showPowerups"}]}}," ",{t:7,e:"Checkbox",a:{label:"Authentication",value:[{t:2,r:"options.showAuth"}]}}," ",{t:7,e:"Checkbox",a:{label:"Flair",value:[{t:2,r:"options.showFlair"}]}}]}," ",{t:7,e:"fieldset",f:[{t:7,e:"legend",f:["Statistics"]}," ",{t:4,r:"statistics",i:"key",f:[{t:7,e:"Checkbox",a:{label:[{t:2,r:"label"}],value:[{t:2,r:".selected"}]}}]}]}," ",{t:7,e:"fieldset",a:{"class":"pure-form-stacked"},f:[{t:7,e:"legend",f:["Other"]}," ",{t:7,e:"div",a:{"class":"pure-g"},f:[{t:7,e:"Textbox",a:{id:"name-red",label:"Red Team Name",value:[{t:2,r:"options.teamNames.red"}]}}," ",{t:7,e:"Textbox",a:{id:"name-blue",label:"Blue Team Name",value:[{t:2,r:"options.teamNames.blue"}]}}]}," ",{t:7,e:"div",a:{"class":"pure-g"},f:[{t:7,e:"Textbox",a:{id:"score-red",label:"Red Team Score",value:[{t:2,r:"options.previousScores.red"}]}}," ",{t:7,e:"Textbox",a:{id:"score-blue",label:"Blue Team Score",value:[{t:2,r:"options.previousScores.blue"}]}}]}," ",{t:7,e:"div",a:{"class":"pure-g"},f:[{t:7,e:"Textbox",a:{label:"Scoreboard Background Color",value:[{t:2,r:"options.backgroundColor"}]}}," ",{t:7,e:"Textbox",a:{label:"Scoreboard Max Height",value:[{t:2,r:"options.maxHeight"}]}}]}]}," ",{t:7,e:"a",a:{href:"#"},v:{click:"saveOptions"},f:["Save Locally"]}," ",{t:7,e:"a",a:{href:"#"},v:{click:"resetOptions"},f:["Reset"]}]}]}]}]}},{}],12:[function(e,t){var n=e("ractive"),r=n.extend({noCssTransform:!0,css:"#kera-scoreboard .player-row .icons{position:absolute;font-size:0}#kera-scoreboard .player-row .dead{color:red!important}#kera-scoreboard .player-row .auth{color:#bfff00}#kera-scoreboard .player-row .name{padding:0 3px}#kera-scoreboard .player-row .red .icons{left:3px}#kera-scoreboard .player-row .red .flair{float:right;margin-left:4px}#kera-scoreboard .player-row .blue .icons{right:3px}#kera-scoreboard .player-row .blue .flair{float:left;margin-right:4px}",template:e("./player_component.ract")});t.exports=r},{"./player_component.ract":13,ractive:7}],13:[function(e,t){t.exports={v:1,t:[{t:7,e:"span",a:{"class":"icons"},f:[{t:4,n:50,r:"flag",f:[{t:7,e:"span",a:{"class":"sprite-tiles sprite-small",style:["background-position: ",{t:2,x:{r:["getFlag","flag"],s:"_0(_1)"}},";"]}}]}," ",{t:4,n:50,r:"options.showPowerups",f:[{t:4,n:50,r:"grip",f:[{t:7,e:"span",a:{"class":"sprite-tiles sprite-small",style:["background-position: ",{t:2,x:{r:["getSprite"],s:'_0("grip")'}},";"]}}]}," ",{t:4,n:50,r:"bomb",f:[{t:7,e:"span",a:{"class":"sprite-tiles sprite-small",style:["background-position: ",{t:2,x:{r:["getSprite"],s:'_0("bomb")'}},";"]}}]}," ",{t:4,n:50,r:"tagpro",f:[{t:7,e:"span",a:{"class":"sprite-tiles sprite-small",style:["background-position: ",{t:2,x:{r:["getSprite"],s:'_0("tagpro")'}},";"]}}]}]}]}," ",{t:4,n:50,r:"options.showFlair",f:[{t:7,e:"span",a:{"class":"flair sprite-flair",style:["background-position: ",{t:2,x:{r:["getFlair","flair"],s:"_0(_1)"}}]}}]},{t:7,e:"span",a:{"class":["name ",{t:2,x:{r:["dead"],s:'_0?"dead":""'}}," ",{t:2,x:{r:["options.showAuth","auth"],s:'_0&&_1?"auth":""'}}],title:[{t:2,r:"degree"}]},f:[{t:2,r:"name"}]}," ",{t:4,n:50,r:"options.showDegree",f:[{t:7,e:"span",a:{"class":"degree"},f:["(",{t:2,r:"degree"},"&deg;)"]}]}]}},{}],14:[function(e,t){var n=e("ractive"),r=n.extend({noCssTransform:!0,css:"#kera-scoreboard{position:absolute;right:0;bottom:0;z-index:2;overflow-y:auto;width:400px;border-radius:5px;border:3px solid #ccc;color:#fff}#kera-scoreboard h3{margin:10px 5px 0;font-weight:400;font-size:16px;text-align:center}#kera-scoreboard .tools{position:absolute;right:0;top:0;font-size:0;border-bottom:3px solid #ccc;border-left:3px solid #ccc;border-radius:0 0 0 5px;opacity:0;-webkit-transition:opacity 1s;transition:opacity 1s}#kera-scoreboard .tools a{padding:5px;color:#fff;text-decoration:none;display:inline-block}#kera-scoreboard .tools .icon{vertical-align:bottom}#kera-scoreboard:hover .tools{opacity:1}#kera-scoreboard .sprite-tiles{background-image:url(images/tiles.png);display:inline-block;width:40px;height:40px;zoom:.5}#kera-scoreboard .sprite-flair{background-image:url(images/flair.png);display:inline-block;width:16px;height:16px;vertical-align:middle}#kera-scoreboard .sprite-large{zoom:1}#kera-scoreboard .score-previous{position:absolute;top:15px;right:15px;font-size:20px;color:#888}#kera-scoreboard .team-statistics{font-size:14px;padding:5px}#kera-scoreboard .team-statistics td{padding:5px;border-top:1px solid #ccc}#kera-scoreboard .team-statistics .label{width:30%;white-space:nowrap}#kera-scoreboard .team-statistics .red{text-align:right;width:20%}#kera-scoreboard .team-statistics .blue{width:50%}#kera-scoreboard table{margin-bottom:0;border-spacing:0;width:100%}#kera-scoreboard table th{font-weight:400;text-align:left;padding:3px}#kera-scoreboard table tr{padding:3px 2px}#kera-scoreboard table thead td.separator,#kera-scoreboard table thead th.separator{padding:5px;text-align:center}#kera-scoreboard table thead td.blue,#kera-scoreboard table thead td.red,#kera-scoreboard table thead th.blue,#kera-scoreboard table thead th.red{width:50%}#kera-scoreboard table .score-row{font-size:40px;line-height:40px}#kera-scoreboard table .score-row .sprite-tiles{vertical-align:bottom}#kera-scoreboard table .score-row th{padding:3px;border-bottom:1px solid #ccc}#kera-scoreboard table .team-name-row td{border-bottom:1px solid #ccc}#kera-scoreboard table .player-row p{margin:5px 0}#kera-scoreboard table .player-row .red,#kera-scoreboard table .score-row .red,#kera-scoreboard table .team-name-row .red{text-align:right}",template:e("./scoreboard_component.ract"),data:{formatTime:function(e){var t=parseInt(e/3600,10)%24,n=parseInt(e/60,10)%60,r=e%60,i=(10>n?"0"+n:n)+":"+(10>r?"0"+r:r);return t>0&&(i=(10>t?"0"+t:t)+":"+i),i}},components:{Player:e("./player_component")}});t.exports=r},{"./player_component":12,"./scoreboard_component.ract":15,ractive:7}],15:[function(e,t){t.exports={v:1,t:[{t:7,e:"div",a:{id:"kera-scoreboard",style:["background-color: ",{t:2,r:"options.backgroundColor"},"; max-height: ",{t:2,r:"options.maxHeight"},";"]},t0:{n:"fly",a:[{x:0,y:500}]},f:[{t:7,e:"div",a:{"class":"tools"},f:[{t:7,e:"a",a:{href:"#","class":"settings",title:"Settings"},v:{click:{m:"toggle",a:{r:[],s:'["options.showOptions"]'}}},f:[{t:7,e:"span",a:{"class":"icon icon-gear-white"},f:["&nbsp;"]}]}," ",{t:7,e:"a",a:{href:"#","class":"close",title:"Close Scoreboard"},v:{click:{m:"toggle",a:{r:[],s:'["options.showScoreboard"]'}}},f:[{t:7,e:"span",a:{"class":"icon icon-close-white"},f:["&nbsp;"]}]}]}," ",{t:4,n:50,x:{r:["options.showScore","options.showTeams"],s:"_0||_1"},f:[{t:4,n:50,x:{r:["options.previousScores.red","options.previousScores.blue"],s:"_0||_1"},f:[{t:7,e:"div",a:{"class":"score-previous"},f:[{t:2,x:{r:["options.previousScores.red","score.r"],s:"(parseInt(_0)||0)+_1"}}," - ",{t:2,x:{r:["options.previousScores.blue","score.b"],s:"(parseInt(_0)||0)+_1"}}]}]}," ",{t:7,e:"table",f:[{t:7,e:"thead",f:[{t:4,n:50,r:"options.showScore",f:[{t:7,e:"tr",a:{"class":"score-row"},f:[{t:7,e:"th",a:{"class":"red"},f:[{t:7,e:"span",a:{"class":"sprite-tiles sprite-large",style:["background-position: ",{t:2,x:{r:["getSprite"],s:'_0("redball")'}},";"]}}," ",{t:7,e:"span",a:{"class":"score"},f:[{t:2,x:{r:["score.r"],s:"_0||0"}}]}]}," ",{t:7,e:"th",a:{"class":"separator"},f:["-"]}," ",{t:7,e:"th",a:{"class":"blue"},f:[{t:7,e:"span",a:{"class":"score"},f:[{t:2,x:{r:["score.b"],s:"_0||0"}}]}," ",{t:7,e:"span",a:{"class":"sprite-tiles sprite-large",style:["background-position: ",{t:2,x:{r:["getSprite"],s:'_0("blueball")'}},";"]}}]}]}]}," ",{t:4,n:50,r:"options.showTeams",f:[{t:7,e:"tr",a:{"class":"team-name-row"},f:[{t:7,e:"td",a:{"class":"team red"},f:[{t:2,r:"options.teamNames.red"}]}," ",{t:7,e:"td",a:{"class":"separator"},f:["vs"]}," ",{t:7,e:"td",a:{"class":"team blue"},f:[{t:2,r:"options.teamNames.blue"}]}]}]}]}]}]}," ",{t:7,e:"table",f:[{t:7,e:"tbody",f:[{t:4,n:50,r:"options.showPlayers",f:[{t:7,e:"tr",a:{"class":"player-row"},f:[{t:7,e:"td",a:{"class":"player red"},f:[{t:4,r:"redPlayers",i:"id",f:[{t:7,e:"p",f:[{t:7,e:"Player"}]}]}]}," ",{t:7,e:"td",a:{"class":"separator"}}," ",{t:7,e:"td",a:{"class":"player blue"},f:[{t:4,r:"bluePlayers",i:"id",f:[{t:7,e:"p",f:[{t:7,e:"Player"}]}]}]}]}]}]}]}," ",{t:4,n:50,r:"options.showStatistics",f:[{t:7,e:"h3",f:["Team Statistics"]}," ",{t:7,e:"table",a:{"class":"team-statistics"},f:[{t:7,e:"tbody",f:[{t:4,r:"selectedStatistics",i:"key",f:[{t:7,e:"tr",a:{"class":[{t:2,r:"key"}]},f:[{t:7,e:"td",a:{"class":"label"},f:[{t:2,r:"label"}]}," ",{t:7,e:"td",a:{"class":"red"},f:[{t:2,x:{r:["time","formatTime","key","redTeamStats"],s:"_0?_1(_3[_2]):_3[_2]"}}]}," ",{t:7,e:"td",a:{"class":"blue"},f:[{t:2,x:{r:["time","formatTime","key","blueTeamStats"],s:"_0?_1(_3[_2]):_3[_2]"}}]}]}]}]}]}]}]}]}},{}],16:[function(e,t){var n=e("ractive"),r=n.extend({isolated:!0,template:e("./textbox_component.ract"),data:{"class":"pure-u-sm-1-2"}});t.exports=r},{"./textbox_component.ract":17,ractive:7}],17:[function(e,t){t.exports={v:1,t:[{t:7,e:"div",a:{"class":[{t:2,r:"class"}]},f:[{t:7,e:"label",a:{"class":"text","for":["kera-checkbox-",{t:2,r:"id"}]},f:[{t:2,r:"label"}]}," ",{t:7,e:"input",a:{id:["kera-checkbox-",{t:2,r:"id"}],type:"text",value:[{t:2,r:"value"}]}}]}]}},{}],18:[function(e,t){(function(n){e("ractive"),"undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null;e("jquery-ui/draggable"),e("jquery-ui/resizable");var r=function(e,t){var n=t||{};return n.handleClass=t.handle||"drag-handle",n.callback=t.callback,{teardown:function(){}}};t.exports=r}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"jquery-ui/draggable":3,"jquery-ui/resizable":5,ractive:7}],19:[function(e,t){(function(n){var r,i=("undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,"undefined"!=typeof window?window.tagpro:"undefined"!=typeof n?n.tagpro:null),o=(e("./util/storage"),e("./main-options")),s=e("./main-helpers"),a=i.score||{r:0,b:0};i.socket.on("score",function(e){a.r=e.r,a.b=e.b}),s.addInitialValuesToPlayers(i.players),t.exports={defaultOptions:o,mouseMoved:!1,players:i.players,score:a,statistics:s.statistics,getSprite:function(e){var t=40,n=40,r=i.tiles[e],o=-r.x*t+"px "+-r.y*n+"px";return o},getFlag:function(e){var t=this.get("getSprite");return t(1===e?"redflag":2===e?"blueflag":"yellowflag")},getFlair:function(e){var t=e?e.x:10,n=e?e.y:10,r=16,i=16,o=-t*r+"px "+-n*i+"px";return o},mouseMoveHandler:function(){this.set("mouseMoved",!0),r&&clearTimeout(r),r=setTimeout(function(){this.set("mouseMoved",!1)}.bind(this),1e3)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./main-helpers":20,"./main-options":21,"./util/storage":27}],20:[function(e,t){(function(n){function r(e){var t=Object.keys(l.players),n=Object.keys(m);t.forEach(function(t){var r=e[t];n.forEach(function(e){r[e]=r[e]||m[e]})})}function i(e){var t=Object.keys(d).map(function(e){return d[e].id}),n=t.map(function(e){return"players.*."+e}).join(" ");e.observe(n,function(t,n,r){t&&!n&&e.set(r+"Count",(e.get(r+"Count")||0)+1)})}function o(e){var t=Object.keys(e.get("players")),n=Object.keys(m);t.forEach(function(t){n.forEach(function(n){e.get("players."+t+"."+n)})})}function s(e,t){return h(e,function(e){return e.team===t})}function a(e){var t=Object.keys(f),n=Object.keys(d);Array.prototype.push.apply(t,n);var r={};return t.forEach(function(t){r[t]=Object.keys(e).reduce(function(n,r){return e[r]?n+(e[r][t]||0):n},0)}),r.powerups=n.reduce(function(e,t){return e+r[t]},0),r}function u(e){var t=document.createElement("style");t.type="text/css",t.innerHTML=e,document.head.appendChild(t)}function c(){var e,t=this.get("statistics"),n={};for(e in t)t[e].selected&&(n[e]=t[e]);return n}var p="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,l="undefined"!=typeof window?window.tagpro:"undefined"!=typeof n?n.tagpro:null,h=e("./util/filter"),d={gripCount:{label:"Grip",id:"grip"},speedCount:{label:"Speed",id:"speed"},bombCount:{label:"Rolling Bomb",id:"bomb"},tagproCount:{label:"Tagpro",id:"tagpro"}},f={"s-tags":{label:"Tags"},"s-pops":{label:"Pops"},"s-grabs":{label:"Grabs"},"s-returns":{label:"Returns"},"s-captures":{label:"Captures"},"s-drops":{label:"Drops"},"s-support":{label:"Support"},"s-hold":{label:"Hold",time:!0},"s-prevent":{label:"Prevent",time:!0},score:{label:"Score"},points:{label:"Points"},degree:{label:"Degree"}},m=function(){var e={dead:!1,auth:!1,flag:null,flair:null,team:null,name:"Some Ball"};return Object.keys(f).forEach(function(t){e[t]=0}),Object.keys(d).forEach(function(t){e[t]=0,e[d[t].id]=!1}),e.powerups=0,e}(),g=p.extend(!0,{},f,d,{powerups:{label:"Powerups"}});t.exports={addInitialValuesToPlayers:r,addPowerupCounts:i,forceRactiveMagicMode:o,getPlayersByTeam:s,getTeamStats:a,injectGlobalCss:u,selectedStatistics:c,statistics:g}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./util/filter":24}],21:[function(e,t){(function(e){var n="undefined"!=typeof window?window.tagpro:"undefined"!=typeof e?e.tagpro:null,r=n.teamNames||{redTeamName:"Red",blueTeamName:"Blue"};t.exports={showOptions:!1,showScoreboard:!1,showScore:!0,showTeams:!0,showPlayers:!0,showFlair:!0,showPowerups:!0,showAuth:!0,showStatistics:!0,selectedStatisticsKeys:["s-hold","score","powerups"],backgroundColor:"#000",maxHeight:"50%",teamNames:{red:r.redTeamName,blue:r.blueTeamName},previousScores:{red:null,blue:null}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],22:[function(e,t){(function(n){var r=e("ractive"),i="undefined"!=typeof window?window.$:"undefined"!=typeof n?n.$:null,o=e("./main-options"),s=e("./util/getChanges"),a=e("./util/storage");e("./util/ractive-transitions-fly");var u=e("./main-helpers"),c=u.addPowerupCounts,p=u.forceRactiveMagicMode,l=u.getPlayersByTeam,h=u.getTeamStats,d=u.injectGlobalCss,f=u.selectedStatistics;r.decorators.movable=e("./decorators/movable");var m=new r({debug:!0,el:"#kera-scoreboard-container",template:e("./main.ract"),magic:!0,data:e("./main-data"),computed:{redPlayers:function(){return l.call(this,this.get("players"),1)},bluePlayers:function(){return l.call(this,this.get("players"),2)},redTeamStats:function(){return h.call(this,this.get("redPlayers"))},blueTeamStats:function(){return h.call(this,this.get("bluePlayers"))},selectedStatistics:f},reloadOptions:function(){this.set("options",i.extend(!0,{},o,a.getJson("options"))),this.set("statistics.*.selected",!1);var e=this.get("options.selectedStatisticsKeys");e.forEach(function(e){this.set("statistics."+e+".selected",!0)}.bind(this))},components:{Options:e("./components/options_component"),Scoreboard:e("./components/scoreboard_component")},oninit:function(){this.reloadOptions(),window.addEventListener("mousemove",this.get("mouseMoveHandler").bind(this)),c(this),p(this),d("#kera-scoreboard-container .icon{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAEmCAYAAAAUdgKUAAASC0lEQVR4Ae2cbYheRxXHn2eTdNOY0KZQpSVtMYVUqekLomiKRDBQCy0ptrTSSFApEbFKLFRBVxJi/FBbIzUKTV/ih6KUYIxtP2ihkhZDIX2lRiGCiSEWpWm30qRks3lbf/+7Mzfz3HvuvXOf3N3NQ+/A2Zk5c86Z/z3zcmfu2d3uxMREZxDS0CCAFMYWaNMjNTAenW09ebfbtdjTxrMW+MB4tAXa9DxpPXpOeJRVuRCaUxeMdKRbVy+RR7GTpTJDp06dGoHGoFFobZls2CZZpyPdkbAtW87iUT0HMmFmNV2dtoV0oo4mAlpXIJ6ykV0XyEt3TLZSgUxBGLKUY0igKNE2h07kyRCoyoVg1WbIj8pWST85XDlGGVAZplMNYRaoCbYApGRLp4wwZCnHqALqwFpe6gFbArLQ+97DWZAJJpPpNUryMiBlbSUm0yYTk8lMVcoLJYDk3SxVetL3ZmIymV4jIo8EGw1SXZqYTGYEwFCkAmwtkEVAB+Zdb7s5dFdFucKbfp7W8qo5yiazApxvjgRZG6yJyWR6JCV5Cch1ZW0lJtMmE5PJTFXsQgyQGBnbekOrHgDn/isU7w/GoQSgg3HM05xi6M/9g7Of/PKspoGvx+bSkW6VPDK5/b0rZja1X0qyHqlRH5h3fQu0xqhGiQ6MR81VH/WI0yw0MB5tgTY9M1qPth5t2gNN22vnaNMebSN3TXu0naOtR5v2QNP2+p2juvLWvi47ncrrsvmQ1h3aFHTMoaGhEWgMGoVKwzChHck6HelObeSOjhfSiTqaCKjyIy2y6wJ56Y7JVvggYdl0nskMtXrLc+hEngyBqlwIVm2G/ChmC6eOiclk9oLrqdGphjAL1ARbAFKypVPGxGQye6DlKyUAUs/GyOQtT3JMTCazyELALwNS1haYKCyamExmoYnehhJAUVOj19qZmonJZJ7RqSxFgk2nRKVBBExMJjPGWiBTAbYWSJm1MPX7ZgpgTlPRQl+n6wpv+rlay6smJpMZiTQSZG2wJiaTGQG0BOS6srYI0+YctZkV1mKAxMgUdWM6z2QWWYAPgIF4hQ7MoWRgjnka+oE4OPvZO6VXEWvdmN/w28idH48+8oF517dA+xjdUpWB8ai56ksfbYYaB8ajLdCmZ0jr0dajTXugaXvtHG3aowMTuTOB9uuNo0ePXjJr1qwF0j/vvPPe5gD+v35t5fSsY39OKIIxPj6+6vjx4yehCUdjJ06cWBGhmhOxMJmHkn6uIoB7gx7nQb9wPa8nfx3P1gYroLlkoc8JBYxjx45dGVSTIp5bLi+Sp9/mkdvoPLs0lKe/IeSWmWCcoInJZIaWA2U63uY630tnI4C5HP1hhv1p+D1/TKX5Cm8cue3IzKe8FNoEjUJ6KPHN7dHEZDIzQGUQMDvUAfQEtMuVVT/syo9m1DrwH3Vt4y4/KYDY2qK6bFpgTUwmM9MjRtc4wxt8E51cDU8e2kZ5pexkk3hqkwz04NjY2OVeRnVIYO/wPJ9bmKK2p9OnT/+HLyQdFtmb3tjw8PDfKd/r61buFuVTtIl6EmCOuHbZqU4WekuLp98H7bHa6vKcpw9ib5ela2EyJ7OlzNNvhv8J5tiNVrvn+U583coBeDv2LqPtEavd4kUDBcBfnIFPWYY01wCwmwfRRj+msjX/pMs0+phybL6uPCp5D4R5VpGOl9HxTkiTf0m2Hb52Au0Amh5bHamc7BJZedlwbS9YIxRi8eXST+MYWw295oyO0UG66n3ntCU7AvlDGE1HSGXxnO4aL+9zbK2jzW9t+wA8IlBKHlyY20yEMaRtJfESRu5DSZ8acwkZee4N30koIJ7aJBPyfZl2vQj0oN4Zq9UmvSylHvDKPmeyJ3seCjfNmTPnAeq5kxBtAr+Y/E+0e9U0F09tTib3oLS/z1ngEWS+7JQuSJUzhUKgGbkZr5YBfU/oeOonNTw89fwsWtrk5f3kX6Q925wMn9qcjDkimlbI/FHK2DiYM+IZ6iBLTknzdB2GDgBUc/Ww6l7P53oI1153MW1AT9uYbGuOJvPT953DlGWoHibV3cLaLaOUm9yeduKIZWF/fQP1RgCoY5qOZ+avAtGebPjIyEulG75syBb0SW8/zC3nRR1KZIR5dL1yDih7lWcTh5Rt8Lb5EUE+KxLWX1YFmc+RvRo2FJYt9JYwT78Lrx30QCyZOjzs7YGK9tfcuilb9Wm/GnYqN0CPV3gq1Yko6JCzmFvCzRGyndih/7iMATK5CqusQzBX4+9Q1HXkN2zcT2UfQt7Hayvhr0LuTeqPu3OsPLZI8hxQLpW9yiRjWcoq0Z5eRfDuFhbDdgD4q7F/X5ddRSTj5XWNSQ4x2Gr2KiLgAusAarUegjbR0RL4w44/rgudf0j4C5HRQUZghhmBRW6174UvG+nC8zo+Rz7vPJPpNTK5ZOlMV92euU2nydalK7JXQW6tAEne83yOXO7K7duUW5ia/ADxHH1oC1sPKWn+HmXuXpvUavwQ0Fyy0OeEIhh4bgUe9K9EDe1Jhl2LqHayMDXmUaGhA83Li1XmL3KPzJs3778q102WRxsFWhdQkXw00CIDM8nvWb0zCaSq7xZolYfqtrcereuxKvnWo1UeqtveerSux6rkzRN+9qReZaTpdusVagLtt+Pzzz//Eg4jyXWFw8nb2Ml9HenXtnlI7ccYH9JWzZ49+yT5hKMx6iv6sSWPZqmx0xPg3gBULnKnc2pdsNbQ55CbQkFP3CJz1wg8t1xeJE8jd5zsNzrP6qodpiHkcteTUCDrzQSTyQy1gjIdbHOd76U8Amh9Qx0G1NPwe/6YSvMV3jhy25GZT3kptAkahfRQ4pvbo4nJZAbgXHEIMDvUAfQEtMuVVT/syrnrMvxHXdu4csCdFEDKW1SXTQusiclkZoBidI0zvME30cnV8DbR8TbKKz0/m6tNMsg+OHfu3OQrtmRUdzajIndRc5QhvllGoVzQIAssts4DrHNAr87qmM4zmVlN6hjdBzUSuZN5bB2Edhldmc4zJ3OBchK543tTaeTO0s3y8Obt8KYmcsdrNYnckZuROzq/Aw/thsYc7RYvC1J1vrEmkTuKr1vtJi9m6FkMy+h8J6SVmvs0Dl87geawpsdWRyqL90S2Y9lwbS9YI2RiMpnOMsZWQ685o2N0kK563zltyY5A/hC8cCoNied0c4sQW1pMfmvbhzPST+4mJpNJjxha6TqRkftgLfTgwhwZeU6vTzOpTTJm4+SLQA/qnZFERixMoQd6bCGc7HnMyZtOnjz5AI3WSUjgFyOj6JyZXNtiGq0HfZ+zwCPIfIAid3j2SYZGcywXuYMnL+9HRtE5M7m2/TSaI6JphUwSucOzB00jYiKUIy+sCY+hAwDV6j2sum/zuR7CtT8EL5xKVYtpA3raymRbczSZn7JrYjKZHoXL3cLSHtn09rQTR+SOfCYmk5kBqiogdUzTCSjdRkIxHiZ6w5cN2YKaj9wB6noBI9xiRu64IyWRuxB8URnnvMx81BA3H7nj6XUGLZ7sRagK+NjaA5n7qzXK4eQvMDk57DTegBceLxSq35BE7nSEjFGNAgrAJHLHkyZXYRnWIRiPPMh8iz04b2Iep2dPbC6SHQ4ozUXusBdeRbYAbjvkr8b+fV12FTkcyGsKJYcYgO+QbQEOkzX09p4Vap0p6/ao+45W6yFIHtJJatjxx3WhOyPeWYiMDjICM8wILEJOq30vpN1Di89MZws0MUoH2vd6vEDHydYFqI2+Z+TWOkC5fdK6cns95RbQJj9AmJE7Dh3XhiBiygKaSxb6nFAEAw+uwIP+laih1Rw+NyN3PM9Chj+J3HFyP0JEuY3cRQzyzIj0rN6ZgRDXaws0zk/xUq1H430VJ9l6NM5P8VKtR+N9FSc52xLTxWsmk3V6aoe+6REZGI+ac1Te+NbpZYrQzWraMxX2Tv1q6EXzrm8CBeQmDN4CHakw3HTzAvp+BqO5P+gygSJ4BXQPt6y5/BruR5pGY9njlvQWe80x2nKf0SVfBHTSVre7lcJFk5Wp/QnId+nhrqJeyoH2aulj7FEus3zZ6L5E+TPQvyA9iEagLJ2NbmK3DlBdh98C5DKmxMMT3c5F3U73dwC/Bl4V0DJdfdqpXLSxQL+BsR9Ak4C63S+4d9enAfk3+N+DfgoVpTPzrld3/0Sncxu2/lCk6Pmx+6iidekHMq+c5BOdizsTHfODbI+cXbkYkOkncVtkkhvrUTzXucA01E3CMtcFbcdd+byAV1TUw68sagz5sR79Okp/DRWD8ovM2e8H9fspi2JSMvQxgrEe1dAXbVOXsNcu9Z0RY0mizyw0z1IuL5+G9O9m34NkSy+TC5se+p9jdC5kpatg/tA3AFDTJJt+DONNSG+7b0K/ZRFtBuRyyt+FKlPs0KuDfxRYexX+3UHb7ymLwiSgv4a+BLHFdbRraKV/BfoJRAJ6SYod+hNFNhjqU3gxbNcbJjbplampQOqZKpOs4GcsUB0UFgR6adEN9WMpo9e7AdssXga3bP9NlaKGnkHRHPx3qtVb+CfVn/Wyomv6/b3mgDIoH2UOfaig+2H4eg32kzT078QoRnkUQ6zMrlb+1yAtFB39/oynbyXnfd+zmKhm0kRnPRytdi0g7RLPQ3dCO6Aoj8bOUex1fgT5vfDzlDmUdLQVyaPlqdtZi4B050PXQFe4w0zhv/FGpidVAT0VSIevRL/5mwss0PHFC32BfPFkuett+KawL89L8zKgetrPQmEnqeIUFPSmWlJktwjosyhshSrPiUWG++TLqyOWbt9xJi5hmzF4j2W0hPdLbpnfLmlPmgb6S0nR0Fc9tF7N7/DW0z4Yn6TTZ+p76PvsL0ptoIc+9s0U5YmpFDKHfio77Nf2wHi0BdrvEBfptR4t8ky//Naj/XquSK/1aJFn+uWbp6c2ctevO9Fr5+hZOM9UNeeoJDm8XglN6+WOtXEK2mchNY95ANyEwi0o6Ao7nWkBfT9D3/dmOzU9iiBfMpIbpj7eTkvkjn703fQYfa8hzyUTaCClu332i0bQ3GhR31XvKrJYBTTU20/lKHQp9BLUR+SuL126qoqFJiKTP5g7z1F6i6FZRv4wJE/rS5776EWpIFXo6pNl9aLFiFZ4lvRvYW+ERiEl/Tu6A0kp/2MPLP1hSj9pH0r6J6tK6kt9qu8snugNvzhy1yFy1+k/cofu6oKB6GHHvpmKI3eTf1B1XWBVMSVRTNJny2mM3HU6aeSOYbtfFIMSGS3Q22JkY1d9eeSu01nqO2Ox3ejLQS4Pn4ZykTt4UUMfCzQ6ckfHUZE75PTZcjkUFbnLrS634rKrfgX8vZCVXoG5KmiQrigmHUJooxMcJS9c9VEexcAJhpSHN5O+EjcQuTNtp8wooIB8Bg2tUCtpqB8LGu4OylXFyxCICt/Ebk+DEblj6Incdc79yB1Dr5WZi9zBuxXS+75quNcjk0TueOjpj9zRueZndeSucyZyx0P7Q4zyQYjc5c652j0KU+GqZ4jm8PTTFrmjP117ltCnCdYEitKzKGxFo/qcaJqtz3QAT9H3iAmWhtzbKaYb9DZDdZNem5UJozlMsftopfGpFjCHPrJTReHqRe4if9vB6t+815tzxNKeIp6GPpsGZugHBqg59Fm3nwv1gfFoC7Tp6dJ6tPVo0x5o2l47R5v2qHl6ag8lZ+Hmdo6ehfNMVXOOOskryaftcuf61JV5nyv3ZEVANyE1I5E7+tUHubjIHYIzFrmj7zZyp8CYRqAsKahwFLoUqhv1S+wWzdGkMfMjidzBWwbVitwhX6bbf+QOw9shRTdGId1dNW8OuLLqIe2hfl+GF7aXlbXCFWeSjPpSn/r+3/eXkjZyhwdnJnJHx4ranfuRO0BqnmXTWUfucpPWfffJLqYxei5bFFXtI+h/FZLdD0PaBTTkegN6u6WLKRboCgzuDYx648pfgVYFbQIjCmWKyoeQ2+hkS4HG7qNhZA67PUkHibD93Z7W8oo+W7q/uSsXjPXoYcwUeUX8qvYyXd9W6tHYg/NgRO7w2GBE7gDaWOQOW1dBz0N3QjugqKBt7GLCXv5v7uDVjtyho4jdFS7/AEXueOL2b+5wQlHSnqy3WD5ZZ7+8lMlRFM7vgbF5G7kzXemYbeSujdyVzY+m2trIXVOe9HZij3lefsbyFmjTrv8/G796gVFW6usAAAAASUVORK5CYII=)}#kera-scoreboard-container .icon-close-white{background-position:-5px -5px;width:32px;height:32px}#kera-scoreboard-container .icon-close{background-position:-5px -47px;width:32px;height:32px}#kera-scoreboard-container .icon-gear-white{background-position:-5px -89px;width:32px;height:32px}#kera-scoreboard-container .icon-gear{background-position:-5px -131px;width:32px;height:32px}#kera-scoreboard-container .icon-score-green{background-position:-5px -173px;width:32px;height:32px}#kera-scoreboard-container .icon-score-white{background-position:-5px -215px;width:32px;height:32px}#kera-scoreboard-container .icon-score{background-position:-5px -257px;width:32px;height:32px}#kera-scoreboard-container .icon{display:inline-block}#kera-scoreboard-container .icon-small{zoom:.5}#kera-scoreboard-container .options-toggle{padding:3px;cursor:pointer;position:absolute;right:0;bottom:0;z-index:3;opacity:1;-webkit-transition:opacity 1s;transition:opacity 1s}#kera-scoreboard-container .options-toggle.hidden{opacity:0;display:inherit!important}#kera-scoreboard-container .options-toggle .hide{display:none!important;visibility:hidden}#kera-scoreboard-container .options-toggle .icon{vertical-align:bottom}")}});m.on("Options.saveOptions",function(){var e,t=this.get("statistics"),n=[];for(e in t)t[e].selected&&n.push(e);var r=this.get("options"),i=s(o,r)||null;o.selectedStatisticsKeys.join(",")!==n.join(",")&&(i.selectedStatisticsKeys=n),i&&i.showOptions&&delete i.showOptions,console.log("Saved Settings: ",i),a.setJson("options",i)}),m.on("Options.resetOptions",function(){a.setItem("options",null),this.reloadOptions()}),t.exports=m}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./components/options_component":10,"./components/scoreboard_component":14,"./decorators/movable":18,"./main-data":19,"./main-helpers":20,"./main-options":21,"./main.ract":23,"./util/getChanges":25,"./util/ractive-transitions-fly":26,"./util/storage":27,ractive:7}],23:[function(e,t){t.exports={v:1,t:[{t:4,n:50,r:"options.showScoreboard",f:[{t:7,e:"Scoreboard"}]},{t:4,n:50,r:"options.showOptions",f:[{t:7,e:"Options"}]},{t:7,e:"label",a:{"class":["options-toggle ",{t:2,x:{r:["mouseMoved"],s:'_0?"":"hidden"'}}]},f:[{t:7,e:"input",a:{type:"checkbox","class":"hide",checked:[{t:2,r:"options.showScoreboard"}]}}," ",{t:7,e:"span",a:{"class":"icon icon-score-green"}}]}]}},{}],24:[function(e,t){t.exports=function(e,t){var n,r={};for(n in e)e.hasOwnProperty(n)&&t(e[n])&&(r[n]=e[n]);return r}},{}],25:[function(e,t){t.exports=function n(e,t){var r,i={};for(r in t)e&&e[r]===t[r]||("object"==typeof t[r]?(c=n(e[r],t[r]))&&(i[r]=c):i[r]=t[r]);for(r in i)return i;return!1}},{}],26:[function(e,t){!function(n,r){"use strict";if("undefined"!=typeof t&&t.exports&&"function"==typeof e)r(e("ractive"));else if("function"==typeof define&&define.amd)define(["ractive"],r);else{if(!n.Ractive)throw new Error("Could not find Ractive! It must be loaded before the ractive-transitions-fly plugin");r(n.Ractive)}}("undefined"!=typeof window?window:this,function(e){"use strict";var t,n,r;r={duration:400,easing:"easeOut",opacity:0,x:-500,y:0},n=function(e){return 0===e||"string"==typeof e?e:e+"px"},t=function(e,t){var i,o,s,a;t=e.processParams(t,r),i=n(t.x),o=n(t.y),s={transform:"translate("+i+","+o+")",opacity:0},e.isIntro?(a=e.getStyle(["opacity","transform"]),e.setStyle(s)):a=s,e.animateStyle(a,t).then(e.complete)},e.transitions.fly=t})},{ractive:7}],27:[function(e,t){function n(e){return GM_getValue(e)}function r(e,t){GM_setValue(e,t)}function i(e){return JSON.parse(n(e)||null)}function o(e,t){r(e,JSON.stringify(t))}t.exports={getItem:n,setItem:r,getJson:i,setJson:o}},{}]},{},[1]);